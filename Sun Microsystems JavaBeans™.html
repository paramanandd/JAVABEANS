
<!-- saved from url=(0164)http://webcache.googleusercontent.com/search?q=cache:ftp://ftp.icm.edu.pl/packages/javasoft-docs/beans/beans.101.pdf&gws_rd=cr&ei=XffsV_fcEIyDvQTGpauIBQ&safe=active -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css">body { margin-left:0;margin-right:0;margin-top:0; }#google-cache-hdr {background:#f5f5f5 !important;font:13px arial,sans-serif !important;text-align:left !important;color:#202020 !important;border:0 !important;margin:0 !important;border-bottom:1px solid #cecece !important;line-height:16px !important ;padding:16px 28px 24px 28px !important;}#google-cache-hdr * {display:inline !important;font:inherit !important;text-align:inherit !important;color:inherit !important;line-height:inherit !important;background:none !important;border:0 !important;margin:0 !important;padding:0 !important;letter-spacing:0 !important;}#google-cache-hdr a {text-decoration:none !important;color:#1a0dab !important;}#google-cache-hdr a:hover { text-decoration:underline !important; }#google-cache-hdr a:visited { color:#609 !important; }#google-cache-hdr div { display:block !important;margin-top:4px !important; }#google-cache-hdr b {font-weight:bold !important;display:inline-block !important;direction:ltr !important;}pre { word-wrap:break-word; }pre { white-space:pre-wrap; }</style></head><body bgcolor="#ffffff" vlink="blue" link="blue"><div id="google-cache-hdr" dir="ltr"><div>This is the html version of the file <a href="ftp://ftp.icm.edu.pl/packages/javasoft-docs/beans/beans.101.pdf" dir="ltr">ftp://ftp.icm.edu.pl/packages/javasoft-docs/beans/beans.101.pdf</a>.<br><b>Google</b> automatically generates html versions of documents as we crawl the web.</div></div><div style="position:relative;margin:8px;">



<meta name="CreationDate" content="D:19970724082150-0700">
<meta name="Producer" content="Acrobat Distiller Command 2.1 for SunOS/Solaris (SPARC)">
<title>Sun Microsystems JavaBeans™</title>

<table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="1"><b>Page 1</b></a></font></td></tr></tbody></table><font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:643;left:162"><nobr>This is the JavaBeans<font face="Symbol">™ </font>API specification. It describes the core specification for the JavaBeans</nobr></div>
<div style="position:absolute;top:664;left:162"><nobr>component architecture.</nobr></div>
<div style="position:absolute;top:694;left:162"><nobr>This version (1.01) of the specification describes the JavaBeans APIs that are present in JDK</nobr></div>
<div style="position:absolute;top:715;left:162"><nobr>1.1. These included some very minor API additions to the 1.00-A specification of December</nobr></div>
<div style="position:absolute;top:736;left:162"><nobr>1996. This version of the spec has also been updated to include various minor clarifications of</nobr></div>
<div style="position:absolute;top:757;left:162"><nobr>various sections of the 1.00 spec, and to include some additional guidance for component de-</nobr></div>
<div style="position:absolute;top:778;left:162"><nobr>velopers. See the change history on page 112.</nobr></div>
<div style="position:absolute;top:838;left:162"><nobr>Because of the volume of interest in JavaBeans we can’t normally respond individually to re-</nobr></div>
<div style="position:absolute;top:859;left:162"><nobr>viewer comments, but we do carefully read and consider all reviewer input. Please send com-</nobr></div>
<div style="position:absolute;top:880;left:162"><nobr>ments to java-beans@java.sun.com.</nobr></div>
<div style="position:absolute;top:940;left:162"><nobr>To stay in touch with the JavaBeans project, visit our web site at:</nobr></div>
<div style="position:absolute;top:970;left:284"><nobr>http://java.sun.com/beans</nobr></div>
</span></font>
<font size="5" face="Times"><span style="font-size:34px;font-family:Times">
<div style="position:absolute;top:404;left:351"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:458;left:649"><nobr><i>JavaBeans</i><font face="Symbol">™</font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:339;left:152"><nobr>microsystems</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:1201;left:633"><nobr><i>Graham Hamilton (Editor)</i></nobr></div>
<div style="position:absolute;top:1234;left:731"><nobr><i>July 24, 1997</i></nobr></div>
<div style="position:absolute;top:1201;left:95"><nobr><i>Version 1.01</i></nobr></div>
</span></font>

<div style="position:absolute;top:1363;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="2"><b>Page 2</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:1417;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:2487;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:2487;left:455"><nobr><i>2</i></nobr></div>
<div style="position:absolute;top:2487;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:1669;left:162"><nobr>Copyright © 1996, 1997 by Sun Microsystems Inc.</nobr></div>
<div style="position:absolute;top:1694;left:162"><nobr>2550 Garcia Avenue, Mountain View, CA 94043.</nobr></div>
<div style="position:absolute;top:1720;left:162"><nobr>All rights reserved.</nobr></div>
<div style="position:absolute;top:1949;left:162"><nobr>RESTRICTED RIGHTS: Use, duplication or disclosure by the government is subject to the restrictions as set forth</nobr></div>
<div style="position:absolute;top:1967;left:162"><nobr>in subparagraph (c) (1) (ii) of the Rights in Technical Data and Computer Software Clause as DFARS 252.227-</nobr></div>
<div style="position:absolute;top:1985;left:162"><nobr>7013 and FAR 52.227-19.</nobr></div>
<div style="position:absolute;top:2087;left:162"><nobr>Sun, Sun Microsystems, the Sun logo, Java, JavaBeans, JDBC, and JavaSoft, are trademarks or registered trade-</nobr></div>
<div style="position:absolute;top:2105;left:162"><nobr>marks of Sun Microsystems, Inc.</nobr></div>
<div style="position:absolute;top:2182;left:162"><nobr>THIS PUBLICATION IS PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS</nobr></div>
<div style="position:absolute;top:2200;left:162"><nobr>OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MECHANTABIL-</nobr></div>
<div style="position:absolute;top:2218;left:162"><nobr>ITY, FITNESS FOR A PARTICULAR USE, OR NON-INFRINGEMENT.</nobr></div>
<div style="position:absolute;top:2243;left:162"><nobr>THIS PUBLICATION COULD INCLUDE TECHNICAL INACCURACIES OR TYPOGRAPHICAL ER-</nobr></div>
<div style="position:absolute;top:2261;left:162"><nobr>RORS. CHANGES ARE PERIODICALLY ADDED TO THE INFORMATION HEREIN; THESE CHANGES</nobr></div>
<div style="position:absolute;top:2279;left:162"><nobr>WILL BE INCORPORATED IN NEW EDITIONS OF THE PUBLICATION. SUN MICROSYSTEMS, INC.,</nobr></div>
<div style="position:absolute;top:2297;left:162"><nobr>MAY MAKE NEW IMPROVEMENTS AND/OR CHANGES IN THE PRODUCT(S) AND/OR THE PRO-</nobr></div>
<div style="position:absolute;top:2315;left:162"><nobr>GRAM(S) DESCRIBED IN THIS PUBLICATION AT ANY TIME.</nobr></div>
</span></font>

<div style="position:absolute;top:2551;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="3"><b>Page 3</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:2605;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:3675;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:3675;left:455"><nobr><i>3</i></nobr></div>
<div style="position:absolute;top:3675;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:2659;left:405"><nobr><b>Contents</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:2716;left:189"><nobr>Acknowledgments. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5</nobr></div>
<div style="position:absolute;top:2752;left:189"><nobr>Related Documents . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6</nobr></div>
<div style="position:absolute;top:2788;left:189"><nobr>1   Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:2813;left:232"><nobr>1.1  Component granularity . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7</nobr></div>
<div style="position:absolute;top:2831;left:232"><nobr>1.2  Portability . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7</nobr></div>
<div style="position:absolute;top:2849;left:232"><nobr>1.3  A uniform, high-quality API . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8</nobr></div>
<div style="position:absolute;top:2867;left:232"><nobr>1.4  Simplicity . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:2900;left:189"><nobr>2   Fundamentals . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:2926;left:232"><nobr>2.1  What is a Bean? . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9</nobr></div>
<div style="position:absolute;top:2944;left:232"><nobr>2.2  Properties, events, and methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10</nobr></div>
<div style="position:absolute;top:2962;left:232"><nobr>2.3  Design time v. run-time . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10</nobr></div>
<div style="position:absolute;top:2980;left:232"><nobr>2.4  Security Issues . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11</nobr></div>
<div style="position:absolute;top:2998;left:232"><nobr>2.5  Local activation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11</nobr></div>
<div style="position:absolute;top:3016;left:232"><nobr>2.6  Java Beans as links to remote state . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12</nobr></div>
<div style="position:absolute;top:3034;left:232"><nobr>2.7  Invisible beans . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13</nobr></div>
<div style="position:absolute;top:3052;left:232"><nobr>2.8  Multi-Threading . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14</nobr></div>
<div style="position:absolute;top:3070;left:232"><nobr>2.9  Internationalization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14</nobr></div>
<div style="position:absolute;top:3088;left:232"><nobr>2.10  Alternate type views of a bean. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:3121;left:189"><nobr>3   Scenarios . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3146;left:232"><nobr>3.1  Using an application builder to construct an Applet . . . . . . . . . . . . . . . . . . . 16</nobr></div>
<div style="position:absolute;top:3164;left:232"><nobr>3.2  Using beans in a hand-written Applet . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:3197;left:189"><nobr>4   Windowing Environment Issues . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3223;left:232"><nobr>4.1  Uniform Data Transfer mechanism . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21</nobr></div>
<div style="position:absolute;top:3241;left:232"><nobr>4.2  Clipboard/Selection services . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:3274;left:189"><nobr>5   Persistent Storage. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3299;left:232"><nobr>5.1  Goals . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22</nobr></div>
<div style="position:absolute;top:3317;left:232"><nobr>5.2  A composite solution . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22</nobr></div>
<div style="position:absolute;top:3335;left:232"><nobr>5.3  What should be saved . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22</nobr></div>
<div style="position:absolute;top:3353;left:232"><nobr>5.4  Persistence though generated initialization code . . . . . . . . . . . . . . . . . . . . . 22</nobr></div>
<div style="position:absolute;top:3371;left:232"><nobr>5.5  Summary of persistence . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:3404;left:189"><nobr>6   Events. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3430;left:232"><nobr>6.1  Goals . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24</nobr></div>
<div style="position:absolute;top:3448;left:232"><nobr>6.2  Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24</nobr></div>
<div style="position:absolute;top:3466;left:232"><nobr>6.3  Event State Objects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25</nobr></div>
<div style="position:absolute;top:3484;left:232"><nobr>6.4  EventListener Interfaces . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27</nobr></div>
<div style="position:absolute;top:3502;left:232"><nobr>6.5  Event Listener Registration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28</nobr></div>
<div style="position:absolute;top:3520;left:232"><nobr>6.6  Event Delivery Semantics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30</nobr></div>
<div style="position:absolute;top:3538;left:232"><nobr>6.7  Event Adaptors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:3571;left:189"><nobr>7   Properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3596;left:232"><nobr>7.1  Accessor methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40</nobr></div>
<div style="position:absolute;top:3614;left:232"><nobr>7.2  Indexed properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40</nobr></div>
</span></font>

<div style="position:absolute;top:3739;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="4"><b>Page 4</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3793;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:4863;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:4863;left:455"><nobr><i>4</i></nobr></div>
<div style="position:absolute;top:4863;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:3847;left:232"><nobr>7.3  Exceptions on accessor methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41</nobr></div>
<div style="position:absolute;top:3865;left:232"><nobr>7.4  Bound and constrained properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:3898;left:189"><nobr>8   Introspection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:3923;left:232"><nobr>8.1  Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54</nobr></div>
<div style="position:absolute;top:3941;left:232"><nobr>8.2  Overview of <i>Design Patterns </i>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54</nobr></div>
<div style="position:absolute;top:3959;left:232"><nobr>8.3  Design Patterns for Properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55</nobr></div>
<div style="position:absolute;top:3977;left:232"><nobr>8.4  Design Patterns for Events . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56</nobr></div>
<div style="position:absolute;top:3995;left:232"><nobr>8.5  Design Patterns for Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56</nobr></div>
<div style="position:absolute;top:4013;left:232"><nobr>8.6  Explicit Specification using a BeanInfo class . . . . . . . . . . . . . . . . . . . . . . . . 56</nobr></div>
<div style="position:absolute;top:4031;left:232"><nobr>8.7  Analyzing a Bean . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57</nobr></div>
<div style="position:absolute;top:4049;left:232"><nobr>8.8  Capitalization of inferred names. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57</nobr></div>
<div style="position:absolute;top:4067;left:232"><nobr>8.9  Security . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:4100;left:189"><nobr>9   Customization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:4126;left:232"><nobr>9.1  Storing customized components . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83</nobr></div>
<div style="position:absolute;top:4144;left:232"><nobr>9.2  Property editors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83</nobr></div>
<div style="position:absolute;top:4162;left:232"><nobr>9.3  Customizers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:4195;left:189"><nobr>10   Miscellaneous . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:4220;left:232"><nobr>10.1  java.beans.Beans . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96</nobr></div>
<div style="position:absolute;top:4238;left:232"><nobr>10.2  java.beans.Visibility . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96</nobr></div>
<div style="position:absolute;top:4256;left:232"><nobr>10.3  Instantiating a bean . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96</nobr></div>
<div style="position:absolute;top:4274;left:232"><nobr>10.4  Obtaining different type views of a Java Bean . . . . . . . . . . . . . . . . . . . . . . 97</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:4307;left:189"><nobr>11   Packaging. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:4333;left:232"><nobr>11.1  Goals and Non Goals . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102</nobr></div>
<div style="position:absolute;top:4351;left:232"><nobr>11.2  Overview of JAR files . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102</nobr></div>
<div style="position:absolute;top:4369;left:232"><nobr>11.3  Content . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102</nobr></div>
<div style="position:absolute;top:4387;left:232"><nobr>11.4  Names of Beans . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103</nobr></div>
<div style="position:absolute;top:4405;left:232"><nobr>11.5  Format of Manifest File . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103</nobr></div>
<div style="position:absolute;top:4423;left:232"><nobr>11.6  Manifest headers used with JavaBeans . . . . . . . . . . . . . . . . . . . . . . . . . . . 104</nobr></div>
<div style="position:absolute;top:4441;left:232"><nobr>11.7  Accessing Resource Files . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 105</nobr></div>
<div style="position:absolute;top:4459;left:232"><nobr>11.8  Persistence representation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106</nobr></div>
<div style="position:absolute;top:4477;left:232"><nobr>11.9  Help Documentation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 106</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:4510;left:189"><nobr>Appendix A:   Transitional Beans under JDK 1.0.2 . . . . . . . . . . . . . . . . 107</nobr></div>
<div style="position:absolute;top:4546;left:189"><nobr>Appendix B:   Future directions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111</nobr></div>
<div style="position:absolute;top:4582;left:189"><nobr>Appendix C:   Change History . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112</nobr></div>
<div style="position:absolute;top:4618;left:189"><nobr>Index of Classes and Interfaces. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114</nobr></div>
</span></font>

<div style="position:absolute;top:4927;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="5"><b>Page 5</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:4981;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:4981;left:729"><nobr><i>Acknowledgments</i></nobr></div>
<div style="position:absolute;top:6051;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:6051;left:455"><nobr><i>5</i></nobr></div>
<div style="position:absolute;top:6051;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:5035;left:357"><nobr><b>Acknowledgments</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:5113;left:162"><nobr>The JavaBeans APIs are a broad effort that include contributions from numerous groups at Sun</nobr></div>
<div style="position:absolute;top:5134;left:162"><nobr>and at partner companies. Many of the APIs referenced here have broader applicability than</nobr></div>
<div style="position:absolute;top:5155;left:162"><nobr>simply JavaBeans, and we’d like to thank their authors for helping to align them with the Jav-</nobr></div>
<div style="position:absolute;top:5176;left:162"><nobr>aBeans framework.</nobr></div>
<div style="position:absolute;top:5206;left:162"><nobr>We would like to thank everyone who has contributed, but especially those authors who have</nobr></div>
<div style="position:absolute;top:5227;left:162"><nobr>drafted or proposed major chunks of the APIs described here, including Tom Ball, Jeff Bonar,</nobr></div>
<div style="position:absolute;top:5248;left:162"><nobr>Larry Cable, Amy Fowler, Graham Hamilton, Noah Mendelsohn, Eduardo Pelegri-Llopart,</nobr></div>
<div style="position:absolute;top:5269;left:162"><nobr>Carl Quinn, Jim Rhyne, Roger Riggs, John Rose, Nakul Saraiya, and Blake Sullivan.</nobr></div>
<div style="position:absolute;top:5299;left:162"><nobr>We’d also like to thank the many reviewers who have provided comments and suggestions on</nobr></div>
<div style="position:absolute;top:5320;left:162"><nobr>the various drafts of the specs.  The public review process was extremely valuable and the</nobr></div>
<div style="position:absolute;top:5341;left:162"><nobr>many thoughtful comments we received helped to substantially improve the JavaBeans design.</nobr></div>
</span></font>

<div style="position:absolute;top:6115;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="6"><b>Page 6</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:6169;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:6169;left:720"><nobr><i>Related Documents</i></nobr></div>
<div style="position:absolute;top:7239;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:7239;left:455"><nobr><i>6</i></nobr></div>
<div style="position:absolute;top:7239;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:6223;left:350"><nobr><b>Related Documents</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:6271;left:162"><nobr>This document describes the main APIs for JavaBeans. However the JavaBeans APIs are also</nobr></div>
<div style="position:absolute;top:6292;left:162"><nobr>closely related to other new Java core APIs which are described in separate documents.</nobr></div>
<div style="position:absolute;top:6322;left:162"><nobr>For example, JavaBeans uses the new Java Object Serialization API as its main persistence</nobr></div>
<div style="position:absolute;top:6343;left:162"><nobr>mechanism, and that mechanism has been designed to work well with beans. Similarly, Java-</nobr></div>
<div style="position:absolute;top:6364;left:162"><nobr>Beans makes heavy use of the new Java Core Reflection API, etc.</nobr></div>
<div style="position:absolute;top:6394;left:162"><nobr>For the current status and pointers to on-line copies, check the “Related APIs” link on our Java-</nobr></div>
<div style="position:absolute;top:6415;left:162"><nobr>Beans home page or go to:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:6446;left:211"><nobr>http://java.sun.com/beans/related.html</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:6487;left:173"><nobr>• “<i>The Java Core Reflection API</i>”. This describes the low-level reflection API that is</nobr></div>
<div style="position:absolute;top:6508;left:189"><nobr>used to provide the Introspection information described in Section 8.</nobr></div>
<div style="position:absolute;top:6553;left:173"><nobr>• “<i>Java Object Serialization</i>”. This describes the automatic Java Object Serialization</nobr></div>
<div style="position:absolute;top:6574;left:189"><nobr>mechanism that is the default mechanism for JavaBeans persistence (see Section 5).</nobr></div>
<div style="position:absolute;top:6619;left:173"><nobr>• “<i>JDK 1.1 - AWT Enhancements</i>”. Changes to AWT, including support for drag-and-</nobr></div>
<div style="position:absolute;top:6640;left:189"><nobr>drop and cut-and-paste (see Section 4).</nobr></div>
<div style="position:absolute;top:6685;left:172"><nobr>• “<i>JAR file specification”</i>. This is the standard packaging mechanism for JavaBeans.</nobr></div>
<div style="position:absolute;top:6706;left:189"><nobr>(See Section 11.)</nobr></div>
<div style="position:absolute;top:6751;left:172"><nobr>• “<i>Remote Method Invocation</i>”. This specifies the Java RMI distributed programming</nobr></div>
<div style="position:absolute;top:6772;left:189"><nobr>mechanism.</nobr></div>
<div style="position:absolute;top:6817;left:172"><nobr>• <i>“Java IDL”</i>. This describes the Java mapping to the industry standard CORBA IDL</nobr></div>
<div style="position:absolute;top:6838;left:189"><nobr>system.</nobr></div>
</span></font>

<div style="position:absolute;top:7303;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="7"><b>Page 7</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:7357;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:7357;left:762"><nobr><i>Introduction</i></nobr></div>
<div style="position:absolute;top:8427;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:8427;left:455"><nobr><i>7</i></nobr></div>
<div style="position:absolute;top:8427;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:7411;left:122"><nobr><b>1 Introduction</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:7459;left:162"><nobr>The goal of the JavaBeans APIs is to define a <i>software component model </i>for Java, so that third</nobr></div>
<div style="position:absolute;top:7480;left:162"><nobr>party ISVs can create and ship Java components that can be composed together into applica-</nobr></div>
<div style="position:absolute;top:7501;left:162"><nobr>tions by end users.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:7540;left:81"><nobr><b>1.1 Component granularity</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:7573;left:162"><nobr>There are a range of different kinds of JavaBeans components:</nobr></div>
<div style="position:absolute;top:7603;left:189"><nobr>1. Some JavaBean components will be used as building blocks in composing applications.</nobr></div>
<div style="position:absolute;top:7624;left:216"><nobr>So a user may be using some kind of builder tool to connect together and customize a</nobr></div>
<div style="position:absolute;top:7645;left:216"><nobr>set of JavaBean components s to act as an application. Thus for example, an AWT</nobr></div>
<div style="position:absolute;top:7666;left:216"><nobr>button would be a Bean.</nobr></div>
<div style="position:absolute;top:7696;left:189"><nobr>2. Some JavaBean components will be more like regular applications, which may then be</nobr></div>
<div style="position:absolute;top:7717;left:216"><nobr>composed together into compound documents. So a spreadsheet Nean might be</nobr></div>
<div style="position:absolute;top:7738;left:216"><nobr>embedded inside a Web page.</nobr></div>
<div style="position:absolute;top:7768;left:162"><nobr>These two aspects overlap. For example a spreadsheet might live within a composite applica-</nobr></div>
<div style="position:absolute;top:7789;left:162"><nobr>tion as well as within a more normal compound document. So there is more of a continuum</nobr></div>
<div style="position:absolute;top:7810;left:162"><nobr>than a sharp cutoff between “composite applications” and “compound documents”.</nobr></div>
<div style="position:absolute;top:7840;left:162"><nobr>The design centre for beans ranges from small controls up through simple compound docu-</nobr></div>
<div style="position:absolute;top:7861;left:162"><nobr>ments such as Web pages. However we are not currently trying to provide the kind of high-end</nobr></div>
<div style="position:absolute;top:7882;left:162"><nobr>document integration that is typical of full function document systems such as ClarisWorks or</nobr></div>
<div style="position:absolute;top:7903;left:162"><nobr>Microsoft Office. Thus we provide APIs that are analogous to (say) the OLE Control or Ac-</nobr></div>
<div style="position:absolute;top:7924;left:162"><nobr>tiveX APIs, but we to do not try to provide the full range of high-end document APIs provided</nobr></div>
<div style="position:absolute;top:7945;left:162"><nobr>by (for example) OpenDoc. However, we do intend to allow beans to be embedded as compo-</nobr></div>
<div style="position:absolute;top:7966;left:162"><nobr>nents in high-end compound documents, and we also expect that some key document suite</nobr></div>
<div style="position:absolute;top:7987;left:162"><nobr>components (such as word processors and spreadsheets) will also be supported as JavaBean</nobr></div>
<div style="position:absolute;top:8008;left:162"><nobr>components.</nobr></div>
<div style="position:absolute;top:8038;left:162"><nobr>In general we expect that most JavaBeans components will be small to medium sized controls</nobr></div>
<div style="position:absolute;top:8059;left:162"><nobr>and that we should make the simple cases easy and provide reasonable defaults for as much</nobr></div>
<div style="position:absolute;top:8080;left:162"><nobr>behaviour as possible.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:8119;left:81"><nobr><b>1.2 Portability</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:8152;left:162"><nobr>One of the main goals of the JavaBeans architecture is to provide a platform neutral component</nobr></div>
<div style="position:absolute;top:8173;left:162"><nobr>architecture. When a ean is nested inside another Bean then we will provide a full functionality</nobr></div>
<div style="position:absolute;top:8194;left:162"><nobr>implementation on all platforms. However, at the top level when the root Bean is embedded in</nobr></div>
<div style="position:absolute;top:8215;left:162"><nobr>some platform specific container (such as Word or Visual Basic or ClarisWorks or Netscape</nobr></div>
<div style="position:absolute;top:8236;left:162"><nobr>Navigator) then the JavaBeans APIs should be integrated into the platform’s local component</nobr></div>
<div style="position:absolute;top:8257;left:162"><nobr>architecture.</nobr></div>
<div style="position:absolute;top:8287;left:162"><nobr>For example, this means that on the Microsoft platforms the JavaBeans APIs will be bridged</nobr></div>
<div style="position:absolute;top:8308;left:162"><nobr>through into COM and ActiveX. Similarly, it will be possible to treat a bean as a Live Object</nobr></div>
<div style="position:absolute;top:8329;left:162"><nobr>(née OpenDoc) part, or to integrate a bean with LiveConnect inside Netscape Navigator.</nobr></div>
</span></font>

<div style="position:absolute;top:8491;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="8"><b>Page 8</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:8545;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:8545;left:762"><nobr><i>Introduction</i></nobr></div>
<div style="position:absolute;top:9615;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:9615;left:455"><nobr><i>8</i></nobr></div>
<div style="position:absolute;top:9615;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:8599;left:162"><nobr>So a single Bean should be capable of running in a wide range of different environments. With-</nobr></div>
<div style="position:absolute;top:8620;left:162"><nobr>in each target environment it should be able to fire events, service method invocations, etc., just</nobr></div>
<div style="position:absolute;top:8641;left:162"><nobr>like any other component.</nobr></div>
<div style="position:absolute;top:8671;left:162"><nobr>We do not specifically discuss the different bridges as part of this document. The existence of</nobr></div>
<div style="position:absolute;top:8692;left:162"><nobr>the bridges is transparent to JavaBeans developers and it is the bridges’ responsibility to take</nobr></div>
<div style="position:absolute;top:8713;left:162"><nobr>the JavaBeans APIs defined in this document and bridge them through to the platform specific</nobr></div>
<div style="position:absolute;top:8734;left:162"><nobr>component architecture.</nobr></div>
<div style="position:absolute;top:8764;left:162"><nobr>However the need to bridge to these other component models (notably OpenDoc, OLE/COM/</nobr></div>
<div style="position:absolute;top:8785;left:162"><nobr>ActiveX, and LiveConnect) has been one of the constraints in designing the JavaBeans APIs.</nobr></div>
<div style="position:absolute;top:8806;left:162"><nobr>We have been careful to ensure that the various beans APIs can be cleanly converted to these</nobr></div>
<div style="position:absolute;top:8827;left:162"><nobr>three main component models.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:8866;left:81"><nobr><b>1.3 A uniform, high-quality API</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:8899;left:162"><nobr>Different platforms will vary in their ability to support the full JavaBean APIs. However when-</nobr></div>
<div style="position:absolute;top:8920;left:162"><nobr>ever a platform is unable to provide the full functionality it must provide some reasonable,</nobr></div>
<div style="position:absolute;top:8941;left:162"><nobr>harmless default instead.</nobr></div>
<div style="position:absolute;top:8971;left:162"><nobr>So for example, if a platform doesn’t support menubar-merging then when a Bean provides a</nobr></div>
<div style="position:absolute;top:8992;left:162"><nobr>menubar it may pop up above the component, rather than being merged into the containing doc-</nobr></div>
<div style="position:absolute;top:9013;left:162"><nobr>ument’s menubar.</nobr></div>
<div style="position:absolute;top:9043;left:162"><nobr>This means that JavaBeans component writers can program to a consistent set of APIs and trust</nobr></div>
<div style="position:absolute;top:9064;left:162"><nobr>them to work everywhere. We don’t want bean implementors to have to do checks to discover</nobr></div>
<div style="position:absolute;top:9085;left:162"><nobr>which facilities are supported on their current platform.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:9124;left:81"><nobr><b>1.4 Simplicity</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:9157;left:162"><nobr>We would like to keep the JavaBeans APIs relatively simple. We will focus on making small</nobr></div>
<div style="position:absolute;top:9178;left:162"><nobr>lightweight components easy to implement and use, while making heavyweight components</nobr></div>
<div style="position:absolute;top:9199;left:162"><nobr>possible.</nobr></div>
<div style="position:absolute;top:9229;left:162"><nobr>As a general rule we don’t want to invent an enormous java.beans.Everything class that people</nobr></div>
<div style="position:absolute;top:9250;left:162"><nobr>have to inherit from. Instead we’d like the JavaBeans runtimes to provide default behaviour for</nobr></div>
<div style="position:absolute;top:9271;left:162"><nobr>“normal” objects, but to allow objects to override a given piece of default behaviour by inher-</nobr></div>
<div style="position:absolute;top:9292;left:162"><nobr>iting from some specific java.beans.something interface.</nobr></div>
<div style="position:absolute;top:9322;left:162"><nobr>One of our goals is that people should be able to learn the basic JavaBeans concepts very quick-</nobr></div>
<div style="position:absolute;top:9343;left:162"><nobr>ly so that they can start writing and using simple components with very little effort and then</nobr></div>
<div style="position:absolute;top:9364;left:162"><nobr>slowly progress to using the more sophisticated features of the API.</nobr></div>
</span></font>

<div style="position:absolute;top:9679;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="9"><b>Page 9</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:9733;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:9733;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:10803;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:10803;left:455"><nobr><i>9</i></nobr></div>
<div style="position:absolute;top:10803;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:9787;left:122"><nobr><b>2 Fundamentals</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:9835;left:81"><nobr><b>2.1 What is a Bean?</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:9868;left:162"><nobr>Let's start with an initial definition and then refine it:</nobr></div>
<div style="position:absolute;top:9898;left:211"><nobr><b>“A Java Bean is a reusable software component that can be manipulated visually</b></nobr></div>
<div style="position:absolute;top:9919;left:211"><nobr><b>in a builder tool.”</b></nobr></div>
<div style="position:absolute;top:9949;left:162"><nobr>This covers a wide range of different possibilities.</nobr></div>
<div style="position:absolute;top:9979;left:162"><nobr>The builder tools may include web page builders, visual application builders, GUI layout build-</nobr></div>
<div style="position:absolute;top:10000;left:162"><nobr>ers, or even server application builders. Sometimes the “builder tool” may simply be a docu-</nobr></div>
<div style="position:absolute;top:10021;left:162"><nobr>ment editor that is including some beans as part of a compound document.</nobr></div>
<div style="position:absolute;top:10051;left:162"><nobr>Some Java Beans may be simple GUI elements such as buttons and sliders. Other Java Beans</nobr></div>
<div style="position:absolute;top:10072;left:162"><nobr>may be sophisticated visual software components such as database viewers, or data feeds.</nobr></div>
<div style="position:absolute;top:10093;left:162"><nobr>Some Java Beans may have no GUI appearance of their own, but may still be composed togeth-</nobr></div>
<div style="position:absolute;top:10114;left:162"><nobr>er visually using an application builder.</nobr></div>
<div style="position:absolute;top:10144;left:162"><nobr>Some builder tools may operate entirely visually, allowing the direct plugging together of Java</nobr></div>
<div style="position:absolute;top:10165;left:162"><nobr>Beans. Other builders may enable users to conveniently write Java classes that interact with and</nobr></div>
<div style="position:absolute;top:10186;left:162"><nobr>control a set of beans. Other builders may provide a simple scripting language to allow easy</nobr></div>
<div style="position:absolute;top:10207;left:162"><nobr>high-level scripting of a set of beans.</nobr></div>
<div style="position:absolute;top:10237;left:162"><nobr>Individual Java Beans will vary in the functionality they support, but the typical unifying fea-</nobr></div>
<div style="position:absolute;top:10258;left:162"><nobr>tures that distinguish a Java Bean are:</nobr></div>
<div style="position:absolute;top:10288;left:172"><nobr>• Support for “introspection” so that a builder tool can analyze how a bean works</nobr></div>
<div style="position:absolute;top:10318;left:172"><nobr>• Support for “customization” so that when using an application builder a user can</nobr></div>
<div style="position:absolute;top:10339;left:189"><nobr>customize the appearance and behaviour of a bean.</nobr></div>
<div style="position:absolute;top:10369;left:172"><nobr>• Support for “events” as a simple communication metaphor than can be used to connect</nobr></div>
<div style="position:absolute;top:10390;left:189"><nobr>up beans.</nobr></div>
<div style="position:absolute;top:10420;left:172"><nobr>• Support for “properties”, both for customization and for programmatic use.</nobr></div>
<div style="position:absolute;top:10450;left:172"><nobr>• Support for persistence, so that a bean can be customized in an application builder and</nobr></div>
<div style="position:absolute;top:10471;left:189"><nobr>then have its customized state saved away and reloaded later.</nobr></div>
<div style="position:absolute;top:10501;left:162"><nobr>A bean is not required to inherit from any particular base class or interface. Visible beans must</nobr></div>
<div style="position:absolute;top:10522;left:162"><nobr>inherit from java.awt.Component so that they can be added to visual containers, but invisible</nobr></div>
<div style="position:absolute;top:10543;left:162"><nobr>beans (see 2.7 below) aren’t required to do this.</nobr></div>
<div style="position:absolute;top:10573;left:162"><nobr>Note that while beans are primarily targeted at builder tools they are also entirely usable by hu-</nobr></div>
<div style="position:absolute;top:10594;left:162"><nobr>man programmers. All the key APIs such as events, properties, and persistence, have been de-</nobr></div>
<div style="position:absolute;top:10615;left:162"><nobr>signed to work well both for human programmers and for builder tools.</nobr></div>
<div style="position:absolute;top:10645;left:162"><nobr>Many beans will have a strong visual aspect, in both the application builder and in the final con-</nobr></div>
<div style="position:absolute;top:10666;left:162"><nobr>structed application, but while this is common it is not required.</nobr></div>
</span></font>

<div style="position:absolute;top:10867;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="10"><b>Page 10</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:10921;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:10921;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:11991;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:11991;left:452"><nobr><i>10</i></nobr></div>
<div style="position:absolute;top:11991;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:10975;left:99"><nobr><b>2.1.1</b></nobr></div>
<div style="position:absolute;top:10975;left:162"><nobr><b>Beans v. Class Libraries</b></nobr></div>
<div style="position:absolute;top:11005;left:162"><nobr>Not all useful software modules should necessarily turn into beans. Beans are appropriate for</nobr></div>
<div style="position:absolute;top:11026;left:162"><nobr>software components that can be visually manipulated and customized to achieve some effect.</nobr></div>
<div style="position:absolute;top:11047;left:162"><nobr>Class libraries are an appropriate way of providing functionality that is useful to programmers,</nobr></div>
<div style="position:absolute;top:11068;left:162"><nobr>but which doesn't benefit from visual manipulation.</nobr></div>
<div style="position:absolute;top:11098;left:162"><nobr>So for example it makes sense to provide the JDBC database access API as a class library rather</nobr></div>
<div style="position:absolute;top:11119;left:162"><nobr>than as a bean, because JDBC is essentially a programmatic API and not something that can be</nobr></div>
<div style="position:absolute;top:11140;left:162"><nobr>directly presented for visual manipulation. However it does make sense to write database ac-</nobr></div>
<div style="position:absolute;top:11161;left:162"><nobr>cess beans on top of JDBC. So for example you might write a “select” bean that at customiza-</nobr></div>
<div style="position:absolute;top:11182;left:162"><nobr>tion time helped a user to compose a select statement, and then when the application is run uses</nobr></div>
<div style="position:absolute;top:11203;left:162"><nobr>JDBC to run the select statement and display the results.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:11242;left:81"><nobr><b>2.2 Properties, events, and methods</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:11275;left:162"><nobr>The three most important features of a Java Bean are the set of <i>properties </i>it exposes, the set of</nobr></div>
<div style="position:absolute;top:11296;left:162"><nobr><i>methods </i>it allows other components to call, and the set of <i>events </i>it fires.</nobr></div>
<div style="position:absolute;top:11326;left:162"><nobr><i>Properties </i>are described in more detail in Section 7. Basically properties are named attributes</nobr></div>
<div style="position:absolute;top:11347;left:162"><nobr>associated with a bean that can be read or written by calling appropriate methods on the bean.</nobr></div>
<div style="position:absolute;top:11368;left:162"><nobr>Thus for example, a bean might have a “foreground” property that represents its foreground</nobr></div>
<div style="position:absolute;top:11389;left:162"><nobr>color. This property might be read by calling a “Color getForeground()” method and updated</nobr></div>
<div style="position:absolute;top:11410;left:162"><nobr>by calling a “void setForeground(Color c)” method.</nobr></div>
<div style="position:absolute;top:11440;left:162"><nobr>The <i>methods </i>a Java Bean exports are just normal Java methods which can be called from other</nobr></div>
<div style="position:absolute;top:11461;left:162"><nobr>components or from a scripting environment. By default all of a bean’s public methods will be</nobr></div>
<div style="position:absolute;top:11482;left:162"><nobr>exported, but a bean can choose to export only a subset of its public methods (see Section 8.5).</nobr></div>
<div style="position:absolute;top:11512;left:162"><nobr><i>Events </i>are described in more detail in Section 6. Events provide a way for one component to</nobr></div>
<div style="position:absolute;top:11533;left:162"><nobr>notify other components that something interesting has happened. Under the new AWT event</nobr></div>
<div style="position:absolute;top:11554;left:162"><nobr>model an event listener object can be registered with an event source. When the event source</nobr></div>
<div style="position:absolute;top:11575;left:162"><nobr>detects that something interesting happens it will call an appropriate method on the event lis-</nobr></div>
<div style="position:absolute;top:11596;left:162"><nobr>tener object.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:11635;left:81"><nobr><b>2.3 Design time v. run-time</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:11668;left:162"><nobr>Each Java Bean component has to be capable of running in a range of different environments.</nobr></div>
<div style="position:absolute;top:11689;left:162"><nobr>There are really a continuum of different possibilities, but two points are particularly worth not-</nobr></div>
<div style="position:absolute;top:11710;left:162"><nobr>ing.</nobr></div>
<div style="position:absolute;top:11740;left:162"><nobr>First a bean must be capable of running inside a builder tool. This is often referred to as the</nobr></div>
<div style="position:absolute;top:11761;left:162"><nobr><i>design environment</i>. Within this design environment it is very important that the bean should</nobr></div>
<div style="position:absolute;top:11782;left:162"><nobr>provide design information to the application builder and allow the end-user to <i>customize </i>the</nobr></div>
<div style="position:absolute;top:11803;left:162"><nobr>appearance and behaviour of the bean.</nobr></div>
<div style="position:absolute;top:11833;left:162"><nobr>Second, each bean must be usable at run-time within the generated application. In this environ-</nobr></div>
<div style="position:absolute;top:11854;left:162"><nobr>ment there is much less need for design information or customization.</nobr></div>
<div style="position:absolute;top:11884;left:162"><nobr>The design time information and the design time customization code for a component may po-</nobr></div>
<div style="position:absolute;top:11905;left:162"><nobr>tentially be quite large. For example, if a component writer provides a “wizard” style custom-</nobr></div>
<div style="position:absolute;top:11926;left:162"><nobr>izer that guides a user through a series of choices, then the customization code may easily dwarf</nobr></div>
</span></font>

<div style="position:absolute;top:12055;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="11"><b>Page 11</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:12109;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:12109;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:13179;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:13179;left:452"><nobr><i>11</i></nobr></div>
<div style="position:absolute;top:13179;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:12163;left:162"><nobr>the run-time code for the bean. We therefore wanted to make sure that we have a clear split</nobr></div>
<div style="position:absolute;top:12184;left:162"><nobr>between the design-time aspects of a bean and the run-time aspects, so that it should be possible</nobr></div>
<div style="position:absolute;top:12205;left:162"><nobr>to deploy a bean at run-time without needing to download all its design time code.</nobr></div>
<div style="position:absolute;top:12235;left:162"><nobr>So, for example, we allow the design time interfaces (described in chapters 8 and 9) to be sup-</nobr></div>
<div style="position:absolute;top:12256;left:162"><nobr>ported in a separate class from the run-time interfaces (described in the other chapters).</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:12295;left:81"><nobr><b>2.4 Security Issues</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:12328;left:162"><nobr>Java Beans are subject to the standard Java security model. We have neither extended nor re-</nobr></div>
<div style="position:absolute;top:12349;left:162"><nobr>laxed the standard Java security model for Java Beans.</nobr></div>
<div style="position:absolute;top:12379;left:162"><nobr>Specifically, when a Java Bean runs as part of an untrusted applet then it will be subject to the</nobr></div>
<div style="position:absolute;top:12400;left:162"><nobr>standard applet security restrictions and won’t be allowed to read or write arbitrary files, or to</nobr></div>
<div style="position:absolute;top:12421;left:162"><nobr>connect to arbitrary network hosts. However when a Java Bean runs as part of a stand-alone</nobr></div>
<div style="position:absolute;top:12442;left:162"><nobr>Java application, or as part of a trusted (signed) applet, then it will be treated as a normal Java</nobr></div>
<div style="position:absolute;top:12463;left:162"><nobr>application and allowed normal access to files and network hosts.</nobr></div>
<div style="position:absolute;top:12493;left:162"><nobr>In general we advise Java Bean developers to design their beans so that they can be run as part</nobr></div>
<div style="position:absolute;top:12514;left:162"><nobr>of untrusted applets. The main areas where this shows up in the beans APIs are:</nobr></div>
<div style="position:absolute;top:12544;left:172"><nobr>• <i>Introspection. </i>Bean developers should assume that they have unlimited access to the</nobr></div>
<div style="position:absolute;top:12565;left:189"><nobr>high level Introspection APIs (Section 8) and the low-level reflection APIs in the</nobr></div>
<div style="position:absolute;top:12586;left:189"><nobr>design-time environment, but more limited access in the run-time environment. For</nobr></div>
<div style="position:absolute;top:12607;left:189"><nobr>example, the standard JDK security manager will allow trusted applications access to</nobr></div>
<div style="position:absolute;top:12628;left:189"><nobr>even private field and methods, but will allow untrusted applets access to only public</nobr></div>
<div style="position:absolute;top:12649;left:189"><nobr>fields and methods. (This shouldn’t be too constraining - the high-level Introspection</nobr></div>
<div style="position:absolute;top:12670;left:189"><nobr>APIs only expose “public” information anyway.)</nobr></div>
<div style="position:absolute;top:12700;left:172"><nobr>• <i>Persistence. </i>Beans should expect to be serialized or deserialized (See Section 5) in both</nobr></div>
<div style="position:absolute;top:12721;left:189"><nobr>the design-time and the run-time environments. However in the run-time environment,</nobr></div>
<div style="position:absolute;top:12742;left:189"><nobr>the bean should expect the serialization stream to be created and controlled by their</nobr></div>
<div style="position:absolute;top:12763;left:189"><nobr>parent application and should not assume that they can control where serialized data is</nobr></div>
<div style="position:absolute;top:12784;left:189"><nobr>read from or written to. Thus a browser might use serialization to read in the initial state</nobr></div>
<div style="position:absolute;top:12805;left:189"><nobr>for an untrusted applet, but the applet should not assume that it can access random files.</nobr></div>
<div style="position:absolute;top:12835;left:172"><nobr>• <i>GUI Merging. </i>In general untrusted applets will not be permitted to perform any kind of</nobr></div>
<div style="position:absolute;top:12856;left:189"><nobr>GUI merging with their parent application. So for example, menubar merging might</nobr></div>
<div style="position:absolute;top:12877;left:189"><nobr>occur between nested beans inside an untrusted applet, but the top level menubar for</nobr></div>
<div style="position:absolute;top:12898;left:189"><nobr>the untrusted applet will be kept separate from the browser’s menubar.</nobr></div>
<div style="position:absolute;top:12928;left:162"><nobr>None of these restrictions apply to beans running as parts of full-fledged Java applications,</nobr></div>
<div style="position:absolute;top:12949;left:162"><nobr>where the beans will have full unrestricted access to the entire Java platform API.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:12988;left:81"><nobr><b>2.5 Local activation</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:13021;left:162"><nobr>The basic run-time model for Java Bean components is that they run within the same address</nobr></div>
<div style="position:absolute;top:13042;left:162"><nobr>space as their container.</nobr></div>
<div style="position:absolute;top:13072;left:162"><nobr>So for example, if the container is a Java application, then the contained bean is run in the same</nobr></div>
<div style="position:absolute;top:13093;left:162"><nobr>Java virtual machine as its container. If the container is a non-Java application, then the Java</nobr></div>
</span></font>

<div style="position:absolute;top:13243;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="12"><b>Page 12</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:13297;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:13297;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:14367;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:14367;left:452"><nobr><i>12</i></nobr></div>
<div style="position:absolute;top:14367;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:13841;left:162"><nobr>Bean will run in a Java virtual machine that is directly associated with the application. (Nor-</nobr></div>
<div style="position:absolute;top:13862;left:162"><nobr>mally this virtual machine will be running in the same address space as the application.)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:13901;left:81"><nobr><b>2.6 Java Beans as links to remote state</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:13934;left:162"><nobr>The Java Beans architecture is being designed to work well in a distributed world-wide-web</nobr></div>
<div style="position:absolute;top:13955;left:162"><nobr>environment.</nobr></div>
<div style="position:absolute;top:13985;left:162"><nobr>A key part of designing distributed systems is engineering a good split between local and re-</nobr></div>
<div style="position:absolute;top:14006;left:162"><nobr>mote processing. Local processing can benefit from rapid communication with a single ma-</nobr></div>
<div style="position:absolute;top:14027;left:162"><nobr>chine, while remote accesses may have long latencies and suffer a variety of communication</nobr></div>
<div style="position:absolute;top:14048;left:162"><nobr>failures. Designers of distributed systems tend to design their remote interfaces very carefully,</nobr></div>
<div style="position:absolute;top:14069;left:162"><nobr>to minimize the number of remote interactions and to use various kinds of data caching and</nobr></div>
<div style="position:absolute;top:14090;left:162"><nobr>update batching to reduce remote traffic.</nobr></div>
<div style="position:absolute;top:14120;left:162"><nobr>Therefore, we recommend that distributed system implementors design beans to act as intelli-</nobr></div>
<div style="position:absolute;top:14141;left:162"><nobr>gent front-ends to talk back to their network servers. So rather than designing all beans APIs</nobr></div>
<div style="position:absolute;top:14162;left:162"><nobr>to work over the network, we are primarily targeting the beans APIs for use within a virtual</nobr></div>
<div style="position:absolute;top:14183;left:162"><nobr>machine, where interactions are cheap, and we provide several alternative mechanisms to allow</nobr></div>
<div style="position:absolute;top:14204;left:162"><nobr>beans developers to connect back to network servers.</nobr></div>
<div style="position:absolute;top:14234;left:162"><nobr>The three primary network access mechanisms that will be available to Java Beans developers</nobr></div>
<div style="position:absolute;top:14255;left:162"><nobr>on all Java platforms are:</nobr></div>
<div style="position:absolute;top:13466;left:336"><nobr>Java</nobr></div>
<div style="position:absolute;top:13487;left:333"><nobr>Bean</nobr></div>
<div style="position:absolute;top:13584;left:355"><nobr>Java</nobr></div>
<div style="position:absolute;top:13605;left:353"><nobr>Bean</nobr></div>
<div style="position:absolute;top:13667;left:355"><nobr>Java</nobr></div>
<div style="position:absolute;top:13688;left:353"><nobr>Bean</nobr></div>
<div style="position:absolute;top:13410;left:708"><nobr>Database</nobr></div>
<div style="position:absolute;top:13431;left:718"><nobr>Server</nobr></div>
<div style="position:absolute;top:13557;left:708"><nobr>CORBA</nobr></div>
<div style="position:absolute;top:13578;left:716"><nobr>Server</nobr></div>
<div style="position:absolute;top:13730;left:725"><nobr>Java</nobr></div>
<div style="position:absolute;top:13751;left:718"><nobr>Server</nobr></div>
<div style="position:absolute;top:13780;left:272"><nobr>Java Beans Application</nobr></div>
<div style="position:absolute;top:13423;left:513"><nobr>Database</nobr></div>
<div style="position:absolute;top:13444;left:513"><nobr>protocol</nobr></div>
<div style="position:absolute;top:13562;left:552"><nobr>IIOP</nobr></div>
<div style="position:absolute;top:13694;left:540"><nobr>RMI</nobr></div>
<div style="position:absolute;top:13449;left:431"><nobr>J</nobr></div>
<div style="position:absolute;top:13470;left:428"><nobr>D</nobr></div>
<div style="position:absolute;top:13491;left:428"><nobr>B</nobr></div>
<div style="position:absolute;top:13512;left:428"><nobr>C</nobr></div>
</span></font>

<div style="position:absolute;top:14431;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="13"><b>Page 13</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:14485;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:14485;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:15555;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:15555;left:452"><nobr><i>13</i></nobr></div>
<div style="position:absolute;top:15555;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:14539;left:173"><nobr>• <i>Java RMI</i>. The Java Remote Method Invocation facility makes it very easy to develop</nobr></div>
<div style="position:absolute;top:14560;left:189"><nobr>distributed Java applications. The distributed system interfaces can be designed in Java</nobr></div>
<div style="position:absolute;top:14581;left:189"><nobr>and clients and servers can be implemented against those interfaces. Java RMI calls will</nobr></div>
<div style="position:absolute;top:14602;left:189"><nobr>be automatically and transparently delivered from the client to the server. We expect</nobr></div>
<div style="position:absolute;top:14623;left:189"><nobr>that the use of Java RMI will be a very common way for writing Java Beans within</nobr></div>
<div style="position:absolute;top:14644;left:189"><nobr>networked systems.</nobr></div>
<div style="position:absolute;top:14674;left:173"><nobr>• <i>Java IDL</i>. The Java IDL system implements the industry standard OMG CORBA</nobr></div>
<div style="position:absolute;top:14695;left:189"><nobr>distributed object model. All the system interfaces are defined in the CORBA IDL</nobr></div>
<div style="position:absolute;top:14716;left:189"><nobr>interface definition language. Java stubs can be generated from these IDL interfaces,</nobr></div>
<div style="position:absolute;top:14737;left:189"><nobr>allowing Java Bean clients to call into IDL servers, and vice versa. CORBA IDL</nobr></div>
<div style="position:absolute;top:14758;left:189"><nobr>provides a multi-language, multi-vendor distributed computing environment, and the</nobr></div>
<div style="position:absolute;top:14779;left:189"><nobr>use of Java IDL allows Java Bean clients to talk to both Java IDL servers and other non-</nobr></div>
<div style="position:absolute;top:14800;left:189"><nobr>Java IDL servers.</nobr></div>
<div style="position:absolute;top:14830;left:173"><nobr>• <i>JDBC. </i>The Java database API, JDBC, allows Java Bean components access to SQL</nobr></div>
<div style="position:absolute;top:14851;left:189"><nobr>databases. These database can either be on the same machine as the client, or on remote</nobr></div>
<div style="position:absolute;top:14872;left:189"><nobr>database servers. Individual Java Beans can be written to provide tailored access to</nobr></div>
<div style="position:absolute;top:14893;left:189"><nobr>particular database tables.</nobr></div>
<div style="position:absolute;top:14923;left:162"><nobr>Another solution to distributed computing is to migrate objects around the network. Thus an</nobr></div>
<div style="position:absolute;top:14944;left:162"><nobr>expense voucher bean might be created on one user’s workstation and then get forwarded</nobr></div>
<div style="position:absolute;top:14965;left:162"><nobr>around the network to various interim severs and to various other workstations for review, and</nobr></div>
<div style="position:absolute;top:14986;left:162"><nobr>then get forwarded to an accounts payable server to be processed for final payment. In this sce-</nobr></div>
<div style="position:absolute;top:15007;left:162"><nobr>nario, the bean will show a GUI appearance at some points in its life, but also be run invisibly</nobr></div>
<div style="position:absolute;top:15028;left:162"><nobr>within server applications at other times.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:15067;left:81"><nobr><b>2.7 Invisible beans</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:15100;left:162"><nobr>Many Java Beans will have a GUI representation. When composing beans with a GUI applica-</nobr></div>
<div style="position:absolute;top:15121;left:162"><nobr>tion builder it may often be this GUI representation that is the most obvious and compelling</nobr></div>
<div style="position:absolute;top:15142;left:162"><nobr>part of the beans architecture.</nobr></div>
<div style="position:absolute;top:15172;left:162"><nobr>However it is also possible to implement invisible beans that have no GUI representation.</nobr></div>
<div style="position:absolute;top:15193;left:162"><nobr>These beans are still able to call methods, fire events, save persistent state, etc. They will also</nobr></div>
<div style="position:absolute;top:15214;left:162"><nobr>be editable in a GUI builder using either standard property sheets or customizers (see Chapter</nobr></div>
<div style="position:absolute;top:15235;left:162"><nobr>9). They simply happen to have no screen appearance of their own.</nobr></div>
<div style="position:absolute;top:15265;left:162"><nobr>Such invisible beans can be used either as shared resources within GUI applications, or as com-</nobr></div>
<div style="position:absolute;top:15286;left:162"><nobr>ponents in building server applications that have no GUI appearance at all.</nobr></div>
<div style="position:absolute;top:15316;left:162"><nobr>These invisible beans may still be represented visually in an application builder tool, and they</nobr></div>
<div style="position:absolute;top:15337;left:162"><nobr>may have a GUI customizer that configures the bean.</nobr></div>
<div style="position:absolute;top:15367;left:162"><nobr>Some beans may be able to run either with or without a GUI appearance depending where they</nobr></div>
<div style="position:absolute;top:15388;left:162"><nobr>are instantiated. So if a given bean is run in a server it may be invisible, but if it is run on a</nobr></div>
<div style="position:absolute;top:15409;left:162"><nobr>user’s desktop it may have a GUI appearance.</nobr></div>
</span></font>

<div style="position:absolute;top:15619;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="14"><b>Page 14</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:15673;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:15673;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:16743;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:16743;left:452"><nobr><i>14</i></nobr></div>
<div style="position:absolute;top:16743;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:15727;left:81"><nobr><b>2.8 Multi-Threading</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:15760;left:162"><nobr>Java Beans should assume that they are running in a multi-threaded environment and that sev-</nobr></div>
<div style="position:absolute;top:15781;left:162"><nobr>eral different threads may be simultaneously delivering events and/or calling methods and/or</nobr></div>
<div style="position:absolute;top:15802;left:162"><nobr>setting properties.</nobr></div>
<div style="position:absolute;top:15832;left:162"><nobr>It is the responsibility of each java bean developer to make sure that their bean behaves prop-</nobr></div>
<div style="position:absolute;top:15853;left:162"><nobr>erly under multi-threaded access. For simple beans this can generally be handled by simply</nobr></div>
<div style="position:absolute;top:15874;left:162"><nobr>making all the methods “synchronized”.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:15913;left:81"><nobr><b>2.9 Internationalization</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:15946;left:162"><nobr>As part of the JDK 1.1, various internationalization APIs are being added to the core Java API</nobr></div>
<div style="position:absolute;top:15967;left:162"><nobr>set. These internalization APIs can be used by individual Java Beans.</nobr></div>
<div style="position:absolute;top:15997;left:162"><nobr>In general the Java internationalization model is that individual packages are responsible for</nobr></div>
<div style="position:absolute;top:16018;left:162"><nobr>internally localizing any appropriate strings using the current default locale (from java.util.Lo-</nobr></div>
<div style="position:absolute;top:16039;left:162"><nobr>cale.getDefault) and that appropriately localized strings are passed across public APIs. For ex-</nobr></div>
<div style="position:absolute;top:16060;left:162"><nobr>ample it would be the Color.toString() method’s responsibility to generate a localized color</nobr></div>
<div style="position:absolute;top:16081;left:162"><nobr>name such as “rouge” in the French locale, rather than it being a client’s responsibility to take</nobr></div>
<div style="position:absolute;top:16102;left:162"><nobr>a locale independent string “red” and then try to localize it.</nobr></div>
<div style="position:absolute;top:16132;left:162"><nobr>One particular issue for Java Beans is the naming of events, methods, and properties. In general</nobr></div>
<div style="position:absolute;top:16153;left:162"><nobr>we expect Java programs to work programmatically in terms of locale-independent <i>program-</i></nobr></div>
<div style="position:absolute;top:16174;left:162"><nobr><i>matic </i>names.</nobr></div>
<div style="position:absolute;top:16204;left:162"><nobr>The two main exceptions to this are the “display name” and “short help” strings supported by</nobr></div>
<div style="position:absolute;top:16225;left:162"><nobr>the FeatureDescriptor class. These should be set to localized strings.</nobr></div>
<div style="position:absolute;top:16255;left:162"><nobr>So for example, a Java Bean might export a method whose locale-independent name is “hello”</nobr></div>
<div style="position:absolute;top:16276;left:162"><nobr>but whose display name is localized in the glaswegian locale as “heyJimmie”. Builder tools</nobr></div>
<div style="position:absolute;top:16297;left:162"><nobr>may present this locale-dependent display name “heyJimmie” to human users and this name</nobr></div>
<div style="position:absolute;top:16318;left:162"><nobr>may be usable from scripting environments. However any generated Java code must use the</nobr></div>
<div style="position:absolute;top:16339;left:162"><nobr>locale-independent programmatic method name “hello”.</nobr></div>
<div style="position:absolute;top:16369;left:162"><nobr>Similarly, a property may have the locale-independent programmatic name “cursorColour”</nobr></div>
<div style="position:absolute;top:16390;left:162"><nobr>and be accessed by methods getCursorColour and setCursorColour, but may be localized in the</nobr></div>
<div style="position:absolute;top:16411;left:162"><nobr>U.S to have display name “cursorColor”. When the property is presented to humans via prop-</nobr></div>
<div style="position:absolute;top:16432;left:162"><nobr>erty sheets, etc., it may be named as “cursorColor”, but the getter/setter methods are still ac-</nobr></div>
<div style="position:absolute;top:16453;left:162"><nobr>cessed via their locale-independent names getCursorColour and setCursorColour.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:16492;left:81"><nobr><b>2.10 Alternate type views of a bean.</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:16525;left:162"><nobr>In the first release of the JavaBeans architecture, each bean is a single Java object. However,</nobr></div>
<div style="position:absolute;top:16546;left:162"><nobr>in future releases of JavaBeans we plan to add support for beans that are implemented as a set</nobr></div>
<div style="position:absolute;top:16567;left:162"><nobr>of cooperating objects.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:16597;left:194"><nobr>One particular reason for supporting beans as sets of cooperating objects is to allow a bean to use several</nobr></div>
<div style="position:absolute;top:16615;left:194"><nobr>different classes as part of its implementation. Because the Java language only supports single imple-</nobr></div>
<div style="position:absolute;top:16633;left:194"><nobr>mentation inheritance, any given Java object can only “extend” a single Java class. However, some-</nobr></div>
<div style="position:absolute;top:16651;left:194"><nobr>times when constructing a bean it may be useful to be able to exploit several existing classes.</nobr></div>
</span></font>

<div style="position:absolute;top:16807;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="15"><b>Page 15</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:16861;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:16861;left:751"><nobr><i>Fundamentals</i></nobr></div>
<div style="position:absolute;top:17931;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:17931;left:452"><nobr><i>15</i></nobr></div>
<div style="position:absolute;top:17931;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:16915;left:162"><nobr>We therefore provide a notion of a “type view” that represents a view of a bean as a given type.</nobr></div>
<div style="position:absolute;top:16936;left:162"><nobr>In JavaBeans 1.0 all type views of a given bean simply represent different casts of the same</nobr></div>
<div style="position:absolute;top:16957;left:162"><nobr>object to different Java types. However, in future releases of JavaBeans, different type views</nobr></div>
<div style="position:absolute;top:16978;left:162"><nobr>of a bean may be implemented by different Java objects.</nobr></div>
<div style="position:absolute;top:17008;left:162"><nobr>The rules included here are designed to ensure that Beans and containers written today will mi-</nobr></div>
<div style="position:absolute;top:17029;left:162"><nobr>grate smoothly to future JavaBeans implementations.</nobr></div>
<div style="position:absolute;top:17059;left:162"><nobr>At the Java language level, type views are represented as Java interfaces or classes, but you</nobr></div>
<div style="position:absolute;top:17080;left:162"><nobr>must use the Beans.getInstanceOf and Beans.isInstanceOf methods (see Section 10.4) to nav-</nobr></div>
<div style="position:absolute;top:17101;left:162"><nobr>igate between different type views of a bean.</nobr></div>
<div style="position:absolute;top:17131;left:162"><nobr><b>You should never use Java casts to access different type views of a Java bean.</b></nobr></div>
<div style="position:absolute;top:17161;left:162"><nobr>For example, if you had a bean x of type X, and you wanted to view it as of type “ja-</nobr></div>
<div style="position:absolute;top:17182;left:162"><nobr>va.awt.Component”, then you should do:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:17213;left:248"><nobr>java.awt.Component c = (java.awt.Component)</nobr></div>
<div style="position:absolute;top:17231;left:362"><nobr>Beans.getInstanceOf(x, java.awt.Component.class);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:17257;left:162"><nobr>This allow for future evolution where the “java.awt.Component” type view of a bean may be</nobr></div>
<div style="position:absolute;top:17278;left:162"><nobr>implemented by a different Java object from the “X” type view.</nobr></div>
<div style="position:absolute;top:17308;left:162"><nobr>Programmers must note that:</nobr></div>
<div style="position:absolute;top:17338;left:172"><nobr>• they should never use Java “instanceof” or Java casts to navigate between different type</nobr></div>
<div style="position:absolute;top:17359;left:189"><nobr>views of a bean.</nobr></div>
<div style="position:absolute;top:17389;left:172"><nobr>• they should not assume that the result object of a beans.getInstanceOf call is the same</nobr></div>
<div style="position:absolute;top:17410;left:189"><nobr>object as the input object.</nobr></div>
<div style="position:absolute;top:17440;left:172"><nobr>• they should not assume that the result object of a beans.getInstanceOf call supports the</nobr></div>
<div style="position:absolute;top:17461;left:189"><nobr>same properties, events, or methods supported by the original type view.</nobr></div>
</span></font>

<div style="position:absolute;top:17995;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="16"><b>Page 16</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:18049;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:18049;left:778"><nobr><i>Scenarios</i></nobr></div>
<div style="position:absolute;top:19119;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:19119;left:452"><nobr><i>16</i></nobr></div>
<div style="position:absolute;top:19119;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:18103;left:122"><nobr><b>3 Scenarios</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:18151;left:162"><nobr>To help illustrate how beans are intended to function this section walks through two sample</nobr></div>
<div style="position:absolute;top:18172;left:162"><nobr>scenarios of bean use.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:18202;left:162"><nobr><i>Note that this section is intended to be illustrative rather than prescriptive.</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:18235;left:162"><nobr>It is intended to show some ways beans may be used, but not to describe all possibilities. In</nobr></div>
<div style="position:absolute;top:18256;left:162"><nobr>particular different application builder tools are likely to offer very different application build-</nobr></div>
<div style="position:absolute;top:18277;left:162"><nobr>ing scenarios.</nobr></div>
<div style="position:absolute;top:18307;left:162"><nobr>The two scenarios involve constructing applets, but the same steps apply to building full-scale</nobr></div>
<div style="position:absolute;top:18328;left:162"><nobr>Java applications.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:18367;left:81"><nobr><b>3.1 Using an application builder to construct an Applet</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:18400;left:162"><nobr>In this scenario a user uses an application builder to create an applet. The application builder</nobr></div>
<div style="position:absolute;top:18421;left:162"><nobr>generates various pieces of source code and provides the user with templates into which the</nobr></div>
<div style="position:absolute;top:18442;left:162"><nobr>user can add their own source code.</nobr></div>
<div style="position:absolute;top:18472;left:189"><nobr><b>1. Buying the tools.</b></nobr></div>
<div style="position:absolute;top:18502;left:211"><nobr>1.a) The user buys and installs the WombatBuilder Java application builder.</nobr></div>
<div style="position:absolute;top:18532;left:211"><nobr>1.b) The user buys some JavaBeans components from Al’s Discount Component Store.</nobr></div>
<div style="position:absolute;top:18553;left:248"><nobr>They get a win32 floppy containing the beans in a JAR file. This includes a</nobr></div>
<div style="position:absolute;top:18574;left:248"><nobr>“Button” component and a “DatabaseViewer” component.</nobr></div>
<div style="position:absolute;top:18604;left:211"><nobr>1.c) The user inserts the floppy into the machine and uses the WombatBuilder “Add</nobr></div>
<div style="position:absolute;top:18625;left:248"><nobr>bean...” dialog to tell WombatBuilder about the beans. WombatBuilder copies the</nobr></div>
<div style="position:absolute;top:18646;left:248"><nobr>beans off to its bean collection. (WombatBuilder may either introspect on the</nobr></div>
<div style="position:absolute;top:18667;left:248"><nobr>beans at this point to learn about their attributes or it may wait until the beans are</nobr></div>
<div style="position:absolute;top:18688;left:248"><nobr>actually used.)</nobr></div>
<div style="position:absolute;top:18718;left:189"><nobr><b>2. Laying out the applet</b></nobr></div>
<div style="position:absolute;top:18748;left:211"><nobr>2.a) The user starts to create a new custom applet called “Foobaz” in WombatBuilder.</nobr></div>
<div style="position:absolute;top:18769;left:248"><nobr>Initially they start with a blank applet template. WombatBuilder creates a</nobr></div>
<div style="position:absolute;top:18790;left:248"><nobr>Foobaz.java file to represent the state of this applet.</nobr></div>
<div style="position:absolute;top:18820;left:211"><nobr>2.b) The user selects a “button” from the WombatBuilder beans menu and drops it onto</nobr></div>
<div style="position:absolute;top:18841;left:248"><nobr>the applet template. WombatBuilder uses “Beans.instantiate” to allocate a new</nobr></div>
<div style="position:absolute;top:18862;left:248"><nobr>Button instance. WombatBuilder then adds the new button as a member field to the</nobr></div>
<div style="position:absolute;top:18883;left:248"><nobr>Foobaz class.</nobr></div>
<div style="position:absolute;top:18913;left:211"><nobr>2.c) The user selects a “database viewer” from the WombatBuilder beans menu and</nobr></div>
<div style="position:absolute;top:18934;left:248"><nobr>drops it onto the applet template. Because the database viewer is a fairly complex</nobr></div>
<div style="position:absolute;top:18955;left:248"><nobr>bean it comes with some serialized state to pre-initialize itself. The</nobr></div>
<div style="position:absolute;top:18976;left:248"><nobr>WombatBuilder tool again uses the “Beans.instantiate” method to create a</nobr></div>
<div style="position:absolute;top:18997;left:248"><nobr>database viewer bean, and Beans.instantiate handles reading in the serialized</nobr></div>
<div style="position:absolute;top:19018;left:248"><nobr>object instance. WombatBuilder then adds this new database viewer object as a</nobr></div>
<div style="position:absolute;top:19039;left:248"><nobr>member field to the Foobaz class.</nobr></div>
</span></font>

<div style="position:absolute;top:19183;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="17"><b>Page 17</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:19237;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:19237;left:778"><nobr><i>Scenarios</i></nobr></div>
<div style="position:absolute;top:20307;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:20307;left:452"><nobr><i>17</i></nobr></div>
<div style="position:absolute;top:20307;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:19291;left:189"><nobr><b>3. Customizing the beans.</b></nobr></div>
<div style="position:absolute;top:19321;left:211"><nobr>3.a) The user selects the button and asks WombatBuilder to edit it. WombatBuilder</nobr></div>
<div style="position:absolute;top:19342;left:248"><nobr>uses Introspector.getBeanInfo to obtain a BeanInfo object describing the bean and</nobr></div>
<div style="position:absolute;top:19363;left:248"><nobr>discovers that this bean doesn’t have a Customizer. So it uses the BeanInfo</nobr></div>
<div style="position:absolute;top:19384;left:248"><nobr>information to learn the names of the bean’s read-write properties and generates a</nobr></div>
<div style="position:absolute;top:19405;left:248"><nobr>simple property sheet containing the names of the properties and their current</nobr></div>
<div style="position:absolute;top:19426;left:248"><nobr>values. The user then interacts with the property sheet to customize the button’s</nobr></div>
<div style="position:absolute;top:19447;left:248"><nobr>appearance. The updates are applied back to the bean as they happen.</nobr></div>
<div style="position:absolute;top:19477;left:211"><nobr>3.b) The user selects the database viewer and asks WombatBuilder to edit it. Using</nobr></div>
<div style="position:absolute;top:19498;left:248"><nobr>Introspector.getBeanInfo, WombatBuilder discovers that the database viewer</nobr></div>
<div style="position:absolute;top:19519;left:248"><nobr>comes with its own bean Customizer class. WombatBuilder instantiates an object</nobr></div>
<div style="position:absolute;top:19540;left:248"><nobr>of the customizer class and asks it to customize the component. The database</nobr></div>
<div style="position:absolute;top:19561;left:248"><nobr>viewer customizer brings up a series of dialogs that guide the user through the steps</nobr></div>
<div style="position:absolute;top:19582;left:248"><nobr>of selecting a target database and identifying tables and records to display. The</nobr></div>
<div style="position:absolute;top:19603;left:248"><nobr>database viewer customizer uses a set of package private methods to setup the state</nobr></div>
<div style="position:absolute;top:19624;left:248"><nobr>of the database viewer bean.</nobr></div>
<div style="position:absolute;top:19654;left:189"><nobr><b>4. Connecting up the beans</b></nobr></div>
<div style="position:absolute;top:19684;left:211"><nobr>4.a) The user now decides that they want to hook-up the button to prod the database</nobr></div>
<div style="position:absolute;top:19705;left:248"><nobr>viewer. They select the button on the screen and pull-down the WombatBuilder</nobr></div>
<div style="position:absolute;top:19726;left:248"><nobr>“events” menu to discover its events and then select the “action” event.</nobr></div>
<div style="position:absolute;top:19747;left:248"><nobr>WombatBuilder creates a template method “Foobaz.button1Action” and brings up</nobr></div>
<div style="position:absolute;top:19768;left:248"><nobr>a text editor so that the user can type in the text of the method.</nobr></div>
<div style="position:absolute;top:19798;left:211"><nobr>4.b) The user types in the text of the method. In this case they simply call the database</nobr></div>
<div style="position:absolute;top:19819;left:248"><nobr>viewer component’s “update” method. So now the automatically generated Foobaz</nobr></div>
<div style="position:absolute;top:19840;left:248"><nobr>looks like:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:19871;left:248"><nobr>class Foobaz extends WombatBuilderApplet {</nobr></div>
<div style="position:absolute;top:19889;left:286"><nobr>public Button button1;</nobr></div>
<div style="position:absolute;top:19907;left:286"><nobr>public DatabaseViewer databaseViewer1;</nobr></div>
<div style="position:absolute;top:19925;left:286"><nobr>void button1Action(java.awt.event.ActionEvent evt) {</nobr></div>
<div style="position:absolute;top:19943;left:324"><nobr>databaseViewer1.update();</nobr></div>
<div style="position:absolute;top:19961;left:286"><nobr>}</nobr></div>
<div style="position:absolute;top:19979;left:248"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:20014;left:211"><nobr>4.c) In addition, behind the scenes, WombatBuilder creates an adaptor class to connect</nobr></div>
<div style="position:absolute;top:20035;left:248"><nobr>the button to the Foobaz. This looks something like:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:20066;left:248"><nobr>class Hookup1234 implements java.awt.event.ActionListener {</nobr></div>
<div style="position:absolute;top:20084;left:286"><nobr>public Foobaz target;</nobr></div>
<div style="position:absolute;top:20102;left:286"><nobr>public void actionPerformed(java.awt.event.ActionEvent evt) {</nobr></div>
<div style="position:absolute;top:20120;left:324"><nobr>target.button1Action(evt);</nobr></div>
<div style="position:absolute;top:20138;left:286"><nobr>}</nobr></div>
<div style="position:absolute;top:20156;left:248"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:20191;left:211"><nobr>4.d) WombatBuilder creates a new instance of the Hookup1234 class and fills in its</nobr></div>
<div style="position:absolute;top:20212;left:248"><nobr>“target” field with the target applet. It then takes the hookup object and registers it</nobr></div>
<div style="position:absolute;top:20233;left:248"><nobr>with the button1 “addActionListener” method. This completes the hookup.</nobr></div>
</span></font>

<div style="position:absolute;top:20371;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="18"><b>Page 18</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:20425;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:20425;left:778"><nobr><i>Scenarios</i></nobr></div>
<div style="position:absolute;top:21495;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:21495;left:452"><nobr><i>18</i></nobr></div>
<div style="position:absolute;top:21495;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:20479;left:189"><nobr><b>5. Packaging up the applet</b></nobr></div>
<div style="position:absolute;top:20509;left:211"><nobr>5.a) The user decides they are done and pushes “make it so”. WombatBuilder uses Java</nobr></div>
<div style="position:absolute;top:20530;left:248"><nobr>serialization to store away the Foobaz object in a Foobaz.ser pickle file. As part of</nobr></div>
<div style="position:absolute;top:20551;left:248"><nobr>storing away the Foobaz object, the two beans instances (the button1 and</nobr></div>
<div style="position:absolute;top:20572;left:248"><nobr>databaseViewer1 members) also get stored away. The WombatBuilder also</nobr></div>
<div style="position:absolute;top:20593;left:248"><nobr>generates some initialization code to reconstruct the event hookup.</nobr></div>
<div style="position:absolute;top:20623;left:211"><nobr>5.b) WombatBuilder creates a Foobaz.jar file holding the pickle and the .class files</nobr></div>
<div style="position:absolute;top:20644;left:248"><nobr>needed by the applet including the hookup1234 .class file and the .class files for</nobr></div>
<div style="position:absolute;top:20665;left:248"><nobr>the beans themselves.</nobr></div>
<div style="position:absolute;top:20695;left:211"><nobr>5.c) WombatBuilder also generates a sample HTML page that uses the applet tag to</nobr></div>
<div style="position:absolute;top:20716;left:248"><nobr>load the pickled Foobaz.ser from the Foobaz.jar file.</nobr></div>
<div style="position:absolute;top:20746;left:189"><nobr><b>6. Trying it out</b></nobr></div>
<div style="position:absolute;top:20776;left:211"><nobr>6.a) The user then tests out the applet in their SpaceWars web browser. When they visit</nobr></div>
<div style="position:absolute;top:20797;left:248"><nobr>the html page, the applet is initialized by reading in its serialized state from the</nobr></div>
<div style="position:absolute;top:20818;left:248"><nobr>Foobaz.ser inside of the Foobaz.jar file. As part of doing this various classes are</nobr></div>
<div style="position:absolute;top:20839;left:248"><nobr>also loaded from the .class files inside the Foobaz.jar file.</nobr></div>
<div style="position:absolute;top:20869;left:211"><nobr>6.b) The result is a running applet with a working event hookup from the button to the</nobr></div>
<div style="position:absolute;top:20890;left:248"><nobr>database viewer, and with its state setup in the way that the user customized it in</nobr></div>
<div style="position:absolute;top:20911;left:248"><nobr>the WombatBuilder tool.</nobr></div>
<div style="position:absolute;top:20941;left:211"><nobr>6.c) Joy, Happiness, and Banana Mochas</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:20936;left:517"><nobr>1</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:20941;left:529"><nobr>all round.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:20980;left:81"><nobr><b>3.2 Using beans in a hand-written Applet</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:21013;left:162"><nobr>In this scenario we use some Java beans components in a hand-written Applet. This scenario is</nobr></div>
<div style="position:absolute;top:21034;left:162"><nobr>fairly similar to building an Applet with simple AWT components today, and is intended to il-</nobr></div>
<div style="position:absolute;top:21055;left:162"><nobr>lustrate how beans can be used without special tools.</nobr></div>
<div style="position:absolute;top:21085;left:189"><nobr><b>1. Loading the tools.</b></nobr></div>
<div style="position:absolute;top:21115;left:211"><nobr>1.a) The user downloads and installs the JDK, including the javac compiler.</nobr></div>
<div style="position:absolute;top:21145;left:211"><nobr>1.b) The user notices some useful Java Bean components on Dave’s Freeware</nobr></div>
<div style="position:absolute;top:21166;left:248"><nobr>Components Page. They ftp over a beans jar file.</nobr></div>
<div style="position:absolute;top:21196;left:211"><nobr>1.c) The user uses the “jar” command to extract the contents of the jar file and put them</nobr></div>
<div style="position:absolute;top:21217;left:248"><nobr>in the user’s normal “class” directory. This includes a “Button” component and a</nobr></div>
<div style="position:absolute;top:21238;left:248"><nobr>“DatabaseViewer” component.</nobr></div>
<div style="position:absolute;top:21268;left:189"><nobr><b>2. Laying out the applet</b></nobr></div>
<div style="position:absolute;top:21298;left:211"><nobr>2.a) The user starts to type in the code for a new applet. In the Applet’s “init” method</nobr></div>
<div style="position:absolute;top:21319;left:248"><nobr>they create a dave.Button and a dave.DatabaseViewer by calling the standard</nobr></div>
<div style="position:absolute;top:21340;left:248"><nobr>Beans.instantiate method. Behind the scenes, the Beans.instantiate handles reading</nobr></div>
<div style="position:absolute;top:21361;left:248"><nobr>in any serialized object state for either of these two beans.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:10px;font-family:Times">
<div style="position:absolute;top:21436;left:108"><nobr>1. Check out the reference implementation at Printers Inc. Cafe, California Avenue, Palo Alto, CA.</nobr></div>
</span></font>

<div style="position:absolute;top:21559;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="19"><b>Page 19</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:21613;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:21613;left:778"><nobr><i>Scenarios</i></nobr></div>
<div style="position:absolute;top:22683;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:22683;left:452"><nobr><i>19</i></nobr></div>
<div style="position:absolute;top:22683;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:21668;left:248"><nobr>class MyApplet extends java.awt.Applet {</nobr></div>
<div style="position:absolute;top:21704;left:281"><nobr>public void init() {</nobr></div>
<div style="position:absolute;top:21722;left:313"><nobr>try {</nobr></div>
<div style="position:absolute;top:21740;left:346"><nobr>ClassLoader cl = this.getClass().getClassLoader();</nobr></div>
<div style="position:absolute;top:21758;left:346"><nobr>btn = (Button)Beans.instantiate(cl, “dave.Button”);</nobr></div>
<div style="position:absolute;top:21776;left:346"><nobr>add(btn);</nobr></div>
<div style="position:absolute;top:21794;left:346"><nobr>dbViewer = (DatabaseViewer)Beans.instantiate(cl,</nobr></div>
<div style="position:absolute;top:21812;left:605"><nobr>“dave.DatabaseViewer”);</nobr></div>
<div style="position:absolute;top:21830;left:346"><nobr>add(dbViewer);</nobr></div>
<div style="position:absolute;top:21848;left:313"><nobr>} catch (Exception ex) {</nobr></div>
<div style="position:absolute;top:21866;left:346"><nobr>throw new Error(“Couldn’t create bean “ + ex);</nobr></div>
<div style="position:absolute;top:21884;left:313"><nobr>}</nobr></div>
<div style="position:absolute;top:21902;left:281"><nobr>}</nobr></div>
<div style="position:absolute;top:21938;left:281"><nobr>private DatabaseViewer dbViewer;</nobr></div>
<div style="position:absolute;top:21956;left:281"><nobr>private Button btn;</nobr></div>
<div style="position:absolute;top:21974;left:248"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:22009;left:189"><nobr><b>3. Customizing the beans.</b></nobr></div>
<div style="position:absolute;top:22039;left:211"><nobr>3.a) The user decides they want to tweak the appearance and behaviour of the</nobr></div>
<div style="position:absolute;top:22060;left:248"><nobr>components a little, so in their MyApplet.init method they add some calls on the</nobr></div>
<div style="position:absolute;top:22081;left:248"><nobr>beans’ property accessor methods:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:22112;left:286"><nobr>btn.setBackground(java.awt.Color.red);</nobr></div>
<div style="position:absolute;top:22130;left:286"><nobr>dbViewer.setURL(“jdbc:msql://aardvark.eng/stuff”);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:22165;left:189"><nobr><b>4. Connecting up the beans</b></nobr></div>
<div style="position:absolute;top:22195;left:211"><nobr>4.a) The user now decides that they want to hook-up the button to prod the database</nobr></div>
<div style="position:absolute;top:22216;left:248"><nobr>viewer. The button fires its events at the java.awt.event.ActionListener interface.</nobr></div>
<div style="position:absolute;top:22237;left:248"><nobr>Since they only have a simple applet with a single button, they decide to make their</nobr></div>
<div style="position:absolute;top:22258;left:248"><nobr>MyApplet class implement the ActionListener directly and they add an</nobr></div>
<div style="position:absolute;top:22279;left:248"><nobr>“actionPerformed” method as required by the ActionListener interface:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:22310;left:286"><nobr>void actionPerformed(java.awt.event.ActionEvent) {</nobr></div>
<div style="position:absolute;top:22328;left:324"><nobr>dbViewer.update();// prod the DB viewer.</nobr></div>
<div style="position:absolute;top:22346;left:286"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:22381;left:211"><nobr>4.b) In order to make the event hookup at run-time they also have to add a line to their</nobr></div>
<div style="position:absolute;top:22402;left:248"><nobr>MyApplet.init method:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:22433;left:286"><nobr>btn.addActionListener(this);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:22486;left:189"><nobr><b>5. Packaging up the applet</b></nobr></div>
<div style="position:absolute;top:22516;left:211"><nobr>5.a) The user decides they are done. They compile their MyApplet.java file and make</nobr></div>
<div style="position:absolute;top:22537;left:248"><nobr>sure that the MyApplet.class file gets added to their class directory.</nobr></div>
<div style="position:absolute;top:22567;left:211"><nobr>5.b) They create a test HTML page that uses the applet tag to reference MyApplet with</nobr></div>
<div style="position:absolute;top:22588;left:248"><nobr>a suitable codebase.</nobr></div>
<div style="position:absolute;top:22618;left:189"><nobr><b>6. Trying it out</b></nobr></div>
</span></font>

<div style="position:absolute;top:22747;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="20"><b>Page 20</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:22801;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:22801;left:778"><nobr><i>Scenarios</i></nobr></div>
<div style="position:absolute;top:23871;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:23871;left:452"><nobr><i>20</i></nobr></div>
<div style="position:absolute;top:23871;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:22855;left:211"><nobr>6.a) The user then tests out the applet in their SpaceWars web browser. When they visit</nobr></div>
<div style="position:absolute;top:22876;left:248"><nobr>the html page, the applet is initialized by running its MyApplet.init method.</nobr></div>
<div style="position:absolute;top:22906;left:211"><nobr>6.b) The MyApplet.init method calls Beans.instantiate for a button and a database</nobr></div>
<div style="position:absolute;top:22927;left:248"><nobr>viewer. Behind the scenes, beans.instantiate does a “new” of a Button bean and</nobr></div>
<div style="position:absolute;top:22948;left:248"><nobr>uses Java serialization to read in an initialized DatabaseViewer bean.</nobr></div>
<div style="position:absolute;top:22978;left:211"><nobr>6.c) The init method then calls various setXXX methods to customize the beans and</nobr></div>
<div style="position:absolute;top:22999;left:248"><nobr>then the button addActionListener to hookup the button events.</nobr></div>
<div style="position:absolute;top:23029;left:211"><nobr>6.d) The result is a running applet with a working event hookup from the button to the</nobr></div>
<div style="position:absolute;top:23050;left:248"><nobr>database viewer.</nobr></div>
<div style="position:absolute;top:23080;left:211"><nobr>6.e) Restrained Joy, Limited Happiness, and decaffe coffee all round.</nobr></div>
<div style="position:absolute;top:23140;left:162"><nobr>Here’s the complete sample code for the hand-written applet:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:23171;left:211"><nobr>class MyApplet extends java.awt.Applet implements</nobr></div>
<div style="position:absolute;top:23189;left:551"><nobr>java.awt.event.ActionListener {</nobr></div>
<div style="position:absolute;top:23225;left:248"><nobr>// Applet initialization.</nobr></div>
<div style="position:absolute;top:23243;left:248"><nobr>public void init() {</nobr></div>
<div style="position:absolute;top:23261;left:313"><nobr>try {</nobr></div>
<div style="position:absolute;top:23279;left:346"><nobr>ClassLoader cl = this.getClass().getClassLoader();</nobr></div>
<div style="position:absolute;top:23297;left:346"><nobr>btn = (Button)Beans.instantiate(cl, “dave.Button”);</nobr></div>
<div style="position:absolute;top:23315;left:346"><nobr>add(btn);</nobr></div>
<div style="position:absolute;top:23333;left:346"><nobr>dbViewer = (DatabaseViewer)Beans.instantiate(cl,</nobr></div>
<div style="position:absolute;top:23351;left:605"><nobr>“dave.DatabaseViewer”);</nobr></div>
<div style="position:absolute;top:23369;left:346"><nobr>add(dbViewer);</nobr></div>
<div style="position:absolute;top:23387;left:313"><nobr>} catch (Exception ex) {</nobr></div>
<div style="position:absolute;top:23405;left:346"><nobr>throw new Error(“Couldn’t make bean ” + ex);</nobr></div>
<div style="position:absolute;top:23423;left:313"><nobr>}</nobr></div>
<div style="position:absolute;top:23441;left:281"><nobr>}</nobr></div>
<div style="position:absolute;top:23477;left:286"><nobr>btn.setBackground(java.awt.Color.Red);</nobr></div>
<div style="position:absolute;top:23495;left:286"><nobr>dbViewer.setURL(“jdbc:msql://aardvark.eng/stuff”);</nobr></div>
<div style="position:absolute;top:23531;left:286"><nobr>// Hookup the button to fire action events at us.</nobr></div>
<div style="position:absolute;top:23549;left:286"><nobr>btn.addActionListener(this);</nobr></div>
<div style="position:absolute;top:23567;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:23603;left:248"><nobr>// Method that catches action events from the button.</nobr></div>
<div style="position:absolute;top:23621;left:248"><nobr>void actionPerformed(java.awt.event.ActionEvent evt) {</nobr></div>
<div style="position:absolute;top:23639;left:286"><nobr>dbViewer.update();</nobr></div>
<div style="position:absolute;top:23639;left:475"><nobr>// prod the DB viewer.</nobr></div>
<div style="position:absolute;top:23657;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:23693;left:248"><nobr>private DatabaseViewer dbViewer;</nobr></div>
<div style="position:absolute;top:23711;left:248"><nobr>private Button btn;</nobr></div>
<div style="position:absolute;top:23729;left:211"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:23935;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="21"><b>Page 21</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:23989;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:23989;left:647"><nobr><i>Windowing Environment Issues</i></nobr></div>
<div style="position:absolute;top:25059;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:25059;left:452"><nobr><i>21</i></nobr></div>
<div style="position:absolute;top:25059;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:24043;left:122"><nobr><b>4 Windowing Environment Issues</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:24091;left:162"><nobr>A number of new features are being added to AWT in JDK 1.1 These features are described in</nobr></div>
<div style="position:absolute;top:24112;left:162"><nobr>the “JDK 1.1- AWT Enhancements” web pages (see “Related Documents” on page 6). How-</nobr></div>
<div style="position:absolute;top:24133;left:162"><nobr>ever because some features are likely to be important to beans developers, we provide a short</nobr></div>
<div style="position:absolute;top:24154;left:162"><nobr>overview of key new AWT features in this section.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:24193;left:81"><nobr><b>4.1 Uniform Data Transfer mechanism</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:24226;left:162"><nobr>The uniform data transfer mechanism proposed for inclusion into AWT is intended to provide</nobr></div>
<div style="position:absolute;top:24247;left:162"><nobr>the fundamental mechanisms to enable the interchange of structured data between objects, ap-</nobr></div>
<div style="position:absolute;top:24268;left:162"><nobr>plets or applications using higher level, user oriented facilities such as Cut, Copy and Paste, or</nobr></div>
<div style="position:absolute;top:24289;left:162"><nobr>Drag and Drop. In particular, the UDT mechanisms design goals are:</nobr></div>
<div style="position:absolute;top:24319;left:172"><nobr>• provide a simple conceptual framework for the encapsulation and interchange of data.</nobr></div>
<div style="position:absolute;top:24349;left:172"><nobr>• provide a general API that can support current and future data interchange models.</nobr></div>
<div style="position:absolute;top:24379;left:172"><nobr>• enable the efficient, dynamic creation, registration, and interchange of rich and diverse</nobr></div>
<div style="position:absolute;top:24400;left:189"><nobr>data types.</nobr></div>
<div style="position:absolute;top:24430;left:172"><nobr>• enable data interchange across process boundaries.</nobr></div>
<div style="position:absolute;top:24460;left:172"><nobr>• enable the interchange of data between Java-based and platform-native applications.</nobr></div>
<div style="position:absolute;top:24490;left:162"><nobr>The facilities are based around an interface, <i>Transferable, </i>that defines abstractions both for the</nobr></div>
<div style="position:absolute;top:24511;left:162"><nobr>transferable data itself and a namespace, based on the class <i>DataFlavor, </i>for identifying and ne-</nobr></div>
<div style="position:absolute;top:24532;left:162"><nobr>gotiating the type, or types, of data that may be exchanged.</nobr></div>
<div style="position:absolute;top:24562;left:162"><nobr>Objects wishing to provide a structured representation of some aspect of the information they</nobr></div>
<div style="position:absolute;top:24583;left:162"><nobr>encapsulate will implement the <i>Transferable </i>interface, and possibly introduce additional data</nobr></div>
<div style="position:absolute;top:24604;left:162"><nobr>types identifying new types of structured data by creating new <i>DataFlavor</i>s.</nobr></div>
<div style="position:absolute;top:24634;left:162"><nobr>Objects wishing to obtain such structured data will obtain references to a particular <i>Transfer-</i></nobr></div>
<div style="position:absolute;top:24655;left:162"><nobr><i>able </i>interface and will compare the <i>DataFlavor</i>s available to determine if the source offers a</nobr></div>
<div style="position:absolute;top:24676;left:162"><nobr>type, or types, that are familiar to the destination.</nobr></div>
<div style="position:absolute;top:24706;left:162"><nobr>The current proposal, at the time of writing, is that the MIME namespace for data types shall</nobr></div>
<div style="position:absolute;top:24727;left:162"><nobr>be used by <i>DataFlavors</i>.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:24766;left:81"><nobr><b>4.2 Clipboard/Selection services</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:24799;left:162"><nobr>Clipboard, or Selection services build upon the abstractions provided by the Uniform Data</nobr></div>
<div style="position:absolute;top:24820;left:162"><nobr>Transfer mechanisms to enable objects, applets, or applications to exchange structured data be-</nobr></div>
<div style="position:absolute;top:24841;left:162"><nobr>tween each other, by introducing the concept of a <i>Clipboard </i>class<i>, </i>or named Selection, that</nobr></div>
<div style="position:absolute;top:24862;left:162"><nobr>provides a rendezvous for the interchange between the source and destination, and a <i>Clipboar-</i></nobr></div>
<div style="position:absolute;top:24883;left:162"><nobr><i>dOwner </i>interface that provides data sources with notifications of clipboard state changes.</nobr></div>
</span></font>

<div style="position:absolute;top:25123;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="22"><b>Page 22</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:25177;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:25177;left:727"><nobr><i>Persistent Storage</i></nobr></div>
<div style="position:absolute;top:26247;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:26247;left:452"><nobr><i>22</i></nobr></div>
<div style="position:absolute;top:26247;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:25231;left:122"><nobr><b>5 Persistent Storage</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:25279;left:81"><nobr><b>5.1 Goals</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:25312;left:162"><nobr>Java Beans need to support a very wide range of storage behaviour. We want them to be able</nobr></div>
<div style="position:absolute;top:25333;left:162"><nobr>to use existing data formats and plug into OLE or OpenDoc documents. For example, we want</nobr></div>
<div style="position:absolute;top:25354;left:162"><nobr>them to be able to pretend to be an Excel document inside a Word document.</nobr></div>
<div style="position:absolute;top:25384;left:162"><nobr>We’d also like it to be “trivial” for the common case of a tiny Bean that simply wants to have</nobr></div>
<div style="position:absolute;top:25405;left:162"><nobr>its internal state saved and doesn’t want to think about it.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:25444;left:81"><nobr><b>5.2 A composite solution</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:25477;left:162"><nobr>To meet these different goals we support a composite solution where a Bean can either choose</nobr></div>
<div style="position:absolute;top:25498;left:162"><nobr>to use the automatic Java serialization mechanism or where it can choose to use an “external-</nobr></div>
<div style="position:absolute;top:25519;left:162"><nobr>ization” stream mechanism that provides it with full control over the resulting data layout.</nobr></div>
<div style="position:absolute;top:25549;left:162"><nobr>As part of Java Beans 1.0 we support the Java Object Serialization mechanism which provides</nobr></div>
<div style="position:absolute;top:25570;left:162"><nobr>an automatic way of storing out and restoring the internal state of a collection of Java objects.</nobr></div>
<div style="position:absolute;top:25591;left:162"><nobr>For further information see the Java Serialization specification. (See “Related Documents” on</nobr></div>
<div style="position:absolute;top:25612;left:162"><nobr>page 6.)</nobr></div>
<div style="position:absolute;top:25642;left:162"><nobr>“Externalization” is an option within Serialization which allows a class complete control over</nobr></div>
<div style="position:absolute;top:25663;left:162"><nobr>the writing of its state, so that it can choose to mimic arbitrary existing data formats.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:25702;left:81"><nobr><b>5.3 What should be saved</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:25735;left:162"><nobr>When a bean is made persistent it should store away appropriate parts of its internal state so</nobr></div>
<div style="position:absolute;top:25756;left:162"><nobr>that it can be resurrected later with a similar appearance and similar behaviour. Normally a</nobr></div>
<div style="position:absolute;top:25777;left:162"><nobr>bean will store away persistent state for all its exposed properties. It may also store away addi-</nobr></div>
<div style="position:absolute;top:25798;left:162"><nobr>tional internal state that is not directly accessible via properties. This might include (for exam-</nobr></div>
<div style="position:absolute;top:25819;left:162"><nobr>ple) additional design choices that were made while running a bean Customizer (see Section 5)</nobr></div>
<div style="position:absolute;top:25840;left:162"><nobr>or internal state that was created by the bean developer.</nobr></div>
<div style="position:absolute;top:25870;left:162"><nobr>A bean may contain other beans, in which case it should store away these beans as part of its</nobr></div>
<div style="position:absolute;top:25891;left:162"><nobr>internal state.</nobr></div>
<div style="position:absolute;top:25921;left:162"><nobr>However a bean should not normally store away pointers to external beans (either peers or a</nobr></div>
<div style="position:absolute;top:25942;left:162"><nobr>parent container) but should rather expect these connections to be rebuilt by higher-level soft-</nobr></div>
<div style="position:absolute;top:25963;left:162"><nobr>ware. So normally it should use the “transient” keyword to mark pointers to other beans or to</nobr></div>
<div style="position:absolute;top:25984;left:162"><nobr>event listeners. In general it is a container’s responsibility to keep track of any inter-bean wiring</nobr></div>
<div style="position:absolute;top:26005;left:162"><nobr>it creates and to store and resurrect it as needed.</nobr></div>
<div style="position:absolute;top:26035;left:162"><nobr>For the same reasons, normally event adaptors should mark their internal fields as “transient”.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:26074;left:81"><nobr><b>5.4 Persistence though generated initialization code</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:26107;left:162"><nobr>Builder tools typically allow users to configure beans at design time both by editing beans</nobr></div>
<div style="position:absolute;top:26128;left:162"><nobr>properties and by running bean specific customizers (see Section 9.3). The builder tool then has</nobr></div>
<div style="position:absolute;top:26149;left:162"><nobr>the responsibility for making sure that at run-time the beans are resurrected with the same state.</nobr></div>
</span></font>

<div style="position:absolute;top:26311;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="23"><b>Page 23</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:26365;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:26365;left:727"><nobr><i>Persistent Storage</i></nobr></div>
<div style="position:absolute;top:27435;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:27435;left:452"><nobr><i>23</i></nobr></div>
<div style="position:absolute;top:27435;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:26419;left:162"><nobr>A builder tool may use Java serialization to save and restore the state of all its initialized beans.</nobr></div>
<div style="position:absolute;top:26440;left:162"><nobr>However, alternatively, builder tools may chose to generate source code to reinitialize each of</nobr></div>
<div style="position:absolute;top:26461;left:162"><nobr>the beans to the correct state.</nobr></div>
<div style="position:absolute;top:26491;left:162"><nobr>So for example a builder tool might check for properties which have changed since the bean</nobr></div>
<div style="position:absolute;top:26512;left:162"><nobr>was created and generate code that allocates a similar bean and then calls property setter meth-</nobr></div>
<div style="position:absolute;top:26533;left:162"><nobr>ods to set the state of the bean. For example:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:26564;left:211"><nobr>Wombat b = new Wombat();</nobr></div>
<div style="position:absolute;top:26582;left:211"><nobr>w.setBackground(new java.awt.Color(120,120,120));</nobr></div>
<div style="position:absolute;top:26600;left:211"><nobr>w.setWeight(15);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:26626;left:162"><nobr>Note that the PropertyEditor.getJavaInitializationString() method can be used to obtain a Java</nobr></div>
<div style="position:absolute;top:26647;left:162"><nobr>string to act as the initialization value for the property (see Section 9.2.5).</nobr></div>
<div style="position:absolute;top:26681;left:99"><nobr><b>5.4.1</b></nobr></div>
<div style="position:absolute;top:26681;left:162"><nobr><b>Limitations on generated initialization code</b></nobr></div>
<div style="position:absolute;top:26711;left:162"><nobr>There is one important limitation to the use of generated code to restore the state of a bean.</nobr></div>
<div style="position:absolute;top:26732;left:162"><nobr>Some beans may have internal state that is not accessible as properties. For example, a database</nobr></div>
<div style="position:absolute;top:26753;left:162"><nobr>accessor bean may allow itself to be configured via a bean customizer, but it may not expose</nobr></div>
<div style="position:absolute;top:26774;left:162"><nobr>all of its configuration information as properties. Or a spreadsheet bean may allow a user to</nobr></div>
<div style="position:absolute;top:26795;left:162"><nobr>enter cell values at design-time but may not wish to expose all these cell values as properties.</nobr></div>
<div style="position:absolute;top:26825;left:162"><nobr>In these cases the bean designer may specify that the bean cannot be restored by simply saving</nobr></div>
<div style="position:absolute;top:26846;left:162"><nobr>and restoring its properties. This can be done by using the FeatureDescriptor’s attribute/value</nobr></div>
<div style="position:absolute;top:26867;left:162"><nobr>mechanism to specify in the bean’s BeanDescriptor an attribute named “hidden-state” to be</nobr></div>
<div style="position:absolute;top:26888;left:162"><nobr>Boolean true.</nobr></div>
<div style="position:absolute;top:26918;left:162"><nobr>So in your BeanInfo class you might do:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:26949;left:211"><nobr>public BeanDescriptor getBeanDescriptor() {</nobr></div>
<div style="position:absolute;top:26967;left:248"><nobr>BeanDescriptor bd = new BeanDescriptor(a.b.MyBean.class);</nobr></div>
<div style="position:absolute;top:26985;left:248"><nobr>bd.setName(“SecretiveBean”);</nobr></div>
<div style="position:absolute;top:27003;left:248"><nobr>bd.setValue(“hidden-state”, Boolean.TRUE);</nobr></div>
<div style="position:absolute;top:27021;left:248"><nobr>return bd;</nobr></div>
<div style="position:absolute;top:27039;left:211"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:27065;left:162"><nobr>Tools that wish to generate source code to restore the state of a bean must check the BeanInfo</nobr></div>
<div style="position:absolute;top:27086;left:162"><nobr>for the bean to see if the BeanDescriptor has the “hidden-state” attribute set true. If so then they</nobr></div>
<div style="position:absolute;top:27107;left:162"><nobr>must use object serialization and/or externalization to save and restore the state of the bean.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:27146;left:81"><nobr><b>5.5 Summary of persistence</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:27179;left:162"><nobr>All beans must support either Serialization or Externalization.</nobr></div>
<div style="position:absolute;top:27209;left:162"><nobr>It is always valid for an application to save and restore the state of a bean using the Java Seri-</nobr></div>
<div style="position:absolute;top:27230;left:162"><nobr>alization APIs. (The serialization APIs handle both Serializable and Externalizable objects.)</nobr></div>
<div style="position:absolute;top:27260;left:162"><nobr>A tool may also use generated code to restore the state of a bean unless the bean has specified</nobr></div>
<div style="position:absolute;top:27281;left:162"><nobr>the “hidden-state” attribute, in which case the bean must be saved and restored with serializa-</nobr></div>
<div style="position:absolute;top:27302;left:162"><nobr>tion and/or externalization.</nobr></div>
</span></font>

<div style="position:absolute;top:27499;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="24"><b>Page 24</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:27553;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:27553;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:28623;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:28623;left:452"><nobr><i>24</i></nobr></div>
<div style="position:absolute;top:28623;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:27607;left:122"><nobr><b>6 Events</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:27655;left:162"><nobr>Events are one of the core features of the Java Beans architecture. Events provide a convenient</nobr></div>
<div style="position:absolute;top:27676;left:162"><nobr>mechanism for allowing components to be plugged together in an application builder, by al-</nobr></div>
<div style="position:absolute;top:27697;left:162"><nobr>lowing some components to act as sources for event notifications that can then be caught and</nobr></div>
<div style="position:absolute;top:27718;left:162"><nobr>processed by either scripting environments or by other components.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:27757;left:81"><nobr><b>6.1 Goals</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:27790;left:162"><nobr>Conceptually, events are a mechanism for propagating state change notifications between a</nobr></div>
<div style="position:absolute;top:27811;left:162"><nobr><i>source </i>object and one or more target <i>listener </i>objects.</nobr></div>
<div style="position:absolute;top:27841;left:162"><nobr>Events have many different uses, but a common example is their use in window system toolkits</nobr></div>
<div style="position:absolute;top:27862;left:162"><nobr>for delivering notifications of mouse actions, widget updates, keyboard actions, etc.</nobr></div>
<div style="position:absolute;top:27892;left:162"><nobr>For Java, and Java Beans in particular, we require a generic, extensible event mechanism, that:</nobr></div>
<div style="position:absolute;top:27922;left:189"><nobr>1. Provides a common framework for the definition and application of an extensible set of</nobr></div>
<div style="position:absolute;top:27943;left:216"><nobr>event types and propagation models, suitable for a broad range of applications.</nobr></div>
<div style="position:absolute;top:27973;left:189"><nobr>2. Integrates well with, and leverages the strengths of, the features of the Java language</nobr></div>
<div style="position:absolute;top:27994;left:216"><nobr>and environment.</nobr></div>
<div style="position:absolute;top:28024;left:189"><nobr>3. Allows events to be caught (and fired) by scripting environments.</nobr></div>
<div style="position:absolute;top:28054;left:189"><nobr>4. Facilitates the use of application builder technology to directly manipulate events and</nobr></div>
<div style="position:absolute;top:28075;left:216"><nobr>the relationships between event sources and event listeners at design time.</nobr></div>
<div style="position:absolute;top:28105;left:189"><nobr>5. Does not rely on the use of sophisticated application development tools.</nobr></div>
<div style="position:absolute;top:28135;left:162"><nobr>In particular, the design should:</nobr></div>
<div style="position:absolute;top:28165;left:189"><nobr>6. Enable the discovery of the events that a particular object’s class may generate.</nobr></div>
<div style="position:absolute;top:28195;left:189"><nobr>7. Enable the discovery of the events that a particular object’s class may observe.</nobr></div>
<div style="position:absolute;top:28225;left:189"><nobr>8. Provide a common event registration mechanism that permits the dynamic</nobr></div>
<div style="position:absolute;top:28246;left:216"><nobr>manipulation of the relationships between event sources and event listeners.</nobr></div>
<div style="position:absolute;top:28276;left:189"><nobr>9. Be implementable without requiring changes to the VM or the language.</nobr></div>
<div style="position:absolute;top:28306;left:189"><nobr>10. Promote high performance propagation of events between sources and listeners.</nobr></div>
<div style="position:absolute;top:28336;left:189"><nobr>11. Enable a natural mapping between Java Beans events and event models associated with</nobr></div>
<div style="position:absolute;top:28357;left:216"><nobr>other common component architectures.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:28396;left:81"><nobr><b>6.2 Overview</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:28429;left:162"><nobr>The details of the event model are described in the following sections, but in outline:</nobr></div>
<div style="position:absolute;top:28459;left:172"><nobr>• Event notifications are propagated from sources to listeners by Java method</nobr></div>
<div style="position:absolute;top:28480;left:189"><nobr>invocations on the target listener objects.</nobr></div>
<div style="position:absolute;top:28510;left:172"><nobr>• Each distinct kind of event notification is defined as a distinct Java method. These</nobr></div>
<div style="position:absolute;top:28531;left:189"><nobr>methods are then grouped in <i>EventListener </i>interfaces that inherit from</nobr></div>
<div style="position:absolute;top:28552;left:189"><nobr><i>java.util.EventListener.</i></nobr></div>
</span></font>

<div style="position:absolute;top:28687;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="25"><b>Page 25</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:28741;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:28741;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:29811;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:29811;left:452"><nobr><i>25</i></nobr></div>
<div style="position:absolute;top:29811;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:29342;left:173"><nobr>• Event listener classes identify themselves as interested in a particular set of events by</nobr></div>
<div style="position:absolute;top:29363;left:189"><nobr>implementing some set of <i>EventListener </i>interfaces.</nobr></div>
<div style="position:absolute;top:29393;left:173"><nobr>• The state associated with an event notification is normally encapsulated in an event</nobr></div>
<div style="position:absolute;top:29414;left:189"><nobr>state object that inherits from <i>java.util.EventObject </i>and which is passed as the sole</nobr></div>
<div style="position:absolute;top:29435;left:189"><nobr>argument to the event method.</nobr></div>
<div style="position:absolute;top:29465;left:173"><nobr>• Event sources identify themselves as sourcing particular events by defining registration</nobr></div>
<div style="position:absolute;top:29486;left:189"><nobr>methods that conform to a specific design pattern (see Sections 8.2 and 8.4) and accept</nobr></div>
<div style="position:absolute;top:29507;left:189"><nobr>references to instances of particular <i>EventListener </i>interfaces.</nobr></div>
<div style="position:absolute;top:29537;left:173"><nobr>• In circumstances where listeners cannot directly implement a particular interface, or</nobr></div>
<div style="position:absolute;top:29558;left:189"><nobr>when some additional behavior is required, an instance of a custom adaptor class may</nobr></div>
<div style="position:absolute;top:29579;left:189"><nobr>be interposed between a source and one or more listeners in order to establish the</nobr></div>
<div style="position:absolute;top:29600;left:189"><nobr>relationship or to augment behavior.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:29639;left:81"><nobr><b>6.3 Event State Objects</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:29672;left:162"><nobr>Information associated with a particular event notification is normally encapsulated in an</nobr></div>
<div style="position:absolute;top:29693;left:162"><nobr>“event state” object that is a subclass of <i>java.util.EventObject. </i>By convention these event state</nobr></div>
<div style="position:absolute;top:29714;left:162"><nobr>classes are given names ending in “Event”. For example:</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:29050;left:156"><nobr><b>Event Source</b></nobr></div>
<div style="position:absolute;top:29049;left:566"><nobr><b>Event Listener</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:28815;left:130"><nobr><b>public synchronized</b></nobr></div>
<div style="position:absolute;top:28832;left:130"><nobr><b>FooListener   addFooListener(FooListener fel);</b></nobr></div>
<div style="position:absolute;top:29053;left:394"><nobr><b>FooEvent</b></nobr></div>
<div style="position:absolute;top:29080;left:209"><nobr><b>eListener</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:28825;left:585"><nobr><i><b>Overview of Event Model.</b></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:29160;left:470"><nobr><b>class Fooey implements FooListener {</b></nobr></div>
<div style="position:absolute;top:29176;left:494"><nobr><b>void fooBarHappened(FooEvent fe) {</b></nobr></div>
<div style="position:absolute;top:29192;left:524"><nobr><b>// ...</b></nobr></div>
<div style="position:absolute;top:29208;left:497"><nobr><b>}</b></nobr></div>
<div style="position:absolute;top:29225;left:497"><nobr><b>void fooBazOccurred(FooEvent fe) {</b></nobr></div>
<div style="position:absolute;top:29241;left:527"><nobr><b>// ...</b></nobr></div>
<div style="position:absolute;top:29257;left:497"><nobr><b>}</b></nobr></div>
<div style="position:absolute;top:29273;left:473"><nobr><b>}</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:28914;left:430"><nobr>register Listener</nobr></div>
<div style="position:absolute;top:29022;left:322"><nobr>fire</nobr></div>
<div style="position:absolute;top:29040;left:322"><nobr>Event</nobr></div>
<div style="position:absolute;top:29117;left:295"><nobr>interface reference</nobr></div>
</span></font>

<div style="position:absolute;top:29875;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="26"><b>Page 26</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:29929;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:29929;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:30999;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:30999;left:452"><nobr><i>26</i></nobr></div>
<div style="position:absolute;top:30999;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:29996;left:189"><nobr>public class MouseMovedExampleEvent extends java.util.EventObject {</nobr></div>
<div style="position:absolute;top:30014;left:232"><nobr>protected int x, y;</nobr></div>
<div style="position:absolute;top:30044;left:232"><nobr>// constructs a new MouseMovedExampleEvent</nobr></div>
<div style="position:absolute;top:30062;left:232"><nobr>MouseMovedExampleEvent(java.awt.Component source, Point location) {</nobr></div>
<div style="position:absolute;top:30080;left:275"><nobr>super(source);</nobr></div>
<div style="position:absolute;top:30098;left:275"><nobr>x = location.x;</nobr></div>
<div style="position:absolute;top:30116;left:275"><nobr>y = location.y;</nobr></div>
<div style="position:absolute;top:30134;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:30164;left:232"><nobr>// Access method for location</nobr></div>
<div style="position:absolute;top:30182;left:232"><nobr>public Point getLocation() {</nobr></div>
<div style="position:absolute;top:30200;left:275"><nobr>return new Point(x, y);</nobr></div>
<div style="position:absolute;top:30218;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:30248;left:232"><nobr>// translates coords, for use when propagating up view hierarchy.</nobr></div>
<div style="position:absolute;top:30266;left:232"><nobr>public void translateLocation(int dx, int dy) {</nobr></div>
<div style="position:absolute;top:30284;left:275"><nobr>x += dx;</nobr></div>
<div style="position:absolute;top:30302;left:275"><nobr>y += dy;</nobr></div>
<div style="position:absolute;top:30320;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:30338;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:30364;left:162"><nobr>As with <i>java.lang.Exception</i>, new subclasses of <i>java.util.EventObject </i>may be created simply</nobr></div>
<div style="position:absolute;top:30385;left:162"><nobr>to allow logical distinctions between event state objects of different types, even if they share</nobr></div>
<div style="position:absolute;top:30406;left:162"><nobr>all the same data. So another example might be:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:30449;left:189"><nobr>public class ControlExampleEvent extends java.util.EventObject {</nobr></div>
<div style="position:absolute;top:30467;left:232"><nobr>// Simple “logical” event. The significant information is the type</nobr></div>
<div style="position:absolute;top:30485;left:232"><nobr>// of the event subclass.</nobr></div>
<div style="position:absolute;top:30503;left:232"><nobr>ControlExampleEvent(Control source) {</nobr></div>
<div style="position:absolute;top:30521;left:275"><nobr>super(source);</nobr></div>
<div style="position:absolute;top:30539;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:30557;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:30601;left:162"><nobr>Typically, event state objects should be considered immutable. Therefore it is strongly recom-</nobr></div>
<div style="position:absolute;top:30622;left:162"><nobr>mended that direct public access to fields be denied, and that accessor methods be used to ex-</nobr></div>
<div style="position:absolute;top:30643;left:162"><nobr>pose details of event state objects. However where some aspects of an event state object require</nobr></div>
<div style="position:absolute;top:30664;left:162"><nobr>modification (e.g translating view relative coordinates when propagating an event through a</nobr></div>
<div style="position:absolute;top:30685;left:162"><nobr>view hierarchy, as in the example above) it is recommended that such modifications be encap-</nobr></div>
<div style="position:absolute;top:30706;left:162"><nobr>sulated by an appropriate method that effects the required modification (as in the sample code</nobr></div>
<div style="position:absolute;top:30727;left:162"><nobr>above), or alternatively a new event state object should be instantiated reflecting the appropri-</nobr></div>
<div style="position:absolute;top:30748;left:162"><nobr>ate modifications.</nobr></div>
<div style="position:absolute;top:30778;left:162"><nobr>These accessor methods should follow the appropriate design patterns for read-only, read/</nobr></div>
<div style="position:absolute;top:30799;left:162"><nobr>write, or write-only properties as defined in Section 8.3. This is especially important as it en-</nobr></div>
<div style="position:absolute;top:30820;left:162"><nobr>ables the framework to identify in-out event data when bridging events between Java and other</nobr></div>
<div style="position:absolute;top:30841;left:162"><nobr>component architectures that encompass the ability to return state to the originator of an event,</nobr></div>
<div style="position:absolute;top:30862;left:162"><nobr>through the event state object.</nobr></div>
</span></font>

<div style="position:absolute;top:31063;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="27"><b>Page 27</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:31117;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:31117;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:32187;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:32187;left:452"><nobr><i>27</i></nobr></div>
<div style="position:absolute;top:32187;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:31171;left:81"><nobr><b>6.4 EventListener Interfaces</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:31204;left:162"><nobr>Since the new Java event model is based on method invocation we need a way of defining and</nobr></div>
<div style="position:absolute;top:31225;left:162"><nobr>grouping event handling methods. We require that event handling methods be defined in</nobr></div>
<div style="position:absolute;top:31246;left:162"><nobr><i>EventListener </i>interfaces that inherit from <i>java.util.EventListener</i>. By convention these</nobr></div>
<div style="position:absolute;top:31267;left:162"><nobr><i>EventListener </i>interfaces are given names ending in “Listener”.</nobr></div>
<div style="position:absolute;top:31297;left:162"><nobr>A class that wants to handle any of the set of events defined in a given <i>EventListener </i>interface</nobr></div>
<div style="position:absolute;top:31318;left:162"><nobr>should implement that interface.</nobr></div>
<div style="position:absolute;top:31348;left:162"><nobr>So for example one might have:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:31379;left:189"><nobr>public class MouseMovedExampleEvent extends java.util.EventObject {</nobr></div>
<div style="position:absolute;top:31397;left:232"><nobr>// This class defines the state object associated with the event</nobr></div>
<div style="position:absolute;top:31415;left:232"><nobr>...</nobr></div>
<div style="position:absolute;top:31433;left:189"><nobr>}</nobr></div>
<div style="position:absolute;top:31463;left:189"><nobr>interface MouseMovedExampleListener extends java.util.EventListener {</nobr></div>
<div style="position:absolute;top:31481;left:232"><nobr>// This interface defines the listener methods that any event</nobr></div>
<div style="position:absolute;top:31499;left:232"><nobr>// listeners for “MouseMovedExample” events must support.</nobr></div>
<div style="position:absolute;top:31517;left:232"><nobr>void mouseMoved(MouseMovedExampleEvent mme);</nobr></div>
<div style="position:absolute;top:31535;left:189"><nobr>}</nobr></div>
<div style="position:absolute;top:31565;left:189"><nobr>class ArbitraryObject implements MouseMovedExampleListener {</nobr></div>
<div style="position:absolute;top:31583;left:232"><nobr>public void mouseMoved(MouseMovedExampleEvent mme) {</nobr></div>
<div style="position:absolute;top:31601;left:275"><nobr>...</nobr></div>
<div style="position:absolute;top:31619;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:31637;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:31675;left:162"><nobr>Event handling methods defined in <i>EventListener </i>interfaces should normally conform to a</nobr></div>
<div style="position:absolute;top:31696;left:162"><nobr>standard design pattern. Requiring conformance to such a pattern aids in the utility and docu-</nobr></div>
<div style="position:absolute;top:31717;left:162"><nobr>mentation of the event system, permits such interfaces to be determined by third parties pro-</nobr></div>
<div style="position:absolute;top:31738;left:162"><nobr>grammatically, and allows the automatic construction of generic event adaptors.</nobr></div>
<div style="position:absolute;top:31768;left:162"><nobr>The signature of this design pattern is:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:31799;left:218"><nobr>void &lt;eventOccurenceMethodName&gt;(&lt;EventStateObjectType&gt; evt);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:31825;left:162"><nobr>Where the &lt;EventStateObjectType&gt; is a subclass of <i>java.util.EventObject</i>.</nobr></div>
<div style="position:absolute;top:31855;left:162"><nobr>It is also permissible for the event handling method to throw “checked” exceptions, which</nobr></div>
<div style="position:absolute;top:31876;left:162"><nobr>should be declared in the normal way in a throws clause in the method signature. (See also Sec-</nobr></div>
<div style="position:absolute;top:31897;left:162"><nobr>tion 6.6.3).</nobr></div>
<div style="position:absolute;top:31927;left:162"><nobr>Typically, related event handling methods will be grouped into the same <i>EventListener </i>inter-</nobr></div>
<div style="position:absolute;top:31948;left:162"><nobr>face. So for example, mouseEntered, mouseMoved, and mouseExited might be grouped in the</nobr></div>
<div style="position:absolute;top:31969;left:162"><nobr>same <i>EventListener </i>interface. (However some <i>EventListener </i>interfaces may only contain a sin-</nobr></div>
<div style="position:absolute;top:31990;left:162"><nobr>gle method.) In addition, in situations where there are a large number of related kinds of events,</nobr></div>
<div style="position:absolute;top:32011;left:162"><nobr>a hierarchy of <i>EventListener</i>s may be defined such that the occurrences most commonly of in-</nobr></div>
<div style="position:absolute;top:32032;left:162"><nobr>terest to the majority of potential listeners are exposed in their own <i>EventListener </i>interface, and</nobr></div>
<div style="position:absolute;top:32053;left:162"><nobr>the more complete set of occurrences are specified in subsequent <i>EventListener </i>interfaces per-</nobr></div>
<div style="position:absolute;top:32074;left:162"><nobr>haps as part of an inheritance graph, thus reducing the implementation burden for the simple</nobr></div>
<div style="position:absolute;top:32095;left:162"><nobr>case. For example:</nobr></div>
</span></font>

<div style="position:absolute;top:32251;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="28"><b>Page 28</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:32305;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:32305;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:33375;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:33375;left:452"><nobr><i>28</i></nobr></div>
<div style="position:absolute;top:33375;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:32372;left:189"><nobr>public class ControlEvent extends java.util.EventObject {</nobr></div>
<div style="position:absolute;top:32390;left:232"><nobr>// ...</nobr></div>
<div style="position:absolute;top:32408;left:189"><nobr>}</nobr></div>
<div style="position:absolute;top:32438;left:189"><nobr>interface ControlListener extends java.util.EventListener {</nobr></div>
<div style="position:absolute;top:32456;left:232"><nobr>void controlFired(ControlEvent ce);</nobr></div>
<div style="position:absolute;top:32474;left:189"><nobr>}</nobr></div>
<div style="position:absolute;top:32504;left:189"><nobr>interface ComplexControlListener extends ControlListener {</nobr></div>
<div style="position:absolute;top:32522;left:232"><nobr>void controlHighlighted(ControlEvent ce);</nobr></div>
<div style="position:absolute;top:32540;left:232"><nobr>void controlPreviewAction(ControlEvent ce);</nobr></div>
<div style="position:absolute;top:32558;left:232"><nobr>void controlUnhighlighted(ControlEvent ce);</nobr></div>
<div style="position:absolute;top:32576;left:232"><nobr>void controlHelpRequested(ControlEvent ce);</nobr></div>
<div style="position:absolute;top:32594;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:32636;left:99"><nobr><b>6.4.1</b></nobr></div>
<div style="position:absolute;top:32636;left:162"><nobr><b>Event methods with arbitrary argument lists</b></nobr></div>
<div style="position:absolute;top:32666;left:162"><nobr>As described above, normally event handling methods should have a single argument which is</nobr></div>
<div style="position:absolute;top:32687;left:162"><nobr>a sub-type of <i>java.util.EventObject</i>.</nobr></div>
<div style="position:absolute;top:32717;left:162"><nobr>However under certain specific and unusual applications or circumstances, conformance to this</nobr></div>
<div style="position:absolute;top:32738;left:162"><nobr>standard method signature may not be appropriate. This may happen, for example, when for-</nobr></div>
<div style="position:absolute;top:32759;left:162"><nobr>warding event notifications to external environments that are implemented in different lan-</nobr></div>
<div style="position:absolute;top:32780;left:162"><nobr>guages or with different conventions. In these circumstances it may be necessary to express the</nobr></div>
<div style="position:absolute;top:32801;left:162"><nobr>notification method signature in a style more in keeping with the target environment.</nobr></div>
<div style="position:absolute;top:32831;left:162"><nobr>In these exceptional circumstances it is permissible to allow method signatures containing one</nobr></div>
<div style="position:absolute;top:32852;left:162"><nobr>or more parameters of any arbitrary Java type.</nobr></div>
<div style="position:absolute;top:32882;left:162"><nobr>The permitted signature is:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:32913;left:218"><nobr>void &lt;event_occurence_method_name&gt;(&lt;arbitrary-parameter-list&gt;);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:32939;left:162"><nobr>The method may also have a “throws” clause listing arbitrary exceptions.</nobr></div>
<div style="position:absolute;top:32969;left:162"><nobr>Designers are strongly recommended to use considerable restraint in the application of this ar-</nobr></div>
<div style="position:absolute;top:32990;left:162"><nobr>bitrary argument list in the design of their listener interfaces as there are several drawbacks to</nobr></div>
<div style="position:absolute;top:33011;left:162"><nobr>its widespread application. Therefore it is recommended that its usage be confined to situations</nobr></div>
<div style="position:absolute;top:33032;left:162"><nobr>where solutions utilizing the recommended pattern in conjunction with custom event adaptors</nobr></div>
<div style="position:absolute;top:33053;left:162"><nobr>are not generally applicable, as in the examples mentioned above.</nobr></div>
<div style="position:absolute;top:33083;left:162"><nobr>Although usage of this relaxation in the design pattern is strongly discouraged for general ap-</nobr></div>
<div style="position:absolute;top:33104;left:162"><nobr>plication, there will be circumstances where it will be used to good effect. Applications builder</nobr></div>
<div style="position:absolute;top:33125;left:162"><nobr>environments should support such relaxed event method signatures and in general should not</nobr></div>
<div style="position:absolute;top:33146;left:162"><nobr>discriminate between such methods and those that strictly conform to the standard design pat-</nobr></div>
<div style="position:absolute;top:33167;left:162"><nobr>tern.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:33206;left:81"><nobr><b>6.5 Event Listener Registration</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:33239;left:162"><nobr>In order for potential <i>EventListeners </i>to register themselves with appropriate event source in-</nobr></div>
<div style="position:absolute;top:33260;left:162"><nobr>stances, thus establishing an event flow from the source to the listener, event source classes</nobr></div>
<div style="position:absolute;top:33281;left:162"><nobr>must provide methods for registering and de-registering event listeners.</nobr></div>
</span></font>

<div style="position:absolute;top:33439;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="29"><b>Page 29</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:33493;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:33493;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:34563;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:34563;left:452"><nobr><i>29</i></nobr></div>
<div style="position:absolute;top:34563;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:33547;left:162"><nobr>The registration methods shall conform to a particular set of design patterns that aids in docu-</nobr></div>
<div style="position:absolute;top:33568;left:162"><nobr>mentation and also enables programmatic introspection by the Java Beans introspection APIs</nobr></div>
<div style="position:absolute;top:33589;left:162"><nobr>and by application builder tools.</nobr></div>
<div style="position:absolute;top:33619;left:162"><nobr>The standard design pattern for EventListener registration is:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:33650;left:189"><nobr>public void add&lt;ListenerType&gt;(&lt;ListenerType&gt; listener);</nobr></div>
<div style="position:absolute;top:33668;left:189"><nobr>public void remove&lt;ListenerType&gt;(&lt;ListenerType&gt; listener);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:33694;left:162"><nobr>The presence of this pattern identifies the implementor as a standard multicast event source for</nobr></div>
<div style="position:absolute;top:33715;left:162"><nobr>the listener interface specified by &lt;<i>ListenerType</i>&gt;.</nobr></div>
<div style="position:absolute;top:33745;left:162"><nobr>Invoking the add&lt;<i>ListenerType</i>&gt; method adds the given listener to the set of event listeners</nobr></div>
<div style="position:absolute;top:33766;left:162"><nobr>registered for events associated with the &lt;<i>ListenerType</i>&gt;. Similarly invoking the remove&lt;<i>Lis-</i></nobr></div>
<div style="position:absolute;top:33787;left:162"><nobr><i>tenerType</i>&gt; method removes the given listener from the set of event listeners registered for</nobr></div>
<div style="position:absolute;top:33808;left:162"><nobr>events associated with the &lt;<i>ListenerType</i>&gt;.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:33838;left:194"><nobr>The add<i>&lt;ListenerType&gt; </i>and remove<i>&lt;ListenerType&gt; </i>methods should normally be <i>synchronized </i>meth-</nobr></div>
<div style="position:absolute;top:33856;left:194"><nobr>ods to avoid races in multi-threaded code.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:33889;left:162"><nobr>The relationship between registration order and event delivery order is implementation de-</nobr></div>
<div style="position:absolute;top:33910;left:162"><nobr>fined. In addition the effects of adding the same event listener object more than once on the</nobr></div>
<div style="position:absolute;top:33931;left:162"><nobr>same event source, or of removing an event listener object more than once, or of removing an</nobr></div>
<div style="position:absolute;top:33952;left:162"><nobr>event listener object that is not registered, are all implementation defined.</nobr></div>
<div style="position:absolute;top:33986;left:99"><nobr><b>6.5.1</b></nobr></div>
<div style="position:absolute;top:33986;left:162"><nobr><b>Event Registration Example</b></nobr></div>
<div style="position:absolute;top:34016;left:162"><nobr>An example of event listener registration at a normal multicast event source:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:34059;left:189"><nobr>public interface ModelChangedListener extends java.util.EventListener {</nobr></div>
<div style="position:absolute;top:34077;left:232"><nobr>void modelChanged(EventObject e);</nobr></div>
<div style="position:absolute;top:34095;left:189"><nobr>}</nobr></div>
<div style="position:absolute;top:34125;left:189"><nobr>public abstract class Model {</nobr></div>
<div style="position:absolute;top:34143;left:232"><nobr>private Vector listeners = new Vector(); // list of Listeners</nobr></div>
<div style="position:absolute;top:34179;left:232"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:34197;left:232"><nobr>addModelChangedListener(ModelChangedListener mcl) {</nobr></div>
<div style="position:absolute;top:34215;left:275"><nobr>listeners.addElement(mcl);</nobr></div>
<div style="position:absolute;top:34233;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:34263;left:232"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:34281;left:232"><nobr>removeModelChangedListener(ModelChangedListener mcl) {</nobr></div>
<div style="position:absolute;top:34299;left:275"><nobr>listeners.removeElement(mcl);</nobr></div>
<div style="position:absolute;top:34317;left:232"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:34627;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="30"><b>Page 30</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:34681;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:34681;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:35751;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:35751;left:452"><nobr><i>30</i></nobr></div>
<div style="position:absolute;top:35751;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:34736;left:232"><nobr>protected void notifyModelChanged() {</nobr></div>
<div style="position:absolute;top:34754;left:275"><nobr>Vector</nobr></div>
<div style="position:absolute;top:34754;left:362"><nobr>l;</nobr></div>
<div style="position:absolute;top:34772;left:275"><nobr>EventObject e = new EventObject(this);</nobr></div>
<div style="position:absolute;top:34802;left:275"><nobr>// Must copy the Vector here in order to freeze the state of the</nobr></div>
<div style="position:absolute;top:34820;left:275"><nobr>// set of EventListeners the event should be delivered to prior</nobr></div>
<div style="position:absolute;top:34838;left:275"><nobr>// to delivery. This ensures that any changes made to the Vector</nobr></div>
<div style="position:absolute;top:34856;left:275"><nobr>// from a target listener’s method, during the delivery of this</nobr></div>
<div style="position:absolute;top:34874;left:275"><nobr>// event will not take effect until after the event is delivered</nobr></div>
<div style="position:absolute;top:34904;left:275"><nobr>synchronized(this) { l = (Vector)listeners.clone(); }</nobr></div>
<div style="position:absolute;top:34934;left:275"><nobr>for (int i = 0; i &lt; l.size(); i++) { // deliver it!</nobr></div>
<div style="position:absolute;top:34952;left:319"><nobr>((ModelChangedListener)l.elementAt(i)).modelChanged(e);</nobr></div>
<div style="position:absolute;top:34970;left:275"><nobr>}</nobr></div>
<div style="position:absolute;top:34988;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:35006;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:35048;left:99"><nobr><b>6.5.2</b></nobr></div>
<div style="position:absolute;top:35048;left:162"><nobr><b>Unicast Event Listener Registration.</b></nobr></div>
<div style="position:absolute;top:35078;left:162"><nobr>Wherever possible, event sources should support multicast event notification to arbitrary col-</nobr></div>
<div style="position:absolute;top:35099;left:162"><nobr>lections of event listeners. However, for either semantic or implementation reasons it may</nobr></div>
<div style="position:absolute;top:35120;left:162"><nobr>sometimes be inappropriate or impractical for some events to be multicast. We therefore also</nobr></div>
<div style="position:absolute;top:35141;left:162"><nobr>permit a unicast design pattern for event registration.</nobr></div>
<div style="position:absolute;top:35171;left:162"><nobr>The type signature for a unicast EventListener registration pattern is:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:35202;left:189"><nobr>public void add&lt;ListenerType&gt;(&lt;ListenerType&gt; listener)</nobr></div>
<div style="position:absolute;top:35220;left:405"><nobr>throws java.util.TooManyListenersException;</nobr></div>
<div style="position:absolute;top:35238;left:189"><nobr>public void remove&lt;ListenerType&gt;(&lt;ListenerType&gt; listener);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:35264;left:162"><nobr>The presence of the <font style="font-size:13px" face="Courier">throws java.util.TooManyListenersException </font>in the pattern identi-</nobr></div>
<div style="position:absolute;top:35285;left:162"><nobr>fies the implementor as an event source with unicast event source semantics for the interface</nobr></div>
<div style="position:absolute;top:35306;left:162"><nobr>specified by <i>&lt;ListenerType&gt;.</i></nobr></div>
<div style="position:absolute;top:35336;left:162"><nobr>Note that the unicast pattern is a special case of the multicast pattern and as such allows migra-</nobr></div>
<div style="position:absolute;top:35357;left:162"><nobr>tion of a unicast event source to a multicast event source, without breaking existing client code</nobr></div>
<div style="position:absolute;top:35387;left:162"><nobr>Invoking the add<i>&lt;ListenerType&gt; </i>method on a unicast source registers the specified <i>&lt;Listen-</i></nobr></div>
<div style="position:absolute;top:35408;left:162"><nobr><i>erType&gt; </i>instance as the current listener only if no other listener is currently registered, other-</nobr></div>
<div style="position:absolute;top:35429;left:162"><nobr>wise the value of the currently registered listener is unchanged and the method throws:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:35460;left:275"><nobr>java.util.TooManyListenersException.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:35486;left:162"><nobr>Passing <i>null </i>as the value of the listener is illegal, and may result in either an <i>IllegalArgument-</i></nobr></div>
<div style="position:absolute;top:35507;left:162"><nobr><i>Exception </i>or a <i>NullPointerException</i>.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:35546;left:81"><nobr><b>6.6 Event Delivery Semantics</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:35584;left:99"><nobr><b>6.6.1</b></nobr></div>
<div style="position:absolute;top:35584;left:162"><nobr><b>Unicast/Multicast</b></nobr></div>
<div style="position:absolute;top:35614;left:162"><nobr>Normal event delivery is multicast. Each multicast event source is required to keep track of a</nobr></div>
<div style="position:absolute;top:35635;left:162"><nobr>set of event listeners for each different kind of event it fires.</nobr></div>
<div style="position:absolute;top:35665;left:162"><nobr>When an event is triggered, the event source shall call each eligible target listener. By default</nobr></div>
<div style="position:absolute;top:35686;left:162"><nobr>all currently registered listeners shall be considered eligible for notification, however a partic-</nobr></div>
</span></font>

<div style="position:absolute;top:35815;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="31"><b>Page 31</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:35869;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:35869;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:36939;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:36939;left:452"><nobr><i>31</i></nobr></div>
<div style="position:absolute;top:36939;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:35923;left:162"><nobr>ular source may restrict the set of eligible listeners to a subset of those currently registered</nobr></div>
<div style="position:absolute;top:35944;left:162"><nobr>based upon an implementation dependent selection criteria that may be based upon the current</nobr></div>
<div style="position:absolute;top:35965;left:162"><nobr>state of the source, listeners, some arbitary part of the system or the nature of the event itself.</nobr></div>
<div style="position:absolute;top:35995;left:162"><nobr>If any of the event listeners raise an exception (see 6.6.3 below) it is an implementation deci-</nobr></div>
<div style="position:absolute;top:36016;left:162"><nobr>sion for the event source whether to continue and deliver the event to the remaining listeners.</nobr></div>
<div style="position:absolute;top:36046;left:162"><nobr>As described in Section 6.5.2 some event sources may only support unicast. In this case the</nobr></div>
<div style="position:absolute;top:36067;left:162"><nobr>event source is only required to keep track of a single event listener for each different unicast</nobr></div>
<div style="position:absolute;top:36088;left:162"><nobr>event it fires. When a unicast event is triggered, the event source should call this single target</nobr></div>
<div style="position:absolute;top:36109;left:162"><nobr>listener.</nobr></div>
<div style="position:absolute;top:36143;left:99"><nobr><b>6.6.2</b></nobr></div>
<div style="position:absolute;top:36143;left:162"><nobr><b>Synchronous delivery</b></nobr></div>
<div style="position:absolute;top:36173;left:162"><nobr>Event delivery is synchronous with respect to the event source. When the event source calls a</nobr></div>
<div style="position:absolute;top:36194;left:162"><nobr>target listener method, the call is a normal Java method invocation and is executed synchro-</nobr></div>
<div style="position:absolute;top:36215;left:162"><nobr>nously, using the caller’s thread.</nobr></div>
<div style="position:absolute;top:36250;left:99"><nobr><b>6.6.3</b></nobr></div>
<div style="position:absolute;top:36250;left:162"><nobr><b>Exceptional Conditions.</b></nobr></div>
<div style="position:absolute;top:36280;left:162"><nobr>Target listener methods are permitted to throw checked Exceptions. It is an implementation de-</nobr></div>
<div style="position:absolute;top:36301;left:162"><nobr>cision for the event source object how to react when a listener method has raised an exception.</nobr></div>
<div style="position:absolute;top:36331;left:162"><nobr>In general, listener methods should not throw unchecked exceptions (such as NullPointerEx-</nobr></div>
<div style="position:absolute;top:36352;left:162"><nobr>ception), as these cannot be documented in throws clauses. However event sources should be</nobr></div>
<div style="position:absolute;top:36373;left:162"><nobr>aware that target listeners may inadvertently throw such unchecked exceptions. Normally this</nobr></div>
<div style="position:absolute;top:36394;left:162"><nobr>should be treated as a bug in the target listener.</nobr></div>
<div style="position:absolute;top:36428;left:99"><nobr><b>6.6.4</b></nobr></div>
<div style="position:absolute;top:36428;left:162"><nobr><b>Concurrency control</b></nobr></div>
<div style="position:absolute;top:36458;left:162"><nobr>In multi-threaded systems event handling is a common cause of both races and deadlocks. This</nobr></div>
<div style="position:absolute;top:36479;left:162"><nobr>is partly due to the inherently asynchronous nature of event handling and partly because event</nobr></div>
<div style="position:absolute;top:36500;left:162"><nobr>handling often flows “upwards” against the normal program control flow, so that component</nobr></div>
<div style="position:absolute;top:36521;left:162"><nobr>A may be delivering an event to component B at the same moment as component B is perform-</nobr></div>
<div style="position:absolute;top:36542;left:162"><nobr>ing a normal method invocation into component A.</nobr></div>
<div style="position:absolute;top:36572;left:162"><nobr>We recommend that event sources should use synchronized methods and synchronized blocks</nobr></div>
<div style="position:absolute;top:36593;left:162"><nobr>to synchronize access to the data structures that describe event listeners.</nobr></div>
<div style="position:absolute;top:36623;left:162"><nobr>In order to reduce the risk of deadlocks, we strongly recommend that event sources should</nobr></div>
<div style="position:absolute;top:36644;left:162"><nobr>avoid holding their own internal locks when they call event listener methods. Specifically, as</nobr></div>
<div style="position:absolute;top:36665;left:162"><nobr>in the example code in Section 6.5.1, we recommend they should avoid using a synchronized</nobr></div>
<div style="position:absolute;top:36686;left:162"><nobr>method to fire an event and should instead merely use a synchronized block to locate the target</nobr></div>
<div style="position:absolute;top:36707;left:162"><nobr>listeners and then call the event listeners from unsynchronized code.</nobr></div>
<div style="position:absolute;top:36742;left:99"><nobr><b>6.6.5</b></nobr></div>
<div style="position:absolute;top:36742;left:162"><nobr><b>Modifications to the Set of Event Listeners during Event Delivery.</b></nobr></div>
<div style="position:absolute;top:36772;left:162"><nobr>While an event is being multicast it is possible that the set of event listeners may be updated,</nobr></div>
<div style="position:absolute;top:36793;left:162"><nobr>either by one of the target event listener methods, or by some other thread.</nobr></div>
<div style="position:absolute;top:36823;left:162"><nobr>The exact effects of such concurrent updates are implementation specific. Some event sources</nobr></div>
<div style="position:absolute;top:36844;left:162"><nobr>may consult the currently registered listener set as they proceed and only deliver the event to</nobr></div>
</span></font>

<div style="position:absolute;top:37003;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="32"><b>Page 32</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:37057;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:37057;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:38127;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:38127;left:452"><nobr><i>32</i></nobr></div>
<div style="position:absolute;top:38127;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:37111;left:162"><nobr>listeners still on the current list. Other implementations may choose to make a copy of the event</nobr></div>
<div style="position:absolute;top:37132;left:162"><nobr>target list when they start the event delivery and then deliver the event to that exact set.</nobr></div>
<div style="position:absolute;top:37162;left:162"><nobr>Note that this means that an event listener may be removed from an event source and then still</nobr></div>
<div style="position:absolute;top:37183;left:162"><nobr>receive subsequent event method calls from that source, because there were multicast events in</nobr></div>
<div style="position:absolute;top:37204;left:162"><nobr>progress when it was removed.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:37243;left:81"><nobr><b>6.7 Event Adaptors</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:37276;left:162"><nobr>Event adaptors are an extremely important part of the Java event model.</nobr></div>
<div style="position:absolute;top:37306;left:162"><nobr>Particular applications or application builder tools may choose to use a standard set of event</nobr></div>
<div style="position:absolute;top:37327;left:162"><nobr>adaptors to interpose between event sources and event listeners to provide additional policy on</nobr></div>
<div style="position:absolute;top:37348;left:162"><nobr>event delivery .</nobr></div>
<div style="position:absolute;top:37382;left:99"><nobr><b>6.7.1</b></nobr></div>
<div style="position:absolute;top:37382;left:162"><nobr><b>Event Adaptor Overview</b></nobr></div>
<div style="position:absolute;top:37412;left:162"><nobr>When additional behavior is required during event delivery, an intermediary “event adaptor”</nobr></div>
<div style="position:absolute;top:37433;left:162"><nobr>class may be defined, and interposed between an event source and the real event listener.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:37768;left:166"><nobr><b>EventSource</b></nobr></div>
<div style="position:absolute;top:37768;left:699"><nobr><b>Object</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:37506;left:140"><nobr><b>public synchronized</b></nobr></div>
<div style="position:absolute;top:37523;left:140"><nobr><b>void addFooListener(FooListener fel);</b></nobr></div>
<div style="position:absolute;top:37909;left:195"><nobr><b>FooEvent</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:37990;left:408"><nobr><b>EventAdaptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:37923;left:695"><nobr><b>FooEvent</b></nobr></div>
<div style="position:absolute;top:37847;left:333"><nobr><b>class XyzListener implements FooListener {</b></nobr></div>
<div style="position:absolute;top:37866;left:350"><nobr><b>void fooHappened(FooEvent fe) {</b></nobr></div>
<div style="position:absolute;top:37635;left:608"><nobr><b>void doIt(FooEvent fe) {</b></nobr></div>
<div style="position:absolute;top:37649;left:608"><nobr><b>...</b></nobr></div>
<div style="position:absolute;top:37662;left:608"><nobr><b>}</b></nobr></div>
<div style="position:absolute;top:37798;left:216"><nobr><b>eListener</b></nobr></div>
<div style="position:absolute;top:38019;left:464"><nobr><b>eDestination</b></nobr></div>
<div style="position:absolute;top:37880;left:364"><nobr><b>eDestination.doIt(fe);</b></nobr></div>
<div style="position:absolute;top:37894;left:333"><nobr><b>}</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:37516;left:554"><nobr><i><b>Overview of Event Adaptor Model.</b></i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:37646;left:317"><nobr>register Listener</nobr></div>
<div style="position:absolute;top:37833;left:182"><nobr>fire</nobr></div>
<div style="position:absolute;top:37848;left:182"><nobr>Event</nobr></div>
<div style="position:absolute;top:37833;left:668"><nobr>forward</nobr></div>
<div style="position:absolute;top:37848;left:668"><nobr>Event</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:38023;left:614"><nobr><b>reference to destination</b></nobr></div>
<div style="position:absolute;top:37928;left:304"><nobr><b>interface</b></nobr></div>
<div style="position:absolute;top:37942;left:304"><nobr><b>reference</b></nobr></div>
</span></font>

<div style="position:absolute;top:38191;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="33"><b>Page 33</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:38245;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:38245;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:39315;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:39315;left:452"><nobr><i>33</i></nobr></div>
<div style="position:absolute;top:39315;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:38299;left:162"><nobr>The primary role of an event adaptor is to conform to the particular <i>EventListener </i>interface ex-</nobr></div>
<div style="position:absolute;top:38320;left:162"><nobr>pected by the event source, and to decouple the incoming event notifications on the interface</nobr></div>
<div style="position:absolute;top:38341;left:162"><nobr>from the actual listener(s).</nobr></div>
<div style="position:absolute;top:38371;left:162"><nobr>Some examples of the uses of such adaptors are</nobr></div>
<div style="position:absolute;top:38401;left:172"><nobr>• Implementing an event queuing mechanism between sources and listeners.</nobr></div>
<div style="position:absolute;top:38431;left:172"><nobr>• Acting as a filter.</nobr></div>
<div style="position:absolute;top:38461;left:172"><nobr>• Demultiplexing multiple event sources onto a single event listener.</nobr></div>
<div style="position:absolute;top:38491;left:172"><nobr>• Acting as a generic “wiring manager” between sources and listeners.</nobr></div>
<div style="position:absolute;top:38525;left:99"><nobr><b>6.7.2</b></nobr></div>
<div style="position:absolute;top:38525;left:162"><nobr><b>Security issues</b></nobr></div>
<div style="position:absolute;top:38555;left:162"><nobr>Event adaptors that simply run as parts of downloaded applets add no new security issues. They</nobr></div>
<div style="position:absolute;top:38576;left:162"><nobr>will be constrained by the standard applet security model.</nobr></div>
<div style="position:absolute;top:38606;left:162"><nobr>However event adaptors that are added to the standard base system must be careful to enforce</nobr></div>
<div style="position:absolute;top:38627;left:162"><nobr>the current Java security model. Many security checks within the current Java virtual machine</nobr></div>
<div style="position:absolute;top:38648;left:162"><nobr>are enforced by scanning backwards through the current thread’s stack to see if any stack frame</nobr></div>
<div style="position:absolute;top:38669;left:162"><nobr>belongs to an untrusted applet and if so denying access. Because the current event mechanism</nobr></div>
<div style="position:absolute;top:38690;left:162"><nobr>delivers an event synchronously within the firing thread, this stack checking algorithm means</nobr></div>
<div style="position:absolute;top:38711;left:162"><nobr>that actions by an event recipient are automatically limited if the event source was an untrusted</nobr></div>
<div style="position:absolute;top:38732;left:162"><nobr>applet. This protects against certain security attacks where an applet fires bogus events to mis-</nobr></div>
<div style="position:absolute;top:38753;left:162"><nobr>lead a component.</nobr></div>
<div style="position:absolute;top:38783;left:162"><nobr>Any event adaptors that are potentially going to be installed on the local disk and which may</nobr></div>
<div style="position:absolute;top:38804;left:162"><nobr>be used by downloaded applets must be careful to maintain this model. Thus an event-queueing</nobr></div>
<div style="position:absolute;top:38825;left:162"><nobr>adaptor must be careful that its event delivery threads do not look more trustworthy than the</nobr></div>
<div style="position:absolute;top:38846;left:162"><nobr>original event firer.</nobr></div>
<div style="position:absolute;top:38876;left:162"><nobr>The only event adaptors that JavaSoft currently intends to deliver as part of the base JDK are</nobr></div>
<div style="position:absolute;top:38897;left:162"><nobr>some simple utility base classes to make it easier to implement AWT event listeners. These</nobr></div>
<div style="position:absolute;top:38918;left:162"><nobr>adaptors do not introduce any new security issues.</nobr></div>
<div style="position:absolute;top:38953;left:99"><nobr><b>6.7.3</b></nobr></div>
<div style="position:absolute;top:38953;left:162"><nobr><b>Demultiplexing Event Adaptors.</b></nobr></div>
<div style="position:absolute;top:38983;left:162"><nobr>Demultiplexing is perhaps the most common expected use of the adaptor technique.</nobr></div>
<div style="position:absolute;top:39013;left:162"><nobr>Any given event listener object may only implement a given <i>EventListener </i>interface once.</nobr></div>
<div style="position:absolute;top:39034;left:162"><nobr>Thus if a listener registers itself with multiple event sources for the same event, the listener has</nobr></div>
<div style="position:absolute;top:39055;left:162"><nobr>to determine for itself which source actually emitted a particular event.</nobr></div>
<div style="position:absolute;top:39085;left:162"><nobr>To make event delivery more convenient, we would like to allow the events for different event</nobr></div>
<div style="position:absolute;top:39106;left:162"><nobr>sources to be delivered to different target methods on the final listener object. So for example</nobr></div>
<div style="position:absolute;top:39127;left:162"><nobr>if I have two buttons “OKButton” and “CancelButton”, I would like to be able to arrange that</nobr></div>
<div style="position:absolute;top:39148;left:162"><nobr>a push on the “OKButton” results in a call on one method, whereas a push on the “CancelBut-</nobr></div>
<div style="position:absolute;top:39169;left:162"><nobr>ton” results in a call on another method.</nobr></div>
<div style="position:absolute;top:39199;left:162"><nobr>We can solve this problem by interposing “demultiplexing” adaptors between each source and</nobr></div>
<div style="position:absolute;top:39220;left:162"><nobr>the listener, where each demultiplexing adaptor takes an incoming method call of one name and</nobr></div>
<div style="position:absolute;top:39241;left:162"><nobr>then calls a differently named method on its target object.</nobr></div>
</span></font>

<div style="position:absolute;top:39379;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="34"><b>Page 34</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:39433;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:39433;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:40503;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:40503;left:452"><nobr><i>34</i></nobr></div>
<div style="position:absolute;top:40503;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:39979;left:162"><nobr>In the example (see the diagram and code below) a DialogBox object has two push buttons</nobr></div>
<div style="position:absolute;top:40000;left:162"><nobr>“OK” and “Cancel”, both of which fire a <i>buttonPushed(PBEvent) </i>method. The DialogBox is</nobr></div>
<div style="position:absolute;top:40021;left:162"><nobr>designed to invoke the methods, <i>doOKAction() </i>when the “OK” button fires, and <i>doCancelAc-</i></nobr></div>
<div style="position:absolute;top:40042;left:162"><nobr><i>tion() </i>when the “Cancel” button fires.</nobr></div>
<div style="position:absolute;top:40072;left:162"><nobr>The DialogBox defines two classes, <i>OKButtonAdaptor </i>and <i>CancelButtonAdaptor </i>that both im-</nobr></div>
<div style="position:absolute;top:40093;left:162"><nobr>plement the <i>PBListener </i>interface but dispatch the incoming notification to their respective ac-</nobr></div>
<div style="position:absolute;top:40114;left:162"><nobr>tion methods.</nobr></div>
<div style="position:absolute;top:40144;left:162"><nobr>As a side effect of instantiation of the DialogBox, instances of the private adaptors are also cre-</nobr></div>
<div style="position:absolute;top:40165;left:162"><nobr>ated and registered with the <i>PushButton </i>instances, resulting in the appropriate event flow and</nobr></div>
<div style="position:absolute;top:40186;left:162"><nobr>mapping.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:40219;left:189"><nobr>// Adaptor to map “Cancel Pressed” events onto doCancelAction()</nobr></div>
<div style="position:absolute;top:40250;left:189"><nobr>class CancelAdaptor implements PushButtonExampleListener {</nobr></div>
<div style="position:absolute;top:40268;left:232"><nobr>private Dialog dialog;</nobr></div>
<div style="position:absolute;top:40286;left:232"><nobr>public CancelAdaptor(Dialog dest) {</nobr></div>
<div style="position:absolute;top:40304;left:275"><nobr>dialog = dest;</nobr></div>
<div style="position:absolute;top:40322;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:40340;left:232"><nobr>public void buttonPushed(PushButtonExampleEvent pbe) {</nobr></div>
<div style="position:absolute;top:40358;left:275"><nobr>dialog.doCancelAction();</nobr></div>
<div style="position:absolute;top:40376;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:40394;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:39500;left:182"><nobr>OK Button</nobr></div>
<div style="position:absolute;top:39905;left:164"><nobr>Cancel Button</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:39500;left:331"><nobr>buttonPushed(PBEvent pbe)</nobr></div>
<div style="position:absolute;top:39905;left:331"><nobr>buttonPushed(PBEvent pbe)</nobr></div>
<div style="position:absolute;top:39578;left:335"><nobr>buttonPushed(PBEvent pbe) {</nobr></div>
<div style="position:absolute;top:39596;left:358"><nobr>dialog.doOKAction();</nobr></div>
<div style="position:absolute;top:39609;left:334"><nobr>}</nobr></div>
<div style="position:absolute;top:39794;left:334"><nobr>buttonPushed(PBEvent pbe) {</nobr></div>
<div style="position:absolute;top:39807;left:358"><nobr>dialog.doCancelAction();</nobr></div>
<div style="position:absolute;top:39821;left:334"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:39548;left:601"><nobr>Dialog Box</nobr></div>
<div style="position:absolute;top:39548;left:412"><nobr>OKButtonAdaptor</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:11px;font-family:Times">
<div style="position:absolute;top:39591;left:614"><nobr>doOKAction() {</nobr></div>
<div style="position:absolute;top:39605;left:638"><nobr>// ...</nobr></div>
<div style="position:absolute;top:39618;left:614"><nobr>}</nobr></div>
<div style="position:absolute;top:39780;left:614"><nobr>doCancelAction() {</nobr></div>
<div style="position:absolute;top:39794;left:635"><nobr>// ...</nobr></div>
<div style="position:absolute;top:39807;left:614"><nobr>}</nobr></div>
<div style="position:absolute;top:39683;left:209"><nobr>okButton.addPBListener(okButtonAdaptor)</nobr></div>
<div style="position:absolute;top:39723;left:209"><nobr>cancelButton.addPBListener(cancelButtonAdaptor)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:39760;left:413"><nobr>CancelButtonAdaptor</nobr></div>
</span></font>

<div style="position:absolute;top:40567;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="35"><b>Page 35</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:40621;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:40621;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:41691;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:41691;left:452"><nobr><i>35</i></nobr></div>
<div style="position:absolute;top:41691;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:40676;left:189"><nobr>// Adaptor to map “OK Pressed” events onto doOKAction()</nobr></div>
<div style="position:absolute;top:40706;left:189"><nobr>class OKAdaptor implements PushButtonExampleListener {</nobr></div>
<div style="position:absolute;top:40724;left:232"><nobr>private Dialog dialog;</nobr></div>
<div style="position:absolute;top:40742;left:232"><nobr>public OKAdaptor(Dialog dest) {</nobr></div>
<div style="position:absolute;top:40760;left:275"><nobr>dialog = dest;</nobr></div>
<div style="position:absolute;top:40778;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:40796;left:232"><nobr>public void buttonPushed(PushButtonExampleEvent pbe) {</nobr></div>
<div style="position:absolute;top:40814;left:275"><nobr>dialog.doOKAction();</nobr></div>
<div style="position:absolute;top:40832;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:40850;left:189"><nobr>}</nobr></div>
<div style="position:absolute;top:40880;left:189"><nobr>// Define generic Dialog with two methods, doOKAction()</nobr></div>
<div style="position:absolute;top:40898;left:189"><nobr>// and doCancelAction()</nobr></div>
<div style="position:absolute;top:40928;left:189"><nobr>public abstract class DialogBox{</nobr></div>
<div style="position:absolute;top:40946;left:232"><nobr>// Dialog with two adaptors for OK and Cancel buttons</nobr></div>
<div style="position:absolute;top:40964;left:232"><nobr>protected PushButton okButton;</nobr></div>
<div style="position:absolute;top:40982;left:232"><nobr>protected PushButton cancelButton;</nobr></div>
<div style="position:absolute;top:41000;left:232"><nobr>protected OKAdaptor okAdaptor;</nobr></div>
<div style="position:absolute;top:41018;left:232"><nobr>protected CancelAdaptor cancelAdaptor;</nobr></div>
<div style="position:absolute;top:41048;left:232"><nobr>DialogBox() {</nobr></div>
<div style="position:absolute;top:41066;left:275"><nobr>okButton = new PushButton(“OK”);</nobr></div>
<div style="position:absolute;top:41084;left:275"><nobr>cancelButton= new PushButton(“Cancel”);</nobr></div>
<div style="position:absolute;top:41114;left:275"><nobr>okAdaptor</nobr></div>
<div style="position:absolute;top:41114;left:383"><nobr>= new OKAdaptor(this);</nobr></div>
<div style="position:absolute;top:41132;left:275"><nobr>okButton.addPushButtonExampleListener(OKAdaptor)</nobr></div>
<div style="position:absolute;top:41162;left:275"><nobr>cancelAdaptor= new CancelAdaptor(cancelButton, this);</nobr></div>
<div style="position:absolute;top:41180;left:275"><nobr>cancelButton.addPushButtonExampleListener(CancelAdaptor);</nobr></div>
<div style="position:absolute;top:41198;left:232"><nobr>}</nobr></div>
<div style="position:absolute;top:41228;left:232"><nobr>public abstract void doOKAction();</nobr></div>
<div style="position:absolute;top:41246;left:232"><nobr>public abstract void doCancelAction();</nobr></div>
<div style="position:absolute;top:41264;left:189"><nobr>}</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:41312;left:99"><nobr><b>6.7.4</b></nobr></div>
<div style="position:absolute;top:41312;left:162"><nobr><b>Generic demultiplexing adaptors.</b></nobr></div>
<div style="position:absolute;top:41342;left:162"><nobr>The simple demultiplexing adaptor model described in Section 6.7.3 has the drawback that the</nobr></div>
<div style="position:absolute;top:41363;left:162"><nobr>number of private adaptor classes can become very high if there are large number of different</nobr></div>
<div style="position:absolute;top:41384;left:162"><nobr>event targets, as a different adaptor class is required for each source-target hookup.</nobr></div>
<div style="position:absolute;top:41414;left:162"><nobr>Where there are a large number of event source instances another technique can be employed</nobr></div>
<div style="position:absolute;top:41435;left:162"><nobr>in order to obviate the need for an adaptor class per source-target hookup.</nobr></div>
<div style="position:absolute;top:41465;left:162"><nobr>This technique uses generic adaptors and is most suited to automatic code generation by appli-</nobr></div>
<div style="position:absolute;top:41486;left:162"><nobr>cation builder tools. It involves synthesizing an adaptor class that utilizes the new low-level</nobr></div>
<div style="position:absolute;top:41507;left:162"><nobr>Java introspection APIs to map incoming events from multiple source instances onto particular</nobr></div>
<div style="position:absolute;top:41528;left:162"><nobr>method invocations via the <i>invoke </i>method of the <i>java.lang.reflect.Method </i>class.</nobr></div>
<div style="position:absolute;top:41558;left:162"><nobr>The shortcoming of this technique however is that the use of the low-level introspection APIs</nobr></div>
<div style="position:absolute;top:41579;left:162"><nobr>for method lookup and invocation via string names is in some senses “unnatural”, and it defeats</nobr></div>
<div style="position:absolute;top:41600;left:162"><nobr>the strong typing facilities.</nobr></div>
</span></font>

<div style="position:absolute;top:41755;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="36"><b>Page 36</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:41809;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:41809;left:797"><nobr><i>Events</i></nobr></div>
<div style="position:absolute;top:42879;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:42879;left:452"><nobr><i>36</i></nobr></div>
<div style="position:absolute;top:42879;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:42277;left:162"><nobr>Therefore it is not recommended that this technique be used in manually generated code as it</nobr></div>
<div style="position:absolute;top:42298;left:162"><nobr>may lead to fatal errors in an application using this technique at runtime. It is instead recom-</nobr></div>
<div style="position:absolute;top:42319;left:162"><nobr>mended that this technique only be used by application builder generated code, where greater</nobr></div>
<div style="position:absolute;top:42340;left:162"><nobr>constraints may be applied to, and subsequently checked during, the code generation and thus</nobr></div>
<div style="position:absolute;top:42361;left:162"><nobr>there is less risk of introducing serious runtime errors into application code using this tech-</nobr></div>
<div style="position:absolute;top:42382;left:162"><nobr>nique.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:41900;left:228"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:41911;left:191"><nobr>ES1</nobr></div>
<div style="position:absolute;top:41954;left:226"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:41965;left:189"><nobr>ES2</nobr></div>
<div style="position:absolute;top:42008;left:226"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42019;left:189"><nobr>ES3</nobr></div>
<div style="position:absolute;top:42062;left:226"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42073;left:189"><nobr>ES4</nobr></div>
<div style="position:absolute;top:42149;left:224"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42160;left:187"><nobr>ESN</nobr></div>
<div style="position:absolute;top:41872;left:186"><nobr>Sources</nobr></div>
<div style="position:absolute;top:41910;left:317"><nobr>Adaptor1</nobr></div>
<div style="position:absolute;top:41964;left:317"><nobr>Adaptor2</nobr></div>
<div style="position:absolute;top:42018;left:317"><nobr>Adaptor3</nobr></div>
<div style="position:absolute;top:42073;left:315"><nobr>Adaptor4</nobr></div>
<div style="position:absolute;top:42159;left:315"><nobr>AdaptorN</nobr></div>
<div style="position:absolute;top:41904;left:408"><nobr>action1()</nobr></div>
<div style="position:absolute;top:41958;left:409"><nobr>action2()</nobr></div>
<div style="position:absolute;top:42013;left:410"><nobr>action3()</nobr></div>
<div style="position:absolute;top:42066;left:409"><nobr>action4()</nobr></div>
<div style="position:absolute;top:42152;left:405"><nobr>actionN()</nobr></div>
<div style="position:absolute;top:41872;left:312"><nobr>Adaptors</nobr></div>
<div style="position:absolute;top:41872;left:510"><nobr>Listener</nobr></div>
<div style="position:absolute;top:41907;left:521"><nobr>action1() { ... }</nobr></div>
<div style="position:absolute;top:41964;left:521"><nobr>action2() { ... }</nobr></div>
<div style="position:absolute;top:42019;left:521"><nobr>action3() { ... }</nobr></div>
<div style="position:absolute;top:42072;left:522"><nobr>action4() { ... }</nobr></div>
<div style="position:absolute;top:42155;left:523"><nobr>actionN() { ... }</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:42228;left:262"><nobr><i><b>Adaptor Proliferation with Simple Multiplexing Adaptors.</b></i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:42469;left:186"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42480;left:149"><nobr>ES1</nobr></div>
<div style="position:absolute;top:42523;left:184"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42534;left:147"><nobr>ES2</nobr></div>
<div style="position:absolute;top:42577;left:184"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42588;left:147"><nobr>ES3</nobr></div>
<div style="position:absolute;top:42631;left:184"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42642;left:147"><nobr>ES4</nobr></div>
<div style="position:absolute;top:42700;left:183"><nobr>fireE(E)</nobr></div>
<div style="position:absolute;top:42712;left:146"><nobr>ESN</nobr></div>
<div style="position:absolute;top:42442;left:144"><nobr>Sources</nobr></div>
<div style="position:absolute;top:42475;left:480"><nobr>action1()</nobr></div>
<div style="position:absolute;top:42530;left:481"><nobr>action2()</nobr></div>
<div style="position:absolute;top:42584;left:481"><nobr>action3()</nobr></div>
<div style="position:absolute;top:42638;left:481"><nobr>action4()</nobr></div>
<div style="position:absolute;top:42709;left:478"><nobr>actionN()</nobr></div>
<div style="position:absolute;top:42442;left:270"><nobr>Adaptor</nobr></div>
<div style="position:absolute;top:42444;left:582"><nobr>Listener</nobr></div>
<div style="position:absolute;top:42479;left:593"><nobr>action1() { ... }</nobr></div>
<div style="position:absolute;top:42535;left:593"><nobr>action2() { ... }</nobr></div>
<div style="position:absolute;top:42590;left:593"><nobr>action3() { ... }</nobr></div>
<div style="position:absolute;top:42714;left:590"><nobr>actionN() { ... }</nobr></div>
<div style="position:absolute;top:42476;left:278"><nobr>{</nobr></div>
<div style="position:absolute;top:42491;left:287"><nobr>{ ES1, “action1” },</nobr></div>
<div style="position:absolute;top:42506;left:287"><nobr>{ ES2, “action2” },</nobr></div>
<div style="position:absolute;top:42521;left:287"><nobr>{ ES3, “action3” },</nobr></div>
<div style="position:absolute;top:42536;left:287"><nobr>{ ES4, “action4” },</nobr></div>
<div style="position:absolute;top:42555;left:285"><nobr>...</nobr></div>
<div style="position:absolute;top:42571;left:285"><nobr>{ ESN, “actionN” }</nobr></div>
<div style="position:absolute;top:42585;left:276"><nobr>}</nobr></div>
<div style="position:absolute;top:42610;left:278"><nobr>Map incoming event</nobr></div>
<div style="position:absolute;top:42628;left:278"><nobr>onto Method object</nobr></div>
<div style="position:absolute;top:42646;left:278"><nobr>and then use low-</nobr></div>
<div style="position:absolute;top:42664;left:278"><nobr>level reflection:</nobr></div>
<div style="position:absolute;top:42700;left:278"><nobr>Method.invoke(</nobr></div>
<div style="position:absolute;top:42718;left:300"><nobr>listener, null);</nobr></div>
<div style="position:absolute;top:42642;left:589"><nobr>action4() { ... }</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:42791;left:332"><nobr><i><b>Using a Generic Multiplexing Adaptor.</b></i></nobr></div>
</span></font>

<div style="position:absolute;top:42943;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="37"><b>Page 37</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:42997;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:44067;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:44067;left:452"><nobr><i>37</i></nobr></div>
<div style="position:absolute;top:44067;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:43051;left:81"><nobr><b>Interface EventListener</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:43115;left:135"><nobr>public interface java.util.<b>EventListener</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:43150;left:135"><nobr>A tagging interface that all event listener interfaces must extend</nobr></div>
</span></font>

<div style="position:absolute;top:44131;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="38"><b>Page 38</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:44185;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:45255;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:45255;left:452"><nobr><i>38</i></nobr></div>
<div style="position:absolute;top:45255;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:44239;left:81"><nobr><b>Class EventObject</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:44312;left:135"><nobr>public class java.util.<b>EventObject</b></nobr></div>
<div style="position:absolute;top:44330;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
<div style="position:absolute;top:44348;left:171"><nobr>implements java.io.<b>Serializable</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:44392;left:135"><nobr>The Event class is the abstract root class from which all event state objects shall be derived.</nobr></div>
<div style="position:absolute;top:44419;left:135"><nobr>All Event's are constructed with a reference to the object, the "source", that is logically deemed to be the object upon</nobr></div>
<div style="position:absolute;top:44437;left:135"><nobr>which the Event in question initially occurred upon.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:44473;left:81"><nobr><b>Variables</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:44526;left:103"><nobr><b>• source</b></nobr></div>
<div style="position:absolute;top:44549;left:135"><nobr>protected transient Object source</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:44584;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:44637;left:103"><nobr><b>• EventObject</b></nobr></div>
<div style="position:absolute;top:44660;left:135"><nobr>public EventObject(Object source)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:44692;left:135"><nobr>Constructs a prototypical Event</nobr></div>
<div style="position:absolute;top:44722;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:44740;left:189"><nobr>source</nobr></div>
<div style="position:absolute;top:44758;left:221"><nobr>The object that the Event occurred upon.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:44794;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:44847;left:103"><nobr><b>• getSource</b></nobr></div>
<div style="position:absolute;top:44870;left:135"><nobr>public Object getSource()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:44899;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:44917;left:189"><nobr>The object that the Event initially occurred upon.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:44951;left:103"><nobr><b>• toString</b></nobr></div>
<div style="position:absolute;top:44973;left:135"><nobr>public String toString()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:45002;left:135"><nobr><b>Overrides:</b></nobr></div>
<div style="position:absolute;top:45020;left:189"><nobr>toString() in class Object .</nobr></div>
</span></font>

<div style="position:absolute;top:45319;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="39"><b>Page 39</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:45373;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:46443;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:46443;left:452"><nobr><i>39</i></nobr></div>
<div style="position:absolute;top:46443;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:45427;left:81"><nobr><b>Class TooManyListenersException</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:45500;left:135"><nobr>public class java.util.<b>TooManyListenersException</b></nobr></div>
<div style="position:absolute;top:45518;left:171"><nobr>extends java.lang.<b>Exception</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:45562;left:135"><nobr>The <font face="Courier">TooManyListenersException </font>Exception is used as part of the Java Event model to annotate and imple-</nobr></div>
<div style="position:absolute;top:45580;left:135"><nobr>ment a unicast special case of a multicast Event Source.</nobr></div>
<div style="position:absolute;top:45607;left:135"><nobr>The presence of a "throws TooManyListenersException" clause on any given concrete implementation of the nor-</nobr></div>
<div style="position:absolute;top:45625;left:135"><nobr>mally multicast "void addXyzEventListener" event listener registration pattern is used to annotate that interface as</nobr></div>
<div style="position:absolute;top:45643;left:135"><nobr>implementing a unicast Listener special case, that is, that one and only one Listener may be registered on the particu-</nobr></div>
<div style="position:absolute;top:45661;left:135"><nobr>lar event listener source concurrently.</nobr></div>
<div style="position:absolute;top:45688;left:135"><nobr>See Also:</nobr></div>
<div style="position:absolute;top:45715;left:135"><nobr>EventObject , EventListener .</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:45751;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:45804;left:103"><nobr><b>• TooManyListenersException</b></nobr></div>
<div style="position:absolute;top:45827;left:135"><nobr>public TooManyListenersException()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:45859;left:135"><nobr>Constructs a TooManyListenersException with no detail message. A detail message is a String that describes this par-</nobr></div>
<div style="position:absolute;top:45877;left:135"><nobr>ticular exception.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:45911;left:103"><nobr><b>• TooManyListenersException</b></nobr></div>
<div style="position:absolute;top:45933;left:135"><nobr>public TooManyListenersException(String s)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:45965;left:135"><nobr>Constructs a TooManyListenersException with the specified detail message. A detail message is a String that</nobr></div>
<div style="position:absolute;top:45983;left:135"><nobr>describes this particular exception.</nobr></div>
<div style="position:absolute;top:46013;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:46031;left:189"><nobr>s</nobr></div>
<div style="position:absolute;top:46049;left:221"><nobr>the detail message</nobr></div>
</span></font>

<div style="position:absolute;top:46507;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="40"><b>Page 40</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:46561;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:46561;left:774"><nobr><i>Properties</i></nobr></div>
<div style="position:absolute;top:47631;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:47631;left:452"><nobr><i>40</i></nobr></div>
<div style="position:absolute;top:47631;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:46615;left:122"><nobr><b>7 Properties</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:46663;left:162"><nobr>Properties are discrete, named attributes of a Java Bean that can affect its appearance or its be-</nobr></div>
<div style="position:absolute;top:46684;left:162"><nobr>haviour. For example, a GUI button might have a property named “Label” that represents the</nobr></div>
<div style="position:absolute;top:46705;left:162"><nobr>text displayed in the button.</nobr></div>
<div style="position:absolute;top:46735;left:162"><nobr>Properties show up in a number of ways:</nobr></div>
<div style="position:absolute;top:46765;left:189"><nobr>1. Properties may be exposed in scripting environments as though they were fields of</nobr></div>
<div style="position:absolute;top:46786;left:216"><nobr>objects. So in a Javascript environment I might do “b.Label = foo” to set the value of a</nobr></div>
<div style="position:absolute;top:46807;left:216"><nobr>property.</nobr></div>
<div style="position:absolute;top:46837;left:189"><nobr>2. Properties can be accessed programmatically by other components calling their getter</nobr></div>
<div style="position:absolute;top:46858;left:216"><nobr>and setter methods (see Section 7.1 below).</nobr></div>
<div style="position:absolute;top:46888;left:189"><nobr>3. As part of the process of customizing a component (see Section 9), its properties may</nobr></div>
<div style="position:absolute;top:46909;left:216"><nobr>be presented in a property sheet for a user to edit.</nobr></div>
<div style="position:absolute;top:46939;left:189"><nobr>4. Typically a bean’s properties will be persistent, so that their state will be stored away</nobr></div>
<div style="position:absolute;top:46960;left:216"><nobr>as part of the persistent state of the bean.</nobr></div>
<div style="position:absolute;top:46990;left:162"><nobr>Properties can have arbitrary types, including both built-in Java types such as “int” and class</nobr></div>
<div style="position:absolute;top:47011;left:162"><nobr>or interfaces types such as “java.awt.Color”.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:47050;left:81"><nobr><b>7.1 Accessor methods</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:47083;left:162"><nobr>Properties are always accessed via method calls on their owning object. For readable properties</nobr></div>
<div style="position:absolute;top:47104;left:162"><nobr>there will be a <i>getter </i>method to read the property value. For writable properties there will be a</nobr></div>
<div style="position:absolute;top:47125;left:162"><nobr><i>setter </i>method to allow the property value to be updated. Thus even when a script writer types</nobr></div>
<div style="position:absolute;top:47146;left:162"><nobr>in something such as “b.Label = foo” there is still a method call into the target object to set the</nobr></div>
<div style="position:absolute;top:47167;left:162"><nobr>property, and the target object has full programmatic control.</nobr></div>
<div style="position:absolute;top:47197;left:162"><nobr>So properties need not just be simple data fields, they can actually be computed values. Updates</nobr></div>
<div style="position:absolute;top:47218;left:162"><nobr>may have various programmatic side effects. For example, changing a bean’s background color</nobr></div>
<div style="position:absolute;top:47239;left:162"><nobr>property might also cause the bean to be repainted with the new color.</nobr></div>
<div style="position:absolute;top:47269;left:162"><nobr>For simple properties the accessor type signatures are:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:47300;left:189"><nobr>void setFoo(PropertyType value); // simple setter</nobr></div>
<div style="position:absolute;top:47318;left:189"><nobr>PropertyType getFoo();</nobr></div>
<div style="position:absolute;top:47318;left:486"><nobr>// simple getter</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:47344;left:162"><nobr><i>GetFoo </i>and <i>setFoo </i>are simply example names. Accessor methods can have arbitrary names.</nobr></div>
<div style="position:absolute;top:47365;left:162"><nobr>However for standard naming conventions for accessor methods see the design patterns de-</nobr></div>
<div style="position:absolute;top:47386;left:162"><nobr>scribed in Section 8.3.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:47425;left:81"><nobr><b>7.2 Indexed properties</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:47458;left:162"><nobr>In addition to simple single-value properties, we also support <i>indexed properties</i>. An indexed</nobr></div>
<div style="position:absolute;top:47479;left:162"><nobr>property supports a range of values. Whenever the property is read or written you just specify</nobr></div>
<div style="position:absolute;top:47500;left:162"><nobr>an index to identify which value you want.</nobr></div>
<div style="position:absolute;top:47530;left:162"><nobr>Property indexes must be Java “int”s.</nobr></div>
</span></font>

<div style="position:absolute;top:47695;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="41"><b>Page 41</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:47749;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:47749;left:774"><nobr><i>Properties</i></nobr></div>
<div style="position:absolute;top:48819;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:48819;left:452"><nobr><i>41</i></nobr></div>
<div style="position:absolute;top:48819;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:47803;left:194"><nobr>We may relax this restriction in the future to allow other index types. However it seems that “int” in-</nobr></div>
<div style="position:absolute;top:47821;left:194"><nobr>dexes are in practice the most common and useful kind of property index.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:47854;left:162"><nobr>A component may also expose an indexed property as a single array value. For example, if</nobr></div>
<div style="position:absolute;top:47875;left:162"><nobr>there is an indexed property “fred” of type string it may be possible from a scripting environ-</nobr></div>
<div style="position:absolute;top:47896;left:162"><nobr>ment to access an individual indexed value using “b.fred[3]” and also to access the same prop-</nobr></div>
<div style="position:absolute;top:47917;left:162"><nobr>erty as an array using “b.fred”.</nobr></div>
<div style="position:absolute;top:47947;left:162"><nobr>For indexed properties the accessor type signatures are:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:47978;left:189"><nobr>void setter(int index, PropertyType value); // indexed setter</nobr></div>
<div style="position:absolute;top:47996;left:189"><nobr>PropertyType getter(int index);</nobr></div>
<div style="position:absolute;top:47996;left:594"><nobr>// indexed getter</nobr></div>
<div style="position:absolute;top:48014;left:189"><nobr>void setter(PropertyType values[]);</nobr></div>
<div style="position:absolute;top:48014;left:594"><nobr>// array setter</nobr></div>
<div style="position:absolute;top:48032;left:189"><nobr>PropertyType[] getter();</nobr></div>
<div style="position:absolute;top:48032;left:594"><nobr>// array getter</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:48058;left:162"><nobr>The indexed getter and setter methods may throw a <i>java.lang.ArrayIndexOutOfBoundsExcep-</i></nobr></div>
<div style="position:absolute;top:48079;left:162"><nobr><i>tion </i>runtime exception if an index is used that is outside the current array bounds.</nobr></div>
<div style="position:absolute;top:48109;left:162"><nobr>In order to change the size of the array you must use the array setter method to set a new (or</nobr></div>
<div style="position:absolute;top:48130;left:162"><nobr>updated) array.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:48169;left:81"><nobr><b>7.3 Exceptions on accessor methods</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:48202;left:162"><nobr>Both simple and indexed property accessor methods may throw checked exceptions. This al-</nobr></div>
<div style="position:absolute;top:48223;left:162"><nobr>lows property setter/getter methods to report exceptional conditions.</nobr></div>
<div style="position:absolute;top:48253;left:162"><nobr>Thus for example you might have:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:48284;left:189"><nobr>void setWombat(Wombat value) throws BadWombatException;</nobr></div>
<div style="position:absolute;top:48302;left:189"><nobr>Marsupial getKangaroo(int index) throws AwfulCommunicationException;</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:48337;left:81"><nobr><b>7.4 Bound and constrained properties</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:48370;left:162"><nobr>Java Beans provides support for <i>bound </i>and <i>constrained </i>properties. These are advanced fea-</nobr></div>
<div style="position:absolute;top:48391;left:162"><nobr>tures that are not required for simple beans or for initial beans programming.</nobr></div>
<div style="position:absolute;top:48425;left:99"><nobr><b>7.4.1</b></nobr></div>
<div style="position:absolute;top:48425;left:162"><nobr><b>Bound properties</b></nobr></div>
<div style="position:absolute;top:48455;left:162"><nobr>Sometimes when a bean property changes then either the bean’s container or some other bean</nobr></div>
<div style="position:absolute;top:48476;left:162"><nobr>may wish to be notified of the change.</nobr></div>
<div style="position:absolute;top:48506;left:162"><nobr>A component can choose to provide a change notification service for some or all of its proper-</nobr></div>
<div style="position:absolute;top:48527;left:162"><nobr>ties. Such properties are commonly known as <i>bound properties</i>, as they allow other compo-</nobr></div>
<div style="position:absolute;top:48548;left:162"><nobr>nents to bind special behaviour to property changes.</nobr></div>
<div style="position:absolute;top:48578;left:162"><nobr>The <i>PropertyChangeListener </i>event listener interface is used to report updates to simple bound</nobr></div>
<div style="position:absolute;top:48599;left:162"><nobr>properties. If a bean supports bound properties then it should support a normal pair of multicast</nobr></div>
<div style="position:absolute;top:48620;left:162"><nobr>event listener registration methods for PropertyChangeListeners:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:48651;left:189"><nobr>public void addPropertyChangeListener(PropertyChangeListener x);</nobr></div>
<div style="position:absolute;top:48669;left:189"><nobr>public void removePropertyChangeListener(PropertyChangeListener x);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:48695;left:162"><nobr>When a property change occurs on a bound property the bean should call the PropertyChange-</nobr></div>
<div style="position:absolute;top:48716;left:162"><nobr>Listener.propertyChange method on any registered listeners, passing a <i>PropertyChangeEvent</i></nobr></div>
</span></font>

<div style="position:absolute;top:48883;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="42"><b>Page 42</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:48937;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:48937;left:774"><nobr><i>Properties</i></nobr></div>
<div style="position:absolute;top:50007;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:50007;left:452"><nobr><i>42</i></nobr></div>
<div style="position:absolute;top:50007;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:48991;left:162"><nobr>object that encapsulates the locale-independent name of the property and its old and new val-</nobr></div>
<div style="position:absolute;top:49012;left:162"><nobr>ues.</nobr></div>
<div style="position:absolute;top:49042;left:162"><nobr>The event source should fire the event <i>after </i>updating its internal state.</nobr></div>
<div style="position:absolute;top:49072;left:162"><nobr>For programming convenience, we provide a utility class PropertyChangeSupport that can be</nobr></div>
<div style="position:absolute;top:49093;left:162"><nobr>used to keep track of PropertyChangeListeners and to fire PropertyChange events.</nobr></div>
<div style="position:absolute;top:49127;left:99"><nobr><b>7.4.2</b></nobr></div>
<div style="position:absolute;top:49127;left:162"><nobr><b>Constrained properties</b></nobr></div>
<div style="position:absolute;top:49157;left:162"><nobr>Sometimes when a property change occurs some other bean may wish to validate the change</nobr></div>
<div style="position:absolute;top:49178;left:162"><nobr>and reject it if it is inappropriate.</nobr></div>
<div style="position:absolute;top:49208;left:162"><nobr>We refer to properties that undergo this kind of checking as <i>constrained properties</i>.</nobr></div>
<div style="position:absolute;top:49238;left:162"><nobr>In Java Beans, constrained property setter methods are required to support the <i>PropertyVetoEx-</i></nobr></div>
<div style="position:absolute;top:49259;left:162"><nobr><i>ception</i>. This documents to the users of the constrained property that attempted updates may be</nobr></div>
<div style="position:absolute;top:49280;left:162"><nobr>vetoed.</nobr></div>
<div style="position:absolute;top:49310;left:162"><nobr>So a simple constrained property might look like:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:49341;left:189"><nobr>PropertyType getFoo();</nobr></div>
<div style="position:absolute;top:49359;left:189"><nobr>void setFoo(PropertyType value) throws PropertyVetoException;</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:49403;left:162"><nobr>The <i>VetoableChangeListener </i>event listener interface is used to report updates to constrained</nobr></div>
<div style="position:absolute;top:49424;left:162"><nobr>properties. If a bean supports constrained properties then it should support a normal pair of</nobr></div>
<div style="position:absolute;top:49445;left:162"><nobr>multicast event listener registration methods for VetoableChangeListeners:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:49476;left:189"><nobr>public void addVetoableChangeListener(VetoableChangeListener x);</nobr></div>
<div style="position:absolute;top:49494;left:189"><nobr>public void removeVetoableChangeListener(VetoableChangeListener x);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:49520;left:162"><nobr>When a property change occurs on a constrained property the bean should call the Veto-</nobr></div>
<div style="position:absolute;top:49541;left:162"><nobr>ableChangeListener.vetoableChange method on any registered listeners, passing a <i>Property-</i></nobr></div>
<div style="position:absolute;top:49562;left:162"><nobr><i>ChangeEvent </i>object that encapsulates the locale-independent name of the property and its old</nobr></div>
<div style="position:absolute;top:49583;left:162"><nobr>and new values. If the event recipient does not wish the requested edit to be performed it may</nobr></div>
<div style="position:absolute;top:49604;left:162"><nobr>throw a PropertyVetoException. It is the source bean’s responsibility to catch this exception,</nobr></div>
<div style="position:absolute;top:49625;left:162"><nobr>revert to the old value, and issue a new VetoableChangeListener.vetoableChange event to re-</nobr></div>
<div style="position:absolute;top:49646;left:162"><nobr>port the reversion.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:49676;left:194"><nobr>The initial vetoableChangeListener.vetoablePropertyChange event may have been multicast to a num-</nobr></div>
<div style="position:absolute;top:49694;left:194"><nobr>ber of recipients before one vetoes the new value. If one of the recipients vetoes, then we have to make</nobr></div>
<div style="position:absolute;top:49712;left:194"><nobr>sure that all the other recipients are informed that we have reverted to the old value. Thus the need to</nobr></div>
<div style="position:absolute;top:49730;left:194"><nobr>fire another VetoableChangeListener.vetoableChange event when we revert. The source may choose to</nobr></div>
<div style="position:absolute;top:49748;left:194"><nobr>ignore vetoes when reverting to the old value.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:49781;left:162"><nobr>The event source should fire the event <i>before </i>updating its internal state.</nobr></div>
<div style="position:absolute;top:49811;left:162"><nobr>For programming convenience we provide a utility class VetoableChangeSupport that can be</nobr></div>
<div style="position:absolute;top:49832;left:162"><nobr>used to keep track of VetoableChangeListeners and to fire VetoableChange events. It also</nobr></div>
<div style="position:absolute;top:49853;left:162"><nobr>catches PropertyVetoExceptions and sends any necessary reversion event.</nobr></div>
</span></font>

<div style="position:absolute;top:50071;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="43"><b>Page 43</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:50125;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:50125;left:774"><nobr><i>Properties</i></nobr></div>
<div style="position:absolute;top:51195;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:51195;left:452"><nobr><i>43</i></nobr></div>
<div style="position:absolute;top:51195;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:50179;left:99"><nobr><b>7.4.3</b></nobr></div>
<div style="position:absolute;top:50179;left:162"><nobr><b>Listening for both bound and constrained properties</b></nobr></div>
<div style="position:absolute;top:50209;left:162"><nobr>In general we recommend that if a property is constrained then it should also be bound. If it is</nobr></div>
<div style="position:absolute;top:50230;left:162"><nobr>desirable to allow other beans to veto changes to a property then it is probably also desirable</nobr></div>
<div style="position:absolute;top:50251;left:162"><nobr>to allow them to be notified when the property is actually changed.</nobr></div>
<div style="position:absolute;top:50281;left:162"><nobr>If a bean supports a property that is both bound and constrained, then it should fire a Veto-</nobr></div>
<div style="position:absolute;top:50302;left:162"><nobr>ableChangeListener.vetoableChange event before updating the property and a Property-</nobr></div>
<div style="position:absolute;top:50323;left:162"><nobr>ChangeListener.propertyChange event after updating the property.</nobr></div>
<div style="position:absolute;top:50353;left:162"><nobr>So if a bean is interested in both being able to veto proposed updates and in accurately moni-</nobr></div>
<div style="position:absolute;top:50374;left:162"><nobr>toring the state of a property then it should use a “two phase” approach and register both a Veto-</nobr></div>
<div style="position:absolute;top:50395;left:162"><nobr>ableChangeListener and a PropertyChangeListener. In the first phase at vetoableChange time</nobr></div>
<div style="position:absolute;top:50416;left:162"><nobr>it should merely check whether the proposed value is acceptable and veto unacceptable values.</nobr></div>
<div style="position:absolute;top:50437;left:162"><nobr>In the second phase at PropertyChange time it can rely on the change being effective and can</nobr></div>
<div style="position:absolute;top:50458;left:162"><nobr>proceed to act on the new value.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:50488;left:194"><nobr>Some experienced developers may chose to use a “single phase” mechanism to track the state of a prop-</nobr></div>
<div style="position:absolute;top:50506;left:194"><nobr>erty and merely register a VetoableChangeListener and track the state of the bean though the successive</nobr></div>
<div style="position:absolute;top:50524;left:194"><nobr>vetoableChange notifications. After all, if a vetoableChange is subsequently vetoed then a new veto-</nobr></div>
<div style="position:absolute;top:50542;left:194"><nobr>ableChange will be sent reporting the reversion to the old value. Note however that this approach is in-</nobr></div>
<div style="position:absolute;top:50560;left:194"><nobr>herently racy as it is hard to be sure when a new value is really effective. This approach requires</nobr></div>
<div style="position:absolute;top:50578;left:194"><nobr>considerable care if it is to be used safely. However in some situations, this approach may be appropri-</nobr></div>
<div style="position:absolute;top:50596;left:194"><nobr>ate.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:50629;left:99"><nobr><b>7.4.4</b></nobr></div>
<div style="position:absolute;top:50629;left:162"><nobr><b>Checking for changes that have no effect</b></nobr></div>
<div style="position:absolute;top:50659;left:162"><nobr>If a property setter method gets called with an argument that is equal to the property’s current</nobr></div>
<div style="position:absolute;top:50680;left:162"><nobr>value, then we recommend that the bean does not fire either a VetoableChangeListener.veto-</nobr></div>
<div style="position:absolute;top:50701;left:162"><nobr>ableChange event or a PropertyChangeListener.propertyChange event. This behaviour is both</nobr></div>
<div style="position:absolute;top:50722;left:162"><nobr>more efficient and reduces the danger of loops when property setter methods are cross connect-</nobr></div>
<div style="position:absolute;top:50743;left:162"><nobr>ed.</nobr></div>
<div style="position:absolute;top:50773;left:162"><nobr>Thus for example the following property update on a bound property “fred” need not fire a</nobr></div>
<div style="position:absolute;top:50794;left:162"><nobr>PropertyChangeEvent:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:50825;left:216"><nobr>x.setFred(x.getFred());</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:50851;left:162"><nobr>For code that uses the PropertyChangeSupport and VetoableChangeSupport utility classes, this</nobr></div>
<div style="position:absolute;top:50872;left:162"><nobr>check for equality is handled automatically, as these classes check if the “old” and “new” prop-</nobr></div>
<div style="position:absolute;top:50893;left:162"><nobr>erty values are equal and if so avoid firing an event.</nobr></div>
<div style="position:absolute;top:50927;left:99"><nobr><b>7.4.5</b></nobr></div>
<div style="position:absolute;top:50927;left:162"><nobr><b>Optional support for listening on named properties</b></nobr></div>
<div style="position:absolute;top:50957;left:162"><nobr>In addition to supporting the standard design pattern for adding and removing PropertyChange-</nobr></div>
<div style="position:absolute;top:50978;left:162"><nobr>Listeners shown in Section 7.4.1 above, a bean that fires PropertyChangeEvents may also sup-</nobr></div>
<div style="position:absolute;top:50999;left:162"><nobr>port an additional pair of methods that allow a PropertyChangeListener to be added and</nobr></div>
<div style="position:absolute;top:51020;left:162"><nobr>removed for a named property:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:51051;left:189"><nobr>void addPropertyChangeListener(String propertyName,</nobr></div>
<div style="position:absolute;top:51069;left:405"><nobr>PropertyChangeListener listener);</nobr></div>
<div style="position:absolute;top:51087;left:189"><nobr>void removePropertyChangeListener(String propertyName,</nobr></div>
<div style="position:absolute;top:51105;left:405"><nobr>PropertyChangeListener listener);</nobr></div>
</span></font>

<div style="position:absolute;top:51259;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="44"><b>Page 44</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:51313;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:51313;left:774"><nobr><i>Properties</i></nobr></div>
<div style="position:absolute;top:52383;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:52383;left:452"><nobr><i>44</i></nobr></div>
<div style="position:absolute;top:52383;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:51367;left:162"><nobr>In this case, the bean should associate the given listener with the given property name, and only</nobr></div>
<div style="position:absolute;top:51388;left:162"><nobr>invoke its propertyChange method when the given named property has been changed.</nobr></div>
<div style="position:absolute;top:51418;left:162"><nobr>Similarly, in addition to supporting the standard design pattern for adding and removing Veto-</nobr></div>
<div style="position:absolute;top:51439;left:162"><nobr>ableChangeListeners, beans may also support additional registration methods that are tied to a</nobr></div>
<div style="position:absolute;top:51460;left:162"><nobr>specific named property:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:51491;left:189"><nobr>void addVetoableChangeListener(String propertyName,</nobr></div>
<div style="position:absolute;top:51509;left:405"><nobr>VetoableChangeListener listener);</nobr></div>
<div style="position:absolute;top:51527;left:189"><nobr>void removeVetoableChangeListener(String propertyName,</nobr></div>
<div style="position:absolute;top:51545;left:405"><nobr>VetoableChangeListener listener);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:51571;left:162"><nobr>Note that in both cases the bean must also support the standard design pattern for registering</nobr></div>
<div style="position:absolute;top:51592;left:162"><nobr>an event listener, which takes a single event listener argument.</nobr></div>
<div style="position:absolute;top:51626;left:99"><nobr><b>7.4.6</b></nobr></div>
<div style="position:absolute;top:51626;left:162"><nobr><b>Optional event handler methods for specific properties</b></nobr></div>
<div style="position:absolute;top:51656;left:162"><nobr>As an alternative to the mechanism described in the previous section, a bean may provide ex-</nobr></div>
<div style="position:absolute;top:51677;left:162"><nobr>plicit methods to allow the registration and removal of a event handlers for a specific property.</nobr></div>
<div style="position:absolute;top:51698;left:162"><nobr>This is entirely optional, but if a bean chooses to support this, then for each such bound prop-</nobr></div>
<div style="position:absolute;top:51719;left:162"><nobr>erty it may provide methods of the form:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:51750;left:216"><nobr>void add&lt;PropertyName&gt;Listener(PropertyChangeListener p);</nobr></div>
<div style="position:absolute;top:51768;left:216"><nobr>void remove&lt;PropertyName&gt;Listener(PropertyChangeListener p);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:51794;left:162"><nobr>and it may also add a similarly named pair of optional methods for registering and deregistering</nobr></div>
<div style="position:absolute;top:51815;left:162"><nobr>VetoableChangeListeners:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:51846;left:216"><nobr>void add&lt;PropertyName&gt;Listener(VetoableChangeListener p);</nobr></div>
<div style="position:absolute;top:51864;left:216"><nobr>void remove&lt;PropertyName&gt;Listener(VetoableChangeListener p);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:51913;left:99"><nobr><b>7.4.7</b></nobr></div>
<div style="position:absolute;top:51913;left:162"><nobr><b>A bound and constrained example</b></nobr></div>
<div style="position:absolute;top:51943;left:162"><nobr>In the following example the JellyBean class supports a bound property “color” and a bound</nobr></div>
<div style="position:absolute;top:51964;left:162"><nobr>and constrained property “priceInCents”. We use instances of the PropertyChangeSupport and</nobr></div>
<div style="position:absolute;top:51985;left:162"><nobr>VetoableChangeSupport classes to help us keep track of the event listeners and to deliver the</nobr></div>
<div style="position:absolute;top:52006;left:162"><nobr>actual events.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:52037;left:189"><nobr>import java.awt.*;</nobr></div>
<div style="position:absolute;top:52055;left:189"><nobr>import java.beans.*;</nobr></div>
<div style="position:absolute;top:52091;left:189"><nobr>public class JellyBean {</nobr></div>
<div style="position:absolute;top:52118;left:216"><nobr>public Color getColor() {</nobr></div>
<div style="position:absolute;top:52136;left:243"><nobr>return ourColor;</nobr></div>
<div style="position:absolute;top:52154;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:52181;left:216"><nobr>public void setColor(Color newColor) {</nobr></div>
<div style="position:absolute;top:52199;left:243"><nobr>Color oldColor = ourColor;</nobr></div>
<div style="position:absolute;top:52217;left:243"><nobr>ourColor = newColor;</nobr></div>
<div style="position:absolute;top:52235;left:243"><nobr>changes.firePropertyChange(“color”, oldColor, newColor);</nobr></div>
<div style="position:absolute;top:52253;left:216"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:52447;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="45"><b>Page 45</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:52501;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:52501;left:774"><nobr><i>Properties</i></nobr></div>
<div style="position:absolute;top:53571;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:53571;left:452"><nobr><i>45</i></nobr></div>
<div style="position:absolute;top:53571;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:52556;left:216"><nobr>public int getPriceInCents() {</nobr></div>
<div style="position:absolute;top:52574;left:243"><nobr>return ourPriceInCents;</nobr></div>
<div style="position:absolute;top:52592;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:52619;left:216"><nobr>public void setPriceInCents(int newPriceInCents)</nobr></div>
<div style="position:absolute;top:52637;left:459"><nobr>throws PropertyVetoException {</nobr></div>
<div style="position:absolute;top:52655;left:243"><nobr>int oldPriceInCents = ourPriceInCents;</nobr></div>
<div style="position:absolute;top:52673;left:243"><nobr>// First tell the vetoers about the change. If anyone objects, we</nobr></div>
<div style="position:absolute;top:52691;left:243"><nobr>// let the PropertyVetoException propagate back to our caller.</nobr></div>
<div style="position:absolute;top:52709;left:243"><nobr>vetos.fireVetoableChange(“priceInCents”,</nobr></div>
<div style="position:absolute;top:52727;left:378"><nobr>new Integer(oldPriceInCents),</nobr></div>
<div style="position:absolute;top:52745;left:378"><nobr>new Integer(newPriceInCents));</nobr></div>
<div style="position:absolute;top:52763;left:243"><nobr>// No one vetoed, so go ahead and make the change.</nobr></div>
<div style="position:absolute;top:52781;left:243"><nobr>ourPriceInCents = newPriceInCents;</nobr></div>
<div style="position:absolute;top:52799;left:243"><nobr>changes.firePropertyChange(“priceInCents”,</nobr></div>
<div style="position:absolute;top:52817;left:378"><nobr>new Integer(oldPriceInCents),</nobr></div>
<div style="position:absolute;top:52835;left:378"><nobr>new Integer(newPriceInCents));</nobr></div>
<div style="position:absolute;top:52853;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:52880;left:216"><nobr>public void addPropertyChangeListener(PropertyChangeListener l) {</nobr></div>
<div style="position:absolute;top:52898;left:243"><nobr>changes.addPropertyChangeListener(l);</nobr></div>
<div style="position:absolute;top:52916;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:52943;left:216"><nobr>public void removePropertyChangeListener(PropertyChangeListener l) {</nobr></div>
<div style="position:absolute;top:52961;left:243"><nobr>changes.removePropertyChangeListener(l);</nobr></div>
<div style="position:absolute;top:52979;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:53006;left:216"><nobr>public void addVetoableChangeListener(VetoableChangeListener l) {</nobr></div>
<div style="position:absolute;top:53024;left:243"><nobr>vetos.addVetoableChangeListener(l);</nobr></div>
<div style="position:absolute;top:53042;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:53069;left:216"><nobr>public void removeVetoableChangeListener(VetoableChangeListener l) {</nobr></div>
<div style="position:absolute;top:53087;left:243"><nobr>vetos.removeVetoableChangeListener(l);</nobr></div>
<div style="position:absolute;top:53105;left:216"><nobr>}</nobr></div>
<div style="position:absolute;top:53132;left:216"><nobr>private PropertyChangeSupport changes =</nobr></div>
<div style="position:absolute;top:53150;left:405"><nobr>new PropertyChangeSupport(this);</nobr></div>
<div style="position:absolute;top:53168;left:216"><nobr>private VetoableChangeSupport vetos = new VetoableChangeSupport(this);</nobr></div>
<div style="position:absolute;top:53186;left:216"><nobr>private Color ourColor = Color.orange;</nobr></div>
<div style="position:absolute;top:53204;left:216"><nobr>private int ourPriceInCents = 2;</nobr></div>
<div style="position:absolute;top:53222;left:189"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:53635;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="46"><b>Page 46</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:53689;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:54759;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:54759;left:452"><nobr><i>46</i></nobr></div>
<div style="position:absolute;top:54759;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:53743;left:81"><nobr><b>Class PropertyChangeEvent</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:53807;left:135"><nobr>public class java.beans.<b>PropertyChangeEvent</b></nobr></div>
<div style="position:absolute;top:53825;left:171"><nobr>extends java.util.<b>EventObject</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:53860;left:135"><nobr>A "PropertyChange" event gets delivered whenever a bean changes a "bound" or "constrained" property. A Property-</nobr></div>
<div style="position:absolute;top:53878;left:135"><nobr>ChangeEvent object is sent as an argument to the PropertyChangeListener and VetoableChangeListener methods.</nobr></div>
<div style="position:absolute;top:53905;left:135"><nobr>Normally PropertyChangeEvents are accompanied by the name and the old and new value of the changed property. If</nobr></div>
<div style="position:absolute;top:53923;left:135"><nobr>the new value is a primitive type (such as int or boolean) it must be wrapped as the corresponding java.lang.* Object</nobr></div>
<div style="position:absolute;top:53941;left:135"><nobr>type (such as Integer or Boolean).</nobr></div>
<div style="position:absolute;top:53968;left:135"><nobr>Null values may be provided for the old and the new values if their true values are not known.</nobr></div>
<div style="position:absolute;top:53995;left:135"><nobr>An event source may send a null object as the name to indicate that an arbitrary set of if its properties have changed.</nobr></div>
<div style="position:absolute;top:54013;left:135"><nobr>In this case the old and new values should also be null.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:54049;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:54102;left:103"><nobr><b>• PropertyChangeEvent</b></nobr></div>
<div style="position:absolute;top:54125;left:135"><nobr>public PropertyChangeEvent(Object source,</nobr></div>
<div style="position:absolute;top:54143;left:378"><nobr>String propertyName,</nobr></div>
<div style="position:absolute;top:54161;left:378"><nobr>Object oldValue,</nobr></div>
<div style="position:absolute;top:54179;left:378"><nobr>Object newValue)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:54208;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:54226;left:189"><nobr>source</nobr></div>
<div style="position:absolute;top:54244;left:221"><nobr>The bean that fired the event.</nobr></div>
<div style="position:absolute;top:54262;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:54280;left:221"><nobr>The programmatic name of the property that was changed.</nobr></div>
<div style="position:absolute;top:54298;left:189"><nobr>oldValue</nobr></div>
<div style="position:absolute;top:54316;left:221"><nobr>The old value of the property.</nobr></div>
<div style="position:absolute;top:54334;left:189"><nobr>newValue</nobr></div>
<div style="position:absolute;top:54352;left:221"><nobr>The new value of the property.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:54388;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:54441;left:103"><nobr><b>• getNewValue</b></nobr></div>
<div style="position:absolute;top:54464;left:135"><nobr>public Object getNewValue()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:54493;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:54511;left:189"><nobr>The new value for the property, expressed as an Object. May be null if multiple properties have changed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:54545;left:103"><nobr><b>• getOldValue</b></nobr></div>
<div style="position:absolute;top:54567;left:135"><nobr>public Object getOldValue()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:54596;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:54614;left:189"><nobr>The old value for the property, expressed as an Object. May be null if multiple properties have changed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:54648;left:103"><nobr><b>• getPropagationId</b></nobr></div>
<div style="position:absolute;top:54671;left:135"><nobr>public Object getPropagationId()</nobr></div>
</span></font>

<div style="position:absolute;top:54823;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="47"><b>Page 47</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:54877;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:55947;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:55947;left:452"><nobr><i>47</i></nobr></div>
<div style="position:absolute;top:55947;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:54931;left:135"><nobr>The "propagationId" field is reserved for future use. In Beans 1.0 the sole requirement is that if a listener catches a</nobr></div>
<div style="position:absolute;top:54949;left:135"><nobr>PropertyChangeEvent and then fires a PropertyChangeEvent of its own, then it should make sure that it propagates</nobr></div>
<div style="position:absolute;top:54967;left:135"><nobr>the propagationId field from its incoming event to its outgoing event.</nobr></div>
<div style="position:absolute;top:54997;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:55015;left:189"><nobr>the propagationId object associated with a bound/constrained property update.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:55049;left:103"><nobr><b>• getPropertyName</b></nobr></div>
<div style="position:absolute;top:55071;left:135"><nobr>public String getPropertyName()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:55100;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:55118;left:189"><nobr>The programmatic name of the property that was changed. May be null if multiple properties have changed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:55152;left:103"><nobr><b>• setPropagationId</b></nobr></div>
<div style="position:absolute;top:55175;left:135"><nobr>public void setPropagationId(Object propagationId)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:55204;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:55222;left:189"><nobr>propagationId</nobr></div>
<div style="position:absolute;top:55240;left:221"><nobr>The propagationId object for the event.</nobr></div>
</span></font>

<div style="position:absolute;top:56011;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="48"><b>Page 48</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:56065;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:57135;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:57135;left:452"><nobr><i>48</i></nobr></div>
<div style="position:absolute;top:57135;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:56119;left:81"><nobr><b>Interface PropertyChangeListener</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:56183;left:135"><nobr>public interface java.beans.<b>PropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:56201;left:171"><nobr>extends java.util.<b>EventListener</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:56236;left:135"><nobr>A "PropertyChange" event gets fired whenever a bean changes a "bound" property. You can register a Property-</nobr></div>
<div style="position:absolute;top:56254;left:135"><nobr>ChangeListener with a source bean so as to be notified of any bound property updates.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:56290;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:56343;left:103"><nobr><b>• propertyChange</b></nobr></div>
<div style="position:absolute;top:56366;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:56384;left:135"><nobr>propertyChange(PropertyChangeEvent evt)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:56416;left:135"><nobr>This method gets called when a bound property is changed.</nobr></div>
<div style="position:absolute;top:56446;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:56464;left:189"><nobr>evt</nobr></div>
<div style="position:absolute;top:56482;left:221"><nobr>A PropertyChangeEvent object describing the event source and the property that has changed.</nobr></div>
</span></font>

<div style="position:absolute;top:57199;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="49"><b>Page 49</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:57253;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:58323;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:58323;left:452"><nobr><i>49</i></nobr></div>
<div style="position:absolute;top:58323;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:57307;left:81"><nobr><b>Class PropertyChangeSupport</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:57371;left:135"><nobr>public class java.beans.<b>PropertyChangeSupport</b></nobr></div>
<div style="position:absolute;top:57389;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
<div style="position:absolute;top:57407;left:171"><nobr>implements java.io.<b>Serializable</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:57442;left:135"><nobr>This is a utility class that can be used by beans that support bound properties. You can use an instance of this class as</nobr></div>
<div style="position:absolute;top:57460;left:135"><nobr>a member field of your bean and delegate various work to it.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:57496;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:57549;left:103"><nobr><b>• PropertyChangeSupport</b></nobr></div>
<div style="position:absolute;top:57572;left:135"><nobr>public PropertyChangeSupport(Object sourceBean)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:57607;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:57660;left:103"><nobr><b>• addPropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:57683;left:135"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:57701;left:135"><nobr>addPropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:57733;left:135"><nobr>Add a PropertyChangeListener to the listener list.</nobr></div>
<div style="position:absolute;top:57763;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:57781;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:57799;left:221"><nobr>The PropertyChangeListener to be added</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:57833;left:103"><nobr><b>• firePropertyChange</b></nobr></div>
<div style="position:absolute;top:57855;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:57873;left:135"><nobr>firePropertyChange(String propertyName,</nobr></div>
<div style="position:absolute;top:57891;left:306"><nobr>Object oldValue, Object newValue)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:57923;left:135"><nobr>Report a bound property update to any registered listeners. No event is fired if old and new are equal and non-null.</nobr></div>
<div style="position:absolute;top:57953;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:57971;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:57989;left:221"><nobr>The programmatic name of the property that was changed.</nobr></div>
<div style="position:absolute;top:58007;left:189"><nobr>oldValue</nobr></div>
<div style="position:absolute;top:58025;left:221"><nobr>The old value of the property.</nobr></div>
<div style="position:absolute;top:58043;left:189"><nobr>newValue</nobr></div>
<div style="position:absolute;top:58061;left:221"><nobr>The new value of the property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:58095;left:103"><nobr><b>• removePropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:58118;left:135"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:58136;left:135"><nobr>removePropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:58168;left:135"><nobr>Remove a PropertyChangeListener from the listener list.</nobr></div>
<div style="position:absolute;top:58198;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:58216;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:58234;left:221"><nobr>The PropertyChangeListener to be removed</nobr></div>
</span></font>

<div style="position:absolute;top:58387;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="50"><b>Page 50</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:58441;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:59511;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:59511;left:452"><nobr><i>50</i></nobr></div>
<div style="position:absolute;top:59511;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:58495;left:81"><nobr><b>Class PropertyVetoException</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:58559;left:135"><nobr>public class java.beans.<b>PropertyVetoException</b></nobr></div>
<div style="position:absolute;top:58577;left:171"><nobr>extends java.lang.<b>Exception</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:58612;left:135"><nobr>A PropertyVetoException is thrown when a proposed change to a property represents an unacceptable value.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:58648;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:58701;left:103"><nobr><b>• PropertyVetoException</b></nobr></div>
<div style="position:absolute;top:58724;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:58742;left:135"><nobr>PropertyVetoException(String mess,</nobr></div>
<div style="position:absolute;top:58760;left:333"><nobr>PropertyChangeEvent evt)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:58789;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:58807;left:189"><nobr>mess</nobr></div>
<div style="position:absolute;top:58825;left:221"><nobr>Descriptive message</nobr></div>
<div style="position:absolute;top:58843;left:189"><nobr>evt</nobr></div>
<div style="position:absolute;top:58861;left:221"><nobr>A PropertyChangeEvent describing the vetoed change.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:58897;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:58950;left:103"><nobr><b>• getPropertyChangeEvent</b></nobr></div>
<div style="position:absolute;top:58973;left:135"><nobr>public PropertyChangeEvent getPropertyChangeEvent()</nobr></div>
</span></font>

<div style="position:absolute;top:59575;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="51"><b>Page 51</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:59629;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:60699;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:60699;left:452"><nobr><i>51</i></nobr></div>
<div style="position:absolute;top:60699;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:59683;left:81"><nobr><b>Interface VetoableChangeListener</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:59747;left:135"><nobr>public interface java.beans.<b>VetoableChangeListener</b></nobr></div>
<div style="position:absolute;top:59765;left:171"><nobr>extends java.util.<b>EventListener</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:59800;left:135"><nobr>A VetoableChange event gets fired whenever a bean changes a "constrained" property. You can register a Veto-</nobr></div>
<div style="position:absolute;top:59818;left:135"><nobr>ableChangeListener with a source bean so as to be notified of any constrained property updates.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:59854;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:59907;left:103"><nobr><b>• vetoableChange</b></nobr></div>
<div style="position:absolute;top:59930;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:59948;left:135"><nobr>vetoableChange(PropertyChangeEvent evt)</nobr></div>
<div style="position:absolute;top:59966;left:180"><nobr>throws PropertyVetoException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:59998;left:135"><nobr>This method gets called when a constrained property is changed.</nobr></div>
<div style="position:absolute;top:60028;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:60046;left:189"><nobr>evt</nobr></div>
<div style="position:absolute;top:60064;left:221"><nobr>a <font face="Courier">PropertyChangeEvent </font>object describing the event source and the property that has changed.</nobr></div>
<div style="position:absolute;top:60094;left:135"><nobr><b>Throws: </b>PropertyVetoException</nobr></div>
<div style="position:absolute;top:60112;left:189"><nobr>if the recipient wishes the property change to be rolled back.</nobr></div>
</span></font>

<div style="position:absolute;top:60763;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="52"><b>Page 52</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:60817;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:61887;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:61887;left:452"><nobr><i>52</i></nobr></div>
<div style="position:absolute;top:61887;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:60871;left:81"><nobr><b>Class VetoableChangeSupport</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:60935;left:135"><nobr>public class java.beans.<b>VetoableChangeSupport</b></nobr></div>
<div style="position:absolute;top:60953;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
<div style="position:absolute;top:60971;left:171"><nobr>implements java.io.<b>Serializable</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:61006;left:135"><nobr>This is a utility class that can be used by beans that support constrained properties. You can use an instance of this</nobr></div>
<div style="position:absolute;top:61024;left:135"><nobr>class as a member field of your bean and delegate various work to it.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:61060;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:61113;left:103"><nobr><b>• VetoableChangeSupport</b></nobr></div>
<div style="position:absolute;top:61136;left:135"><nobr>public VetoableChangeSupport(Object sourceBean)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:61171;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:61224;left:103"><nobr><b>• addVetoableChangeListener</b></nobr></div>
<div style="position:absolute;top:61247;left:135"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:61265;left:135"><nobr>addVetoableChangeListener(VetoableChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:61297;left:135"><nobr>Add a VetoableListener to the listener list.</nobr></div>
<div style="position:absolute;top:61327;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:61345;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:61363;left:221"><nobr>The VetoableChangeListener to be added</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:61397;left:103"><nobr><b>• fireVetoableChange</b></nobr></div>
<div style="position:absolute;top:61419;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:61437;left:135"><nobr>fireVetoableChange(String propertyName,</nobr></div>
<div style="position:absolute;top:61455;left:306"><nobr>Object oldValue, Object newValue)</nobr></div>
<div style="position:absolute;top:61473;left:180"><nobr>throws PropertyVetoException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:61505;left:135"><nobr>Report a vetoable property update to any registered listeners. If anyone vetos the change, then fire a new event revert-</nobr></div>
<div style="position:absolute;top:61523;left:135"><nobr>ing everyone to the old value and then rethrow the PropertyVetoException.</nobr></div>
<div style="position:absolute;top:61550;left:135"><nobr>No event is fired if old and new are equal and non-null.</nobr></div>
<div style="position:absolute;top:61580;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:61598;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:61616;left:221"><nobr>The programmatic name of the property that was changed.</nobr></div>
<div style="position:absolute;top:61634;left:189"><nobr>oldValue</nobr></div>
<div style="position:absolute;top:61652;left:221"><nobr>The old value of the property.</nobr></div>
<div style="position:absolute;top:61670;left:189"><nobr>newValue</nobr></div>
<div style="position:absolute;top:61688;left:221"><nobr>The new value of the property.</nobr></div>
<div style="position:absolute;top:61718;left:135"><nobr><b>Throws: </b>PropertyVetoException</nobr></div>
<div style="position:absolute;top:61736;left:189"><nobr>if the recipient wishes the property change to be rolled back.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:61770;left:103"><nobr><b>• removeVetoableChangeListener</b></nobr></div>
<div style="position:absolute;top:61793;left:135"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:61811;left:135"><nobr>removeVetoableChangeListener(VetoableChangeListener listener)</nobr></div>
</span></font>

<div style="position:absolute;top:61951;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="53"><b>Page 53</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:62005;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:63075;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:63075;left:452"><nobr><i>53</i></nobr></div>
<div style="position:absolute;top:63075;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:62059;left:135"><nobr>Remove a VetoableChangeListener from the listener list.</nobr></div>
<div style="position:absolute;top:62089;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:62107;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:62125;left:221"><nobr>The VetoableChangeListener to be removed</nobr></div>
</span></font>

<div style="position:absolute;top:63139;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="54"><b>Page 54</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:63193;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:63193;left:757"><nobr><i>Introspection</i></nobr></div>
<div style="position:absolute;top:64263;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:64263;left:452"><nobr><i>54</i></nobr></div>
<div style="position:absolute;top:64263;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:63247;left:122"><nobr><b>8 Introspection</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:63295;left:81"><nobr><b>8.1 Overview</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:63328;left:162"><nobr>At runtime and in the builder environment we need to be able to figure out which properties,</nobr></div>
<div style="position:absolute;top:63349;left:162"><nobr>events, and methods a Java Bean supports. We call this process <i>introspection</i>.</nobr></div>
<div style="position:absolute;top:63379;left:162"><nobr>We want Java Beans developers to be able to work entirely in terms of Java. We therefore want</nobr></div>
<div style="position:absolute;top:63400;left:162"><nobr>to avoid using any separate specification language for defining the behaviour of a Java Bean.</nobr></div>
<div style="position:absolute;top:63421;left:162"><nobr>Rather we’d like all of its behaviour to be specifiable in Java.</nobr></div>
<div style="position:absolute;top:63451;left:162"><nobr>A key goal of Java Beans is to make it very easy to write simple components and to provide</nobr></div>
<div style="position:absolute;top:63472;left:162"><nobr>default implementations for most common tasks. Therefore, we’d like to be able to introspect</nobr></div>
<div style="position:absolute;top:63493;left:162"><nobr>on simple beans without requiring that the beans developer do a whole bunch of extra work to</nobr></div>
<div style="position:absolute;top:63514;left:162"><nobr>support introspection. However, for more sophisticated components we also want to allow the</nobr></div>
<div style="position:absolute;top:63535;left:162"><nobr>component developers full and precise control over which properties, events, and methods are</nobr></div>
<div style="position:absolute;top:63556;left:162"><nobr>exposed.</nobr></div>
<div style="position:absolute;top:63586;left:162"><nobr>We therefore provide a composite mechanism. By default we will use a low level <i>reflection</i></nobr></div>
<div style="position:absolute;top:63607;left:162"><nobr>mechanism to study the methods supported by a target bean and then apply simple <i>design pat-</i></nobr></div>
<div style="position:absolute;top:63628;left:162"><nobr><i>terns </i>to deduce from those methods what properties, events, and public methods are supported.</nobr></div>
<div style="position:absolute;top:63649;left:162"><nobr>However, if a bean implementor chooses to provide a BeanInfo class describing their bean then</nobr></div>
<div style="position:absolute;top:63670;left:162"><nobr>this BeanInfo class will be used to programmatically discover the beans behaviour.</nobr></div>
<div style="position:absolute;top:63700;left:162"><nobr>To allow application builders and other tools to analyze beans, we provide an Introspector class</nobr></div>
<div style="position:absolute;top:63721;left:162"><nobr>that understands the various design patterns and standard interfaces and provides a uniform</nobr></div>
<div style="position:absolute;top:63742;left:162"><nobr>way of introspecting on different beans.</nobr></div>
<div style="position:absolute;top:63772;left:162"><nobr>For any given bean instance we expect its introspection information to be immutable and not</nobr></div>
<div style="position:absolute;top:63793;left:162"><nobr>to vary in normal use. However if a bean is updated with a new improved set of class files, then</nobr></div>
<div style="position:absolute;top:63814;left:162"><nobr>of course its signatures may change.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:63853;left:81"><nobr><b>8.2 Overview of <i>Design Patterns</i></b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:63886;left:162"><nobr>By the term <i>design patterns </i>we mean conventional names and type signatures for sets of meth-</nobr></div>
<div style="position:absolute;top:63907;left:162"><nobr>ods and/or interfaces that are used for standard purposes. For example the use of getFoo and</nobr></div>
<div style="position:absolute;top:63928;left:162"><nobr>setFoo methods to retrieve and set the values of a “foo” property.</nobr></div>
<div style="position:absolute;top:63958;left:162"><nobr>These design patterns have two uses. First they are a useful documentation hint for human pro-</nobr></div>
<div style="position:absolute;top:63979;left:162"><nobr>grammers. By quickly identifying particular methods as fitting standard design patterns, hu-</nobr></div>
<div style="position:absolute;top:64000;left:162"><nobr>mans can more quickly assimilate and use new classes. Secondly, we can write tools and</nobr></div>
<div style="position:absolute;top:64021;left:162"><nobr>libraries that recognize design patterns and use them to analyze and understand components.</nobr></div>
<div style="position:absolute;top:64042;left:162"><nobr>In particular for Java Beans we use automatic identification of design patterns as a way for tools</nobr></div>
<div style="position:absolute;top:64063;left:162"><nobr>to identify properties, events, and exported methods.</nobr></div>
<div style="position:absolute;top:64093;left:162"><nobr>However, within Java Beans the use of method and type names that match design patterns is</nobr></div>
<div style="position:absolute;top:64114;left:162"><nobr>entirely optional. If a programmer is prepared to explicitly specify their properties, methods,</nobr></div>
<div style="position:absolute;top:64135;left:162"><nobr>and events using the BeanInfo interface then they can call their methods and types whatever</nobr></div>
<div style="position:absolute;top:64156;left:162"><nobr>they like. However, these methods and types will still have to match the required type signa-</nobr></div>
<div style="position:absolute;top:64177;left:162"><nobr>tures, as this is essential to their operation.</nobr></div>
</span></font>

<div style="position:absolute;top:64327;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="55"><b>Page 55</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:64381;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:64381;left:757"><nobr><i>Introspection</i></nobr></div>
<div style="position:absolute;top:65451;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:65451;left:452"><nobr><i>55</i></nobr></div>
<div style="position:absolute;top:65451;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:64435;left:162"><nobr>Although use of the standard naming patterns is optional, we strongly recommend their use as</nobr></div>
<div style="position:absolute;top:64456;left:162"><nobr>standard naming conventions are an extremely valuable documentation technique.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:64495;left:81"><nobr><b>8.3 Design Patterns for Properties</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:64532;left:99"><nobr><b>8.3.1</b></nobr></div>
<div style="position:absolute;top:64532;left:162"><nobr><b>Simple properties</b></nobr></div>
<div style="position:absolute;top:64562;left:162"><nobr>By default, we use design patterns to locate properties by looking for methods of the form:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:64593;left:189"><nobr>public &lt;PropertyType&gt; get&lt;PropertyName&gt;();</nobr></div>
<div style="position:absolute;top:64611;left:189"><nobr>public void set&lt;PropertyName&gt;(&lt;PropertyType&gt; a);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:64637;left:162"><nobr>If we discover a matching pair of “get&lt;<i>PropertyName</i>&gt;” and “set&lt;<i>PropertyName</i>&gt;” methods</nobr></div>
<div style="position:absolute;top:64658;left:162"><nobr>that take and return the same type, then we regard these methods as defining a read-write prop-</nobr></div>
<div style="position:absolute;top:64679;left:162"><nobr>erty whose name will be “&lt;<i>propertyName&gt;”</i>. We will use the “get&lt;<i>PropertyName</i>&gt;” method</nobr></div>
<div style="position:absolute;top:64700;left:162"><nobr>to get the property value and the “set&lt;<i>PropertyName</i>&gt;” method to set the property value. The</nobr></div>
<div style="position:absolute;top:64721;left:162"><nobr>pair of methods may be located either in the same class or one may be in a base class and the</nobr></div>
<div style="position:absolute;top:64742;left:162"><nobr>other may be in a derived class.</nobr></div>
<div style="position:absolute;top:64772;left:162"><nobr>If we find only one of these methods, then we regard it as defining either a read-only or a write-</nobr></div>
<div style="position:absolute;top:64793;left:162"><nobr>only property called “&lt;<i>propertyName&gt;</i>”</nobr></div>
<div style="position:absolute;top:64823;left:162"><nobr>By default we assume that properties are neither <i>bound </i>nor <i>constrained </i>(see Section 7).</nobr></div>
<div style="position:absolute;top:64853;left:162"><nobr>So a simple read-write property “foo” might be represented by a pair of methods:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:64884;left:189"><nobr>public Wombat getFoo();</nobr></div>
<div style="position:absolute;top:64902;left:189"><nobr>public void setFoo(Wombat w);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:64933;left:99"><nobr><b>8.3.2</b></nobr></div>
<div style="position:absolute;top:64933;left:162"><nobr><b>Boolean properties</b></nobr></div>
<div style="position:absolute;top:64963;left:162"><nobr>In addition, for boolean properties, we allow a getter method to match the pattern:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:64994;left:189"><nobr>public boolean is&lt;PropertyName&gt;();</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:65020;left:162"><nobr>This “is&lt;<i>PropertyName</i>&gt;” method may be provided instead of a “get&lt;<i>PropertyName</i>&gt;” meth-</nobr></div>
<div style="position:absolute;top:65041;left:162"><nobr>od, or it may be provided in addition to a “get&lt;<i>PropertyName</i>&gt;” method.</nobr></div>
<div style="position:absolute;top:65071;left:162"><nobr>In either case, if the “is&lt;<i>PropertyName</i>&gt;” method is present for a boolean property then we will</nobr></div>
<div style="position:absolute;top:65092;left:162"><nobr>use the “is&lt;<i>PropertyName</i>&gt;” method to read the property value.</nobr></div>
<div style="position:absolute;top:65122;left:162"><nobr>An example boolean property might be:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:65155;left:248"><nobr>public boolean isMarsupial();</nobr></div>
<div style="position:absolute;top:65174;left:248"><nobr>public void setMarsupial(boolean m);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:65204;left:99"><nobr><b>8.3.3</b></nobr></div>
<div style="position:absolute;top:65204;left:162"><nobr><b>Indexed properties</b></nobr></div>
<div style="position:absolute;top:65234;left:162"><nobr>If we find a property whose type is an array “&lt;<i>PropertyElement&gt;</i>[]”, then we also look for</nobr></div>
<div style="position:absolute;top:65255;left:162"><nobr>methods of the form:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:65286;left:189"><nobr>public &lt;PropertyElement&gt; get&lt;PropertyName&gt;(int a);</nobr></div>
<div style="position:absolute;top:65304;left:189"><nobr>public void set&lt;PropertyName&gt;(int a, &lt;PropertyElement&gt; b);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:65330;left:162"><nobr>If we find either kind of pattern then we assume that “&lt;<i>propertyName&gt;” </i>is an indexed property</nobr></div>
<div style="position:absolute;top:65351;left:162"><nobr>and that these methods can be used to read and/or write an indexed value.</nobr></div>
<div style="position:absolute;top:65381;left:162"><nobr>Thus an indexed property “foo” might be represented by four accessor methods:</nobr></div>
</span></font>

<div style="position:absolute;top:65515;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="56"><b>Page 56</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:65569;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:65569;left:757"><nobr><i>Introspection</i></nobr></div>
<div style="position:absolute;top:66639;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:66639;left:452"><nobr><i>56</i></nobr></div>
<div style="position:absolute;top:66639;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:65624;left:189"><nobr>public Bah[] getFoo();</nobr></div>
<div style="position:absolute;top:65642;left:189"><nobr>public void setFoo(Bah a[]);</nobr></div>
<div style="position:absolute;top:65660;left:189"><nobr>public Bah getFoo(int a);</nobr></div>
<div style="position:absolute;top:65678;left:189"><nobr>public void setFoo(int a, Bah b);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:65713;left:81"><nobr><b>8.4 Design Patterns for Events</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:65746;left:162"><nobr>By default, we use the following design pattern to determine which events a bean multicasts.</nobr></div>
<div style="position:absolute;top:65767;left:162"><nobr>We look for a pair of methods of the form:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:65798;left:189"><nobr>public void add&lt;EventListenerType&gt;(&lt;EventListenerType&gt; a)</nobr></div>
<div style="position:absolute;top:65816;left:189"><nobr>public void remove&lt;EventListenerType&gt;(&lt;EventListenerType&gt; a)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:65842;left:162"><nobr>where both methods take the same “&lt;<i>EventListenerType</i>&gt;” type argument, where the</nobr></div>
<div style="position:absolute;top:65863;left:162"><nobr>“&lt;<i>EventListenerType</i>&gt;” type extends the “java.util.EventListener” interface, where the first</nobr></div>
<div style="position:absolute;top:65884;left:162"><nobr>method starts with “add”, the second method starts with “remove”, and where the “&lt;<i>EventLis-</i></nobr></div>
<div style="position:absolute;top:65905;left:162"><nobr><i>tenerType&gt;” </i>type name ends with “Listener”.</nobr></div>
<div style="position:absolute;top:65935;left:162"><nobr>This design pattern assumes that the Java Bean is acting as a multicast event source for the</nobr></div>
<div style="position:absolute;top:65956;left:162"><nobr>events specified in the “&lt;<i>EventListenerType&gt;” </i>interface.</nobr></div>
<div style="position:absolute;top:65986;left:162"><nobr>So for example:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:66017;left:189"><nobr>public void addFredListener(FredListener t);</nobr></div>
<div style="position:absolute;top:66035;left:189"><nobr>public void removeFredListener(FredListener t);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:66061;left:162"><nobr>defines a multicast event source.</nobr></div>
<div style="position:absolute;top:66095;left:99"><nobr><b>8.4.1</b></nobr></div>
<div style="position:absolute;top:66095;left:162"><nobr><b>Unicast event sources</b></nobr></div>
<div style="position:absolute;top:66125;left:162"><nobr>As a special case, when we locate an event source using the design pattern described above we</nobr></div>
<div style="position:absolute;top:66146;left:162"><nobr>check if the “add&lt;<i>EventListenerType&gt;” </i>method throws the java.util.TooManyListenersEx-</nobr></div>
<div style="position:absolute;top:66167;left:162"><nobr>ception. If so, we assume that the event source is unicast and can only tolerate a single event</nobr></div>
<div style="position:absolute;top:66188;left:162"><nobr>listener being registered at a time.</nobr></div>
<div style="position:absolute;top:66218;left:162"><nobr>So for example:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:66249;left:189"><nobr>public void addJackListener(JackListener t)</nobr></div>
<div style="position:absolute;top:66267;left:400"><nobr>throws java.util.TooManyListenersException;</nobr></div>
<div style="position:absolute;top:66285;left:189"><nobr>public void removeJackListener(JackListener t);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:66311;left:162"><nobr>defines a unicast event source for the “JackListener” interface.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:66350;left:81"><nobr><b>8.5 Design Patterns for Methods</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:66383;left:162"><nobr>By default, we assume that all public methods of a Java Bean should be exposed as external</nobr></div>
<div style="position:absolute;top:66404;left:162"><nobr>methods within the component environment for access by other components or by scripting</nobr></div>
<div style="position:absolute;top:66425;left:162"><nobr>languages.</nobr></div>
<div style="position:absolute;top:66455;left:162"><nobr>By default, this includes any property accessor methods, and any event listener registry meth-</nobr></div>
<div style="position:absolute;top:66476;left:162"><nobr>ods.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:66515;left:81"><nobr><b>8.6 Explicit Specification using a BeanInfo class</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:66548;left:162"><nobr>A Java Bean can also explicitly specify which properties, events, and methods it supports by</nobr></div>
<div style="position:absolute;top:66569;left:162"><nobr>providing a class that implements the BeanInfo interface.</nobr></div>
</span></font>

<div style="position:absolute;top:66703;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="57"><b>Page 57</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:66757;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:66757;left:757"><nobr><i>Introspection</i></nobr></div>
<div style="position:absolute;top:67827;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:67827;left:452"><nobr><i>57</i></nobr></div>
<div style="position:absolute;top:67827;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:66811;left:162"><nobr>The BeanInfo interface provides methods for learning about the events, properties, methods,</nobr></div>
<div style="position:absolute;top:66832;left:162"><nobr>and global information about a target bean. As part of delivering a bean, an ISV may also de-</nobr></div>
<div style="position:absolute;top:66853;left:162"><nobr>liver a matching BeanInfo class whose name is formed by adding “BeanInfo” to the bean’s</nobr></div>
<div style="position:absolute;top:66874;left:162"><nobr>class name.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:66904;left:194"><nobr>Java Beans uses purely programmatic APIs to obtain introspection information through BeanInfo.</nobr></div>
<div style="position:absolute;top:66922;left:194"><nobr>However note that individual component developers have the option of using arbitrary private bean de-</nobr></div>
<div style="position:absolute;top:66940;left:194"><nobr>scription files behind the scenes and simply providing BeanInfo classes that know how to read these</nobr></div>
<div style="position:absolute;top:66958;left:194"><nobr>files.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:66991;left:162"><nobr>A bean’s BeanInfo class may choose to only specify part of a bean’s behavior. It might for ex-</nobr></div>
<div style="position:absolute;top:67012;left:162"><nobr>ample return an EventSetDescriptor array from the getEventSetDescriptors method to provide</nobr></div>
<div style="position:absolute;top:67033;left:162"><nobr>definitive information on the bean’s events while opting to return null from the getMethodDe-</nobr></div>
<div style="position:absolute;top:67054;left:162"><nobr>scriptors method, which indicates that the information on exposed methods should be discov-</nobr></div>
<div style="position:absolute;top:67075;left:162"><nobr>ered by examining the bean itself.</nobr></div>
<div style="position:absolute;top:67105;left:162"><nobr>Thus to obtain a complete picture of a bean, application tools should always use the Introspec-</nobr></div>
<div style="position:absolute;top:67126;left:162"><nobr>tor interface (see next section) which combines the information from a variety of potential</nobr></div>
<div style="position:absolute;top:67147;left:162"><nobr>sources to construct a definitive BeanInfo descriptor for a target bean.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:67186;left:81"><nobr><b>8.7 Analyzing a Bean</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:67219;left:162"><nobr>We allow both explicit specification of a bean’s exposed properties/methods/events and also</nobr></div>
<div style="position:absolute;top:67240;left:162"><nobr>implicit analysis using design patterns.</nobr></div>
<div style="position:absolute;top:67270;left:162"><nobr>To simplify access to this information, and to make sure that all tools apply the same analysis</nobr></div>
<div style="position:absolute;top:67291;left:162"><nobr>rules, we provide a class java.beans.Introspector that should be used to analyze a bean class. It</nobr></div>
<div style="position:absolute;top:67312;left:162"><nobr>allows you to obtain a BeanInfo object that comprehensively describes a target bean class.</nobr></div>
<div style="position:absolute;top:67342;left:162"><nobr>The Introspector class walks over the class/superclass chain of the target class. At each level it</nobr></div>
<div style="position:absolute;top:67363;left:162"><nobr>checks if there is a matching BeanInfo class which provides explicit information about the</nobr></div>
<div style="position:absolute;top:67384;left:162"><nobr>bean, and if so uses that explicit information. Otherwise it uses the low level reflection APIs to</nobr></div>
<div style="position:absolute;top:67405;left:162"><nobr>study the target class and uses design patterns to analyze its behaviour and then proceeds to</nobr></div>
<div style="position:absolute;top:67426;left:162"><nobr>continue the introspection with its baseclass. (See the Introspector class definition for a full de-</nobr></div>
<div style="position:absolute;top:67447;left:162"><nobr>scription of the analysis rules.)</nobr></div>
<div style="position:absolute;top:67477;left:162"><nobr>The reason for this multi-level analysis is to allow ISVs to deliver complex beans with explic-</nobr></div>
<div style="position:absolute;top:67498;left:162"><nobr>itly specified behaviour where these beans are then subclassed and extended in minor ways by</nobr></div>
<div style="position:absolute;top:67519;left:162"><nobr>end customers. We want to be able to use automatic introspection to analyze the extensions</nobr></div>
<div style="position:absolute;top:67540;left:162"><nobr>added by the end customers and then add in the explicit information provided by the ISV who</nobr></div>
<div style="position:absolute;top:67561;left:162"><nobr>wrote the baseclass.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:67600;left:81"><nobr><b>8.8 Capitalization of inferred names.</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:67633;left:162"><nobr>When we use design patterns to infer a property or event name, we need to decide what rules</nobr></div>
<div style="position:absolute;top:67654;left:162"><nobr>to follow for capitalizing the inferred name. If we extract the name from the middle of a normal</nobr></div>
<div style="position:absolute;top:67675;left:162"><nobr>mixedCase style Java name then the name will, by default, begin with a capital letter.</nobr></div>
<div style="position:absolute;top:67705;left:162"><nobr>Java programmers are accustomed to having normal identifiers start with lower case letters.</nobr></div>
<div style="position:absolute;top:67726;left:162"><nobr>Vigorous reviewer input has convinced us that we should follow this same conventional rule</nobr></div>
<div style="position:absolute;top:67747;left:162"><nobr>for property and event names.</nobr></div>
</span></font>

<div style="position:absolute;top:67891;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="58"><b>Page 58</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:67945;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:67945;left:757"><nobr><i>Introspection</i></nobr></div>
<div style="position:absolute;top:69015;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:69015;left:452"><nobr><i>58</i></nobr></div>
<div style="position:absolute;top:69015;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:67999;left:162"><nobr>Thus when we extract a property or event name from the middle of an existing Java name, we</nobr></div>
<div style="position:absolute;top:68020;left:162"><nobr>normally convert the first character to lower case. However to support the occasional use of all</nobr></div>
<div style="position:absolute;top:68041;left:162"><nobr>upper-case names, we check if the first two characters of the name are both upper case and if</nobr></div>
<div style="position:absolute;top:68062;left:162"><nobr>so leave it alone. So for example,</nobr></div>
<div style="position:absolute;top:68092;left:243"><nobr>“FooBah” becomes “fooBah”</nobr></div>
<div style="position:absolute;top:68122;left:243"><nobr>“Z” becomes “z”</nobr></div>
<div style="position:absolute;top:68152;left:243"><nobr>“URL” becomes “URL”</nobr></div>
<div style="position:absolute;top:68182;left:162"><nobr>We provide a method Introspector.decapitalize which implements this conversion rule.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:68221;left:81"><nobr><b>8.9 Security</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:68254;left:162"><nobr>The high-level Introspection APIs only provide information on “public” methods of target</nobr></div>
<div style="position:absolute;top:68275;left:162"><nobr>beans. The normal JDK security manager will allow even untrusted applets to access public</nobr></div>
<div style="position:absolute;top:68296;left:162"><nobr>fields and methods using the java.lang.reflect APIs. However, while access to private methods</nobr></div>
<div style="position:absolute;top:68317;left:162"><nobr>and fields may be available to “trusted” application builders, this access will normally be de-</nobr></div>
<div style="position:absolute;top:68338;left:162"><nobr>nied to untrusted applets.</nobr></div>
</span></font>

<div style="position:absolute;top:69079;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="59"><b>Page 59</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:69133;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:70203;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:70203;left:452"><nobr><i>59</i></nobr></div>
<div style="position:absolute;top:70203;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:69187;left:81"><nobr><b>Class BeanDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:69251;left:135"><nobr>public class java.beans.<b>BeanDescriptor</b></nobr></div>
<div style="position:absolute;top:69269;left:171"><nobr>extends java.beans.<b>FeatureDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:69304;left:135"><nobr>A BeanDescriptor provides global information about a "bean", including its Java class, its displayName, etc.</nobr></div>
<div style="position:absolute;top:69331;left:135"><nobr>This is one of the kinds of descriptor returned by a BeanInfo object, which also returns descriptors for properties,</nobr></div>
<div style="position:absolute;top:69349;left:135"><nobr>method, and events.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:69385;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:69438;left:103"><nobr><b>• BeanDescriptor</b></nobr></div>
<div style="position:absolute;top:69461;left:135"><nobr>public BeanDescriptor(Class beanClass)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:69493;left:135"><nobr>Create a BeanDescriptor for a bean that doesn't have a customizer.</nobr></div>
<div style="position:absolute;top:69523;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:69541;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:69559;left:221"><nobr>The Class object of the Java class that implements the bean. For example sun.beans.OurButton.class.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:69593;left:103"><nobr><b>• BeanDescriptor</b></nobr></div>
<div style="position:absolute;top:69615;left:135"><nobr>public BeanDescriptor(Class beanClass,</nobr></div>
<div style="position:absolute;top:69633;left:333"><nobr>Class customizerClass)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:69665;left:135"><nobr>Create a BeanDescriptor for a bean that has a customizer.</nobr></div>
<div style="position:absolute;top:69695;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:69713;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:69731;left:221"><nobr>The Class object of the Java class that implements the bean. For example sun.beans.OurButton.class.</nobr></div>
<div style="position:absolute;top:69749;left:189"><nobr>customizerClass</nobr></div>
<div style="position:absolute;top:69767;left:221"><nobr>The Class object of the Java class that implements the bean's Customizer. For example sun.beans.Our-</nobr></div>
<div style="position:absolute;top:69785;left:221"><nobr>ButtonCustomizer.class.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:69821;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:69875;left:103"><nobr><b>• getBeanClass</b></nobr></div>
<div style="position:absolute;top:69897;left:135"><nobr>public Class getBeanClass()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:69926;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:69944;left:189"><nobr>The Class object for the bean.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:69978;left:103"><nobr><b>• getCustomizerClass</b></nobr></div>
<div style="position:absolute;top:70001;left:135"><nobr>public Class getCustomizerClass()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:70030;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:70048;left:189"><nobr>The Class object for the bean's customizer. This may be null if the bean doesn't have a customizer.</nobr></div>
</span></font>

<div style="position:absolute;top:70267;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="60"><b>Page 60</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:70321;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:71391;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:71391;left:452"><nobr><i>60</i></nobr></div>
<div style="position:absolute;top:71391;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:70375;left:81"><nobr><b>Interface BeanInfo</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:70439;left:135"><nobr>public interface java.beans.<b>BeanInfo</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:70474;left:135"><nobr>A bean implementor who wishes to provide explicit information about their bean may provide a BeanInfo class that</nobr></div>
<div style="position:absolute;top:70492;left:135"><nobr>implements this BeanInfo interface and provides explicit information about the methods, properties, events, etc, of</nobr></div>
<div style="position:absolute;top:70510;left:135"><nobr>their bean.</nobr></div>
<div style="position:absolute;top:70537;left:135"><nobr>A bean implementor doesn't need to provide a complete set of explicit information. You can pick and choose which</nobr></div>
<div style="position:absolute;top:70555;left:135"><nobr>information you want to provide and the rest will be obtained by automatic analysis using low-level reflection of the</nobr></div>
<div style="position:absolute;top:70573;left:135"><nobr>bean classes' methods and applying standard design patterns.</nobr></div>
<div style="position:absolute;top:70600;left:135"><nobr>You get the opportunity to provide lots and lots of different information as part of the various XyZDescriptor classes.</nobr></div>
<div style="position:absolute;top:70618;left:135"><nobr>But don't panic, you only really need to provide the minimal core information required by the various constructors.</nobr></div>
<div style="position:absolute;top:70645;left:135"><nobr>See also the SimpleBeanInfo class which provides a convenient "noop" base class for BeanInfo classes, which you</nobr></div>
<div style="position:absolute;top:70663;left:135"><nobr>can override for those specific places where you want to return explicit info.</nobr></div>
<div style="position:absolute;top:70690;left:135"><nobr>To learn about all the behaviour of a bean see the Introspector class.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:70726;left:81"><nobr><b>Variables</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:70779;left:103"><nobr><b>• ICON_COLOR_16x16</b></nobr></div>
<div style="position:absolute;top:70802;left:135"><nobr>public final static int ICON_COLOR_16x16</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:70834;left:135"><nobr>Constant to indicate a 16 x 16 color icon.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:70868;left:103"><nobr><b>• ICON_COLOR_32x32</b></nobr></div>
<div style="position:absolute;top:70890;left:135"><nobr>public final static int ICON_COLOR_32x32</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:70922;left:135"><nobr>Constant to indicate a 32 x 32 color icon.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:70956;left:103"><nobr><b>• ICON_MONO_16x16</b></nobr></div>
<div style="position:absolute;top:70979;left:135"><nobr>public final static int ICON_MONO_16x16</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71011;left:135"><nobr>Constant to indicate a 16 x 16 monochrome icon.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:71045;left:103"><nobr><b>• ICON_MONO_32x32</b></nobr></div>
<div style="position:absolute;top:71067;left:135"><nobr>public final static int ICON_MONO_32x32</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71099;left:135"><nobr>Constant to indicate a 32 x 32 monochrome icon.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:71135;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:71189;left:103"><nobr><b>• getAdditionalBeanInfo</b></nobr></div>
<div style="position:absolute;top:71211;left:135"><nobr>public BeanInfo[] getAdditionalBeanInfo()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71243;left:135"><nobr>This method allows a BeanInfo object to return an arbitrary collection of other BeanInfo objects that provide addi-</nobr></div>
<div style="position:absolute;top:71261;left:135"><nobr>tional information on the current bean.</nobr></div>
<div style="position:absolute;top:71288;left:135"><nobr>If there are conflicts or overlaps between the information provided by different BeanInfo objects, then the current</nobr></div>
<div style="position:absolute;top:71306;left:135"><nobr>BeanInfo takes precedence over the getAdditionalBeanInfo objects, and later elements in the array take precedence</nobr></div>
<div style="position:absolute;top:71324;left:135"><nobr>over earlier ones.</nobr></div>
</span></font>

<div style="position:absolute;top:71455;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="61"><b>Page 61</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71509;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:72579;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:72579;left:452"><nobr><i>61</i></nobr></div>
<div style="position:absolute;top:72579;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:71563;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:71581;left:189"><nobr>an array of BeanInfo objects. May return null.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:71615;left:103"><nobr><b>• getBeanDescriptor</b></nobr></div>
<div style="position:absolute;top:71637;left:135"><nobr>public BeanDescriptor getBeanDescriptor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71666;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:71684;left:189"><nobr>A BeanDescriptor providing overall information about the bean, such as its displayName, its customizer, etc.</nobr></div>
<div style="position:absolute;top:71702;left:189"><nobr>May return null if the information should be obtained by automatic analysis.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:71736;left:103"><nobr><b>• getDefaultEventIndex</b></nobr></div>
<div style="position:absolute;top:71759;left:135"><nobr>public int getDefaultEventIndex()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71791;left:135"><nobr>A bean may have a "default" event that is the event that will mostly commonly be used by human's when using the</nobr></div>
<div style="position:absolute;top:71809;left:135"><nobr>bean.</nobr></div>
<div style="position:absolute;top:71839;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:71857;left:189"><nobr>Index of default event in the EventSetDescriptor array returned by getEventSetDescriptors.</nobr></div>
<div style="position:absolute;top:71884;left:189"><nobr>Returns -1 if there is no default event.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:71918;left:103"><nobr><b>• getDefaultPropertyIndex</b></nobr></div>
<div style="position:absolute;top:71940;left:135"><nobr>public int getDefaultPropertyIndex()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:71972;left:135"><nobr>A bean may have a "default" property that is the property that will mostly commonly be initially chosen for update by</nobr></div>
<div style="position:absolute;top:71990;left:135"><nobr>human's who are customizing the bean.</nobr></div>
<div style="position:absolute;top:72020;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:72038;left:189"><nobr>Index of default property in the PropertyDescriptor array returned by getPropertyDescriptors.</nobr></div>
<div style="position:absolute;top:72065;left:189"><nobr>Returns -1 if there is no default property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:72099;left:103"><nobr><b>• getEventSetDescriptors</b></nobr></div>
<div style="position:absolute;top:72122;left:135"><nobr>public EventSetDescriptor[]</nobr></div>
<div style="position:absolute;top:72140;left:135"><nobr>getEventSetDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:72169;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:72187;left:189"><nobr>An array of EventSetDescriptors describing the kinds of events fired by this bean. May return null if the</nobr></div>
<div style="position:absolute;top:72205;left:189"><nobr>information should be obtained by automatic analysis.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:72239;left:103"><nobr><b>• getIcon</b></nobr></div>
<div style="position:absolute;top:72261;left:135"><nobr>public Image getIcon(int iconKind)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:72293;left:135"><nobr>This method returns an image object that can be used to represent the bean in toolboxes, toolbars, etc. Icon images</nobr></div>
<div style="position:absolute;top:72311;left:135"><nobr>will typically be GIFs, but may in future include other formats.</nobr></div>
<div style="position:absolute;top:72338;left:135"><nobr>Beans aren't required to provide icons and may return null from this method.</nobr></div>
<div style="position:absolute;top:72365;left:135"><nobr>There are four possible flavors of icons (16x16 color, 32x32 color, 16x16 mono, 32x32 mono). If a bean choses to</nobr></div>
<div style="position:absolute;top:72383;left:135"><nobr>only support a single icon we recommend supporting 16x16 color.</nobr></div>
<div style="position:absolute;top:72410;left:135"><nobr>We recommend that icons have a "transparent" background so they can be rendered onto an existing background.</nobr></div>
<div style="position:absolute;top:72440;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:72458;left:189"><nobr>iconKind</nobr></div>
<div style="position:absolute;top:72476;left:221"><nobr>The kind of icon requested. This should be one of the constant values ICON_COLOR_16x16,</nobr></div>
<div style="position:absolute;top:72494;left:221"><nobr>ICON_COLOR_32x32, ICON_MONO_16x16, or ICON_MONO_32x32.</nobr></div>
</span></font>

<div style="position:absolute;top:72643;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="62"><b>Page 62</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:72697;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:73767;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:73767;left:452"><nobr><i>62</i></nobr></div>
<div style="position:absolute;top:73767;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:72751;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:72769;left:189"><nobr>An image object representing the requested icon. May return null if no suitable icon is available.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:72803;left:103"><nobr><b>• getMethodDescriptors</b></nobr></div>
<div style="position:absolute;top:72825;left:135"><nobr>public MethodDescriptor[]</nobr></div>
<div style="position:absolute;top:72843;left:135"><nobr>getMethodDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:72872;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:72890;left:189"><nobr>An array of MethodDescriptors describing the externally visible methods supported by this bean. May return</nobr></div>
<div style="position:absolute;top:72908;left:189"><nobr>null if the information should be obtained by automatic analysis.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:72942;left:103"><nobr><b>• getPropertyDescriptors</b></nobr></div>
<div style="position:absolute;top:72965;left:135"><nobr>public PropertyDescriptor[]</nobr></div>
<div style="position:absolute;top:72983;left:135"><nobr>getPropertyDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:73012;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:73030;left:189"><nobr>An array of PropertyDescriptors describing the editable properties supported by this bean. May return null if</nobr></div>
<div style="position:absolute;top:73048;left:189"><nobr>the information should be obtained by automatic analysis.</nobr></div>
<div style="position:absolute;top:73075;left:189"><nobr>If a property is indexed, then its entry in the result array will belong to the IndexedPropertyDescriptor sub-</nobr></div>
<div style="position:absolute;top:73093;left:189"><nobr>class of PropertyDescriptor. A client of getPropertyDescriptors can use "instanceof" to check if a given</nobr></div>
<div style="position:absolute;top:73111;left:189"><nobr>PropertyDescriptor is an IndexedPropertyDescriptor.</nobr></div>
</span></font>

<div style="position:absolute;top:73831;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="63"><b>Page 63</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:73885;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:74955;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:74955;left:452"><nobr><i>63</i></nobr></div>
<div style="position:absolute;top:74955;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:73939;left:81"><nobr><b>Class EventSetDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:74003;left:135"><nobr>public class java.beans.<b>EventSetDescriptor</b></nobr></div>
<div style="position:absolute;top:74021;left:171"><nobr>extends java.beans.<b>FeatureDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74056;left:135"><nobr>An EventSetDescriptor describes a group of events that a given Java bean fires.</nobr></div>
<div style="position:absolute;top:74083;left:135"><nobr>The given group of events are all delivered as method calls on a single event listener interface, and an event listener</nobr></div>
<div style="position:absolute;top:74101;left:135"><nobr>object can be registered via a call on a registration method supplied by the event source.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:74137;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:74190;left:103"><nobr><b>• EventSetDescriptor</b></nobr></div>
<div style="position:absolute;top:74213;left:135"><nobr>public EventSetDescriptor(Class sourceClass,</nobr></div>
<div style="position:absolute;top:74231;left:369"><nobr>String eventSetName,</nobr></div>
<div style="position:absolute;top:74249;left:369"><nobr>Class listenerType,</nobr></div>
<div style="position:absolute;top:74267;left:369"><nobr>String listenerMethodName)</nobr></div>
<div style="position:absolute;top:74285;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74317;left:135"><nobr>This constructor creates an EventSetDescriptor assuming that you are following the most simple standard design pat-</nobr></div>
<div style="position:absolute;top:74335;left:135"><nobr>tern where a named event "fred" is (1) delivered as a call on the single method of interface FredListener, (2) has a sin-</nobr></div>
<div style="position:absolute;top:74353;left:135"><nobr>gle argument of type FredEvent, and (3) where the FredListener may be registered with a call on an addFredListener</nobr></div>
<div style="position:absolute;top:74371;left:135"><nobr>method of the source component and removed with a call on a removeFredListener method.</nobr></div>
<div style="position:absolute;top:74401;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:74419;left:189"><nobr>sourceClass</nobr></div>
<div style="position:absolute;top:74437;left:221"><nobr>The class firing the event.</nobr></div>
<div style="position:absolute;top:74455;left:189"><nobr>eventSetName</nobr></div>
<div style="position:absolute;top:74473;left:221"><nobr>The programmatic name of the event. E.g. "fred". Note that this should normally start with a lower-</nobr></div>
<div style="position:absolute;top:74491;left:221"><nobr>case character.</nobr></div>
<div style="position:absolute;top:74509;left:189"><nobr>listenerType</nobr></div>
<div style="position:absolute;top:74527;left:221"><nobr>The target interface that events will get delivered to.</nobr></div>
<div style="position:absolute;top:74545;left:189"><nobr>listenerMethodName</nobr></div>
<div style="position:absolute;top:74563;left:221"><nobr>The method that will get called when the event gets delivered to its target listener interface.</nobr></div>
<div style="position:absolute;top:74593;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:74611;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:74645;left:103"><nobr><b>• EventSetDescriptor</b></nobr></div>
<div style="position:absolute;top:74667;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:74685;left:135"><nobr>EventSetDescriptor(Class sourceClass,</nobr></div>
<div style="position:absolute;top:74703;left:306"><nobr>String eventSetName,</nobr></div>
<div style="position:absolute;top:74721;left:306"><nobr>Class listenerType,</nobr></div>
<div style="position:absolute;top:74739;left:306"><nobr>String listenerMethodNames[],</nobr></div>
<div style="position:absolute;top:74757;left:306"><nobr>String addListenerMethodName,</nobr></div>
<div style="position:absolute;top:74775;left:306"><nobr>String removeListenerMethodName)</nobr></div>
<div style="position:absolute;top:74793;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:74825;left:135"><nobr>This constructor creates an EventSetDescriptor from scratch using string names.</nobr></div>
<div style="position:absolute;top:74855;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:74873;left:189"><nobr>sourceClass</nobr></div>
<div style="position:absolute;top:74891;left:221"><nobr>The class firing the event.</nobr></div>
</span></font>

<div style="position:absolute;top:75019;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="64"><b>Page 64</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:75073;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:76143;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:76143;left:452"><nobr><i>64</i></nobr></div>
<div style="position:absolute;top:76143;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:75127;left:189"><nobr>eventSetName</nobr></div>
<div style="position:absolute;top:75145;left:221"><nobr>The programmatic name of the event set. Note that this should normally start with a lower-case charac-</nobr></div>
<div style="position:absolute;top:75163;left:221"><nobr>ter.</nobr></div>
<div style="position:absolute;top:75181;left:189"><nobr>listenerType</nobr></div>
<div style="position:absolute;top:75199;left:221"><nobr>The Class of the target interface that events will get delivered to.</nobr></div>
<div style="position:absolute;top:75217;left:189"><nobr>listenerMethodNames</nobr></div>
<div style="position:absolute;top:75235;left:221"><nobr>The names of the methods that will get called when the event gets delivered to its target listener inter-</nobr></div>
<div style="position:absolute;top:75253;left:221"><nobr>face.</nobr></div>
<div style="position:absolute;top:75271;left:189"><nobr>addListenerMethodName</nobr></div>
<div style="position:absolute;top:75289;left:221"><nobr>The name of the method on the event source that can be used to register an event listener object.</nobr></div>
<div style="position:absolute;top:75307;left:189"><nobr>removeListenerMethodName</nobr></div>
<div style="position:absolute;top:75325;left:221"><nobr>The name of the method on the event source that can be used to de-register an event listener object.</nobr></div>
<div style="position:absolute;top:75355;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:75373;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:75407;left:103"><nobr><b>• EventSetDescriptor</b></nobr></div>
<div style="position:absolute;top:75429;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:75447;left:135"><nobr>EventSetDescriptor(String eventSetName,</nobr></div>
<div style="position:absolute;top:75465;left:306"><nobr>Class listenerType,</nobr></div>
<div style="position:absolute;top:75483;left:306"><nobr>Method listenerMethods[],</nobr></div>
<div style="position:absolute;top:75501;left:306"><nobr>Method addListenerMethod,</nobr></div>
<div style="position:absolute;top:75519;left:306"><nobr>Method removeListenerMethod)</nobr></div>
<div style="position:absolute;top:75537;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:75569;left:135"><nobr>This constructor creates an EventSetDescriptor from scratch using java.lang.reflect.Method and java.lang.Class</nobr></div>
<div style="position:absolute;top:75587;left:135"><nobr>objects.</nobr></div>
<div style="position:absolute;top:75617;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:75635;left:189"><nobr>eventSetName</nobr></div>
<div style="position:absolute;top:75653;left:221"><nobr>The programmatic name of the event set.</nobr></div>
<div style="position:absolute;top:75671;left:189"><nobr>listenerType</nobr></div>
<div style="position:absolute;top:75689;left:221"><nobr>The Class for the listener interface.</nobr></div>
<div style="position:absolute;top:75707;left:189"><nobr>listenerMethods</nobr></div>
<div style="position:absolute;top:75725;left:221"><nobr>An array of Method objects describing each of the event handling methods in the target listener.</nobr></div>
<div style="position:absolute;top:75743;left:189"><nobr>addListenerMethod</nobr></div>
<div style="position:absolute;top:75761;left:221"><nobr>The method on the event source that can be used to register an event listener object.</nobr></div>
<div style="position:absolute;top:75779;left:189"><nobr>removeListenerMethod</nobr></div>
<div style="position:absolute;top:75797;left:221"><nobr>The method on the event source that can be used to de-register an event listener object.</nobr></div>
<div style="position:absolute;top:75827;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:75845;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:75879;left:103"><nobr><b>• EventSetDescriptor</b></nobr></div>
<div style="position:absolute;top:75902;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:75920;left:135"><nobr>EventSetDescriptor(String eventSetName,</nobr></div>
<div style="position:absolute;top:75938;left:306"><nobr>Class listenerType,</nobr></div>
<div style="position:absolute;top:75956;left:306"><nobr>MethodDescriptor listenerMethodDescriptors[],</nobr></div>
<div style="position:absolute;top:75974;left:306"><nobr>Method addListenerMethod,</nobr></div>
<div style="position:absolute;top:75992;left:306"><nobr>Method removeListenerMethod)</nobr></div>
<div style="position:absolute;top:76010;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:76042;left:135"><nobr>This constructor creates an EventSetDescriptor from scratch using java.lang.reflect.MethodDescriptor and</nobr></div>
<div style="position:absolute;top:76060;left:135"><nobr>java.lang.Class objects.</nobr></div>
</span></font>

<div style="position:absolute;top:76207;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="65"><b>Page 65</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:76261;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:77331;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:77331;left:452"><nobr><i>65</i></nobr></div>
<div style="position:absolute;top:77331;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:76315;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:76333;left:189"><nobr>eventSetName</nobr></div>
<div style="position:absolute;top:76351;left:221"><nobr>The programmatic name of the event set.</nobr></div>
<div style="position:absolute;top:76369;left:189"><nobr>listenerType</nobr></div>
<div style="position:absolute;top:76387;left:221"><nobr>The Class for the listener interface.</nobr></div>
<div style="position:absolute;top:76405;left:189"><nobr>listenerMethodDescriptors</nobr></div>
<div style="position:absolute;top:76423;left:221"><nobr>An array of MethodDescriptor objects describing each of the event handling methods in the target lis-</nobr></div>
<div style="position:absolute;top:76441;left:221"><nobr>tener.</nobr></div>
<div style="position:absolute;top:76459;left:189"><nobr>addListenerMethod</nobr></div>
<div style="position:absolute;top:76477;left:221"><nobr>The method on the event source that can be used to register an event listener object.</nobr></div>
<div style="position:absolute;top:76495;left:189"><nobr>removeListenerMethod</nobr></div>
<div style="position:absolute;top:76513;left:221"><nobr>The method on the event source that can be used to de-register an event listener object.</nobr></div>
<div style="position:absolute;top:76543;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:76561;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:76597;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:76650;left:103"><nobr><b>• getAddListenerMethod</b></nobr></div>
<div style="position:absolute;top:76673;left:135"><nobr>public Method getAddListenerMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:76702;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:76720;left:189"><nobr>The method used to register a listener at the event source.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:76754;left:103"><nobr><b>• getListenerMethodDescriptors</b></nobr></div>
<div style="position:absolute;top:76776;left:135"><nobr>public MethodDescriptor[]</nobr></div>
<div style="position:absolute;top:76794;left:135"><nobr>getListenerMethodDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:76823;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:76841;left:189"><nobr>An array of MethodDescriptor objects for the target methods within the target listener interface that will get</nobr></div>
<div style="position:absolute;top:76859;left:189"><nobr>called when events are fired.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:76893;left:103"><nobr><b>• getListenerMethods</b></nobr></div>
<div style="position:absolute;top:76916;left:135"><nobr>public Method[] getListenerMethods()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:76945;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:76963;left:189"><nobr>An array of Method objects for the target methods within the target listener interface that will get called</nobr></div>
<div style="position:absolute;top:76981;left:189"><nobr>when events are fired.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:77015;left:103"><nobr><b>• getListenerType</b></nobr></div>
<div style="position:absolute;top:77037;left:135"><nobr>public Class getListenerType()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:77066;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:77084;left:189"><nobr>The Class object for the target interface that will get invoked when the event is fired.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:77118;left:103"><nobr><b>• getRemoveListenerMethod</b></nobr></div>
<div style="position:absolute;top:77141;left:135"><nobr>public Method getRemoveListenerMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:77170;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:77188;left:189"><nobr>The method used to register a listener at the event source.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:77222;left:103"><nobr><b>• isInDefaultEventSet</b></nobr></div>
<div style="position:absolute;top:77244;left:135"><nobr>public boolean isInDefaultEventSet()</nobr></div>
</span></font>

<div style="position:absolute;top:77395;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="66"><b>Page 66</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:77449;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:78519;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:78519;left:452"><nobr><i>66</i></nobr></div>
<div style="position:absolute;top:78519;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:77503;left:135"><nobr>Report if an event set is in the "default set".</nobr></div>
<div style="position:absolute;top:77533;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:77551;left:189"><nobr>True if the event set is in the "default set". Defaults to "true".</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:77585;left:103"><nobr><b>• isUnicast</b></nobr></div>
<div style="position:absolute;top:77607;left:135"><nobr>public boolean isUnicast()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:77639;left:135"><nobr>Normally event sources are multicast. However there are some exceptions that are strictly unicast.</nobr></div>
<div style="position:absolute;top:77669;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:77687;left:189"><nobr>True if the event set is unicast. Defaults to "false".</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:77721;left:103"><nobr><b>• setInDefaultEventSet</b></nobr></div>
<div style="position:absolute;top:77744;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:77762;left:135"><nobr>setInDefaultEventSet(boolean inDefaultEventSet)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:77794;left:135"><nobr>Mark an event set as being in the "default" set (or not). By default this is true.</nobr></div>
<div style="position:absolute;top:77824;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:77842;left:189"><nobr>unicast</nobr></div>
<div style="position:absolute;top:77860;left:221"><nobr>True if the event set is unicast.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:77894;left:103"><nobr><b>• setUnicast</b></nobr></div>
<div style="position:absolute;top:77916;left:135"><nobr>public void setUnicast(boolean unicast)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:77948;left:135"><nobr>Mark an event set as unicast (or not).</nobr></div>
<div style="position:absolute;top:77978;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:77996;left:189"><nobr>unicast</nobr></div>
<div style="position:absolute;top:78014;left:221"><nobr>True if the event set is unicast.</nobr></div>
</span></font>

<div style="position:absolute;top:78583;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="67"><b>Page 67</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:78637;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:79707;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:79707;left:452"><nobr><i>67</i></nobr></div>
<div style="position:absolute;top:79707;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:78691;left:81"><nobr><b>Class FeatureDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:78755;left:135"><nobr>public class java.beans.<b>FeatureDescriptor</b></nobr></div>
<div style="position:absolute;top:78773;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:78808;left:135"><nobr>The FeatureDescriptor class is the common baseclass for PropertyDescriptor, EventSetDescriptor, and MethodDe-</nobr></div>
<div style="position:absolute;top:78826;left:135"><nobr>scriptor, etc.</nobr></div>
<div style="position:absolute;top:78853;left:135"><nobr>It supports some common information that can be set and retrieved for any of the introspection descriptors.</nobr></div>
<div style="position:absolute;top:78880;left:135"><nobr>In addition it provides an extension mechanism so that arbitrary attribute/value pairs can be associated with a design</nobr></div>
<div style="position:absolute;top:78898;left:135"><nobr>feature.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:78934;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:78987;left:103"><nobr><b>• FeatureDescriptor</b></nobr></div>
<div style="position:absolute;top:79010;left:135"><nobr>public FeatureDescriptor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:79045;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:79098;left:103"><nobr><b>• attributeNames</b></nobr></div>
<div style="position:absolute;top:79121;left:135"><nobr>public Enumeration attributeNames()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79150;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:79168;left:189"><nobr>An enumeration of the locale-independent names of any attributes that have been registered with setValue.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:79202;left:103"><nobr><b>• getDisplayName</b></nobr></div>
<div style="position:absolute;top:79224;left:135"><nobr>public String getDisplayName()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79253;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:79271;left:189"><nobr>The localized display name for the property/method/event. This defaults to the same as its programmatic</nobr></div>
<div style="position:absolute;top:79289;left:189"><nobr>name from getName.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:79323;left:103"><nobr><b>• getName</b></nobr></div>
<div style="position:absolute;top:79346;left:135"><nobr>public String getName()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79375;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:79393;left:189"><nobr>The programmatic name of the property/method/event</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:79427;left:103"><nobr><b>• getShortDescription</b></nobr></div>
<div style="position:absolute;top:79449;left:135"><nobr>public String getShortDescription()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79478;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:79496;left:189"><nobr>A localized short description associated with this property/method/event. This defaults to be the display</nobr></div>
<div style="position:absolute;top:79514;left:189"><nobr>name.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:79548;left:103"><nobr><b>• getValue</b></nobr></div>
<div style="position:absolute;top:79571;left:135"><nobr>public Object getValue(String attributeName)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79603;left:135"><nobr>Retrieve a named attribute with this feature.</nobr></div>
<div style="position:absolute;top:79633;left:135"><nobr><b>Parameters:</b></nobr></div>
</span></font>

<div style="position:absolute;top:79771;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="68"><b>Page 68</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:79825;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:80895;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:80895;left:452"><nobr><i>68</i></nobr></div>
<div style="position:absolute;top:80895;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:79879;left:189"><nobr>attributeName</nobr></div>
<div style="position:absolute;top:79897;left:221"><nobr>The locale-independent name of the attribute</nobr></div>
<div style="position:absolute;top:79927;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:79945;left:189"><nobr>The value of the attribute. May be null if the attribute is unknown.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:79979;left:103"><nobr><b>• isExpert</b></nobr></div>
<div style="position:absolute;top:80001;left:135"><nobr>public boolean isExpert()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:80033;left:135"><nobr>The "expert" flag is used to distinguish between those features that are intended for expert users from those that are</nobr></div>
<div style="position:absolute;top:80051;left:135"><nobr>intended for normal users.</nobr></div>
<div style="position:absolute;top:80081;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:80099;left:189"><nobr>True if this feature is intended for use by experts only.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:80133;left:103"><nobr><b>• isHidden</b></nobr></div>
<div style="position:absolute;top:80156;left:135"><nobr>public boolean isHidden()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:80188;left:135"><nobr>The "hidden" flag is used to identify features that are intended only for tool use, and which should not be exposed to</nobr></div>
<div style="position:absolute;top:80206;left:135"><nobr>humans.</nobr></div>
<div style="position:absolute;top:80236;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:80254;left:189"><nobr>True if this feature should be hidden from human users.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:80288;left:103"><nobr><b>• setDisplayName</b></nobr></div>
<div style="position:absolute;top:80310;left:135"><nobr>public void setDisplayName(String displayName)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:80339;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:80357;left:189"><nobr>displayName</nobr></div>
<div style="position:absolute;top:80375;left:221"><nobr>The localized display name for the property/method/event.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:80409;left:103"><nobr><b>• setExpert</b></nobr></div>
<div style="position:absolute;top:80432;left:135"><nobr>public void setExpert(boolean expert)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:80464;left:135"><nobr>The "expert" flag is used to distinguish between features that are intended for expert users from those that are</nobr></div>
<div style="position:absolute;top:80482;left:135"><nobr>intended for normal users.</nobr></div>
<div style="position:absolute;top:80512;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:80530;left:189"><nobr>expert</nobr></div>
<div style="position:absolute;top:80548;left:221"><nobr>True if this feature is intended for use by experts only.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:80582;left:103"><nobr><b>• setHidden</b></nobr></div>
<div style="position:absolute;top:80604;left:135"><nobr>public void setHidden(boolean hidden)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:80636;left:135"><nobr>The "hidden" flag is used to identify features that are intended only for tool use, and which should not be exposed to</nobr></div>
<div style="position:absolute;top:80654;left:135"><nobr>humans.</nobr></div>
<div style="position:absolute;top:80684;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:80702;left:189"><nobr>hidden</nobr></div>
<div style="position:absolute;top:80720;left:221"><nobr>True if this feature should be hidden from human users.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:80754;left:103"><nobr><b>• setName</b></nobr></div>
<div style="position:absolute;top:80777;left:135"><nobr>public void setName(String name)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:80806;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:80824;left:189"><nobr>name</nobr></div>
</span></font>

<div style="position:absolute;top:80959;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="69"><b>Page 69</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:81013;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:82083;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:82083;left:452"><nobr><i>69</i></nobr></div>
<div style="position:absolute;top:82083;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:81067;left:221"><nobr>The programmatic name of the property/method/event</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:81101;left:103"><nobr><b>• setShortDescription</b></nobr></div>
<div style="position:absolute;top:81123;left:135"><nobr>public void setShortDescription(String text)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:81155;left:135"><nobr>You can associate a short descriptive string with a feature. Normally these descriptive strings should be less than</nobr></div>
<div style="position:absolute;top:81173;left:135"><nobr>about 40 characters.</nobr></div>
<div style="position:absolute;top:81203;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:81221;left:189"><nobr>text</nobr></div>
<div style="position:absolute;top:81239;left:221"><nobr>A (localized) short description to be associated with this property/method/event.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:81273;left:103"><nobr><b>• setValue</b></nobr></div>
<div style="position:absolute;top:81296;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:81314;left:135"><nobr>setValue(String attributeName, Object value)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:81346;left:135"><nobr>Associate a named attribute with this feature.</nobr></div>
<div style="position:absolute;top:81376;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:81394;left:189"><nobr>attributeName</nobr></div>
<div style="position:absolute;top:81412;left:221"><nobr>The locale-independent name of the attribute</nobr></div>
<div style="position:absolute;top:81430;left:189"><nobr>value</nobr></div>
<div style="position:absolute;top:81448;left:221"><nobr>The value.</nobr></div>
</span></font>

<div style="position:absolute;top:82147;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="70"><b>Page 70</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:82201;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:83271;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:83271;left:452"><nobr><i>70</i></nobr></div>
<div style="position:absolute;top:83271;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:82255;left:81"><nobr><b>Class IndexedPropertyDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:82319;left:135"><nobr>public class java.beans.<b>IndexedPropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:82337;left:171"><nobr>extends java.beans.<b>PropertyDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:82372;left:135"><nobr>An IndexedPropertyDescriptor describes a property that acts like an array and has an indexed read and/or indexed</nobr></div>
<div style="position:absolute;top:82390;left:135"><nobr>write method to access specific elements of the array.</nobr></div>
<div style="position:absolute;top:82417;left:135"><nobr>An indexed property may also provide simple non-indexed read and write methods. If these are present, they read and</nobr></div>
<div style="position:absolute;top:82435;left:135"><nobr>write arrays of the type returned by the indexed read method.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:82471;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:82524;left:103"><nobr><b>• IndexedPropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:82547;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:82565;left:135"><nobr>IndexedPropertyDescriptor(String propertyName,</nobr></div>
<div style="position:absolute;top:82583;left:369"><nobr>Class beanClass)</nobr></div>
<div style="position:absolute;top:82601;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:82633;left:135"><nobr>This constructor constructs an IndexedPropertyDescriptor for a property that follows the standard Java conventions</nobr></div>
<div style="position:absolute;top:82651;left:135"><nobr>by having getFoo and setFoo accessor methods, for both indexed access and array access.</nobr></div>
<div style="position:absolute;top:82678;left:135"><nobr>Thus if the argument name is "fred", it will assume that there is an indexed reader method "getFred", a non-indexed</nobr></div>
<div style="position:absolute;top:82696;left:135"><nobr>(array) reader method also called "getFred", an indexed writer method "setFred", and finally a non-indexed writer</nobr></div>
<div style="position:absolute;top:82714;left:135"><nobr>method "setFred".</nobr></div>
<div style="position:absolute;top:82744;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:82762;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:82780;left:221"><nobr>The programmatic name of the property.</nobr></div>
<div style="position:absolute;top:82798;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:82816;left:221"><nobr>The Class object for the target bean.</nobr></div>
<div style="position:absolute;top:82846;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:82864;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:82898;left:103"><nobr><b>• IndexedPropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:82920;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:82938;left:135"><nobr>IndexedPropertyDescriptor(String propertyName,</nobr></div>
<div style="position:absolute;top:82956;left:369"><nobr>Class beanClass,</nobr></div>
<div style="position:absolute;top:82974;left:369"><nobr>String getterName,</nobr></div>
<div style="position:absolute;top:82992;left:369"><nobr>String setterName,</nobr></div>
<div style="position:absolute;top:83010;left:369"><nobr>String indexedGetterName,</nobr></div>
<div style="position:absolute;top:83028;left:369"><nobr>String indexedSetterName)</nobr></div>
<div style="position:absolute;top:83046;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:83078;left:135"><nobr>This constructor takes the name of a simple property, and method names for reading and writing the property, both</nobr></div>
<div style="position:absolute;top:83096;left:135"><nobr>indexed and non-indexed.</nobr></div>
<div style="position:absolute;top:83126;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:83144;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:83162;left:221"><nobr>The programmatic name of the property.</nobr></div>
<div style="position:absolute;top:83180;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:83198;left:221"><nobr>The Class object for the target bean.</nobr></div>
</span></font>

<div style="position:absolute;top:83335;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="71"><b>Page 71</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:83389;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:84459;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:84459;left:452"><nobr><i>71</i></nobr></div>
<div style="position:absolute;top:84459;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:83443;left:189"><nobr>getterName</nobr></div>
<div style="position:absolute;top:83461;left:221"><nobr>The name of the method used for reading the property values as an array. May be null if the property is</nobr></div>
<div style="position:absolute;top:83479;left:221"><nobr>write-only or must be indexed.</nobr></div>
<div style="position:absolute;top:83497;left:189"><nobr>setterName</nobr></div>
<div style="position:absolute;top:83515;left:221"><nobr>The name of the method used for writing the property values as an array. May be null if the property is</nobr></div>
<div style="position:absolute;top:83533;left:221"><nobr>read-only or must be indexed.</nobr></div>
<div style="position:absolute;top:83551;left:189"><nobr>indexedGetterName</nobr></div>
<div style="position:absolute;top:83569;left:221"><nobr>The name of the method used for reading an indexed property value. May be null if the property is</nobr></div>
<div style="position:absolute;top:83587;left:221"><nobr>write-only.</nobr></div>
<div style="position:absolute;top:83605;left:189"><nobr>indexedSetterName</nobr></div>
<div style="position:absolute;top:83623;left:221"><nobr>The name of the method used for writing an indexed property value. May be null if the property is</nobr></div>
<div style="position:absolute;top:83641;left:221"><nobr>read-only.</nobr></div>
<div style="position:absolute;top:83671;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:83689;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:83723;left:103"><nobr><b>• IndexedPropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:83745;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:83763;left:135"><nobr>IndexedPropertyDescriptor(String propertyName,</nobr></div>
<div style="position:absolute;top:83781;left:369"><nobr>Method getter,</nobr></div>
<div style="position:absolute;top:83799;left:369"><nobr>Method setter,</nobr></div>
<div style="position:absolute;top:83817;left:369"><nobr>Method indexedGetter,</nobr></div>
<div style="position:absolute;top:83835;left:369"><nobr>Method indexedSetter)</nobr></div>
<div style="position:absolute;top:83853;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:83885;left:135"><nobr>This constructor takes the name of a simple property, and Method objects for reading and writing the property.</nobr></div>
<div style="position:absolute;top:83915;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:83933;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:83951;left:221"><nobr>The programmatic name of the property.</nobr></div>
<div style="position:absolute;top:83969;left:189"><nobr>getter</nobr></div>
<div style="position:absolute;top:83987;left:221"><nobr>The method used for reading the property values as an array. May be null if the property is write-only</nobr></div>
<div style="position:absolute;top:84005;left:221"><nobr>or must be indexed.</nobr></div>
<div style="position:absolute;top:84023;left:189"><nobr>setter</nobr></div>
<div style="position:absolute;top:84041;left:221"><nobr>The method used for writing the property values as an array. May be null if the property is read-only or</nobr></div>
<div style="position:absolute;top:84059;left:221"><nobr>must be indexed.</nobr></div>
<div style="position:absolute;top:84077;left:189"><nobr>indexedGetter</nobr></div>
<div style="position:absolute;top:84095;left:221"><nobr>The method used for reading an indexed property value. May be null if the property is write-only.</nobr></div>
<div style="position:absolute;top:84113;left:189"><nobr>indexedSetter</nobr></div>
<div style="position:absolute;top:84131;left:221"><nobr>The method used for writing an indexed property value. May be null if the property is read-only.</nobr></div>
<div style="position:absolute;top:84161;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:84179;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:84215;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:84269;left:103"><nobr><b>• getIndexedPropertyType</b></nobr></div>
<div style="position:absolute;top:84291;left:135"><nobr>public Class getIndexedPropertyType()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:84320;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:84338;left:189"><nobr>The Java Class for the indexed properties type. Note that the Class may describe a primitive Java type such</nobr></div>
<div style="position:absolute;top:84356;left:189"><nobr>as "int".</nobr></div>
<div style="position:absolute;top:84383;left:189"><nobr>This is the type that will be returned by the indexedReadMethod.</nobr></div>
</span></font>

<div style="position:absolute;top:84523;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="72"><b>Page 72</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:84577;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:85647;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:85647;left:452"><nobr><i>72</i></nobr></div>
<div style="position:absolute;top:85647;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:84632;left:103"><nobr><b>• getIndexedReadMethod</b></nobr></div>
<div style="position:absolute;top:84654;left:135"><nobr>public Method getIndexedReadMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:84683;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:84701;left:189"><nobr>The method that should be used to read an indexed property value. May return null if the property isn't</nobr></div>
<div style="position:absolute;top:84719;left:189"><nobr>indexed or is write-only.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:84753;left:103"><nobr><b>• getIndexedWriteMethod</b></nobr></div>
<div style="position:absolute;top:84776;left:135"><nobr>public Method getIndexedWriteMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:84805;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:84823;left:189"><nobr>The method that should be used to write an indexed property value. May return null if the property isn't</nobr></div>
<div style="position:absolute;top:84841;left:189"><nobr>indexed or is read-only.</nobr></div>
</span></font>

<div style="position:absolute;top:85711;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="73"><b>Page 73</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:85765;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:86835;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:86835;left:452"><nobr><i>73</i></nobr></div>
<div style="position:absolute;top:86835;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:85819;left:81"><nobr><b>Class IntrospectionException</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:85883;left:135"><nobr>public class java.beans.<b>IntrospectionException</b></nobr></div>
<div style="position:absolute;top:85901;left:171"><nobr>extends java.lang.<b>Exception</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:85936;left:135"><nobr>Thrown when an exception happens during Introspection.</nobr></div>
<div style="position:absolute;top:85963;left:135"><nobr>Typical causes include not being able to map a string class name to a Class object, not being able to resolve a string</nobr></div>
<div style="position:absolute;top:85981;left:135"><nobr>method name, or specifying a method name that has the wrong type signature for its intended use.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:86017;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:86070;left:103"><nobr><b>• IntrospectionException</b></nobr></div>
<div style="position:absolute;top:86093;left:135"><nobr>public IntrospectionException(String mess)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:86122;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:86140;left:189"><nobr>mess</nobr></div>
<div style="position:absolute;top:86158;left:221"><nobr>Descriptive message</nobr></div>
</span></font>

<div style="position:absolute;top:86899;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="74"><b>Page 74</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:86953;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:88023;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:88023;left:452"><nobr><i>74</i></nobr></div>
<div style="position:absolute;top:88023;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:87007;left:81"><nobr><b>Class Introspector</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:87071;left:135"><nobr>public class java.beans.<b>Introspector</b></nobr></div>
<div style="position:absolute;top:87089;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:87124;left:135"><nobr>The Introspector class provides a standard way for tools to learn about the properties, events, and methods supported</nobr></div>
<div style="position:absolute;top:87142;left:135"><nobr>by a target Java Bean.</nobr></div>
<div style="position:absolute;top:87169;left:135"><nobr>For each of those three kinds of information, the Introspector will separately analyze the bean's class and superclasses</nobr></div>
<div style="position:absolute;top:87187;left:135"><nobr>looking for either explicit or implicit information and use that information to build a BeanInfo object that comprehen-</nobr></div>
<div style="position:absolute;top:87205;left:135"><nobr>sively describes the target bean.</nobr></div>
<div style="position:absolute;top:87232;left:135"><nobr>For each class "Foo", explicit information may be available if there exists a corresponding "FooBeanInfo" class that</nobr></div>
<div style="position:absolute;top:87250;left:135"><nobr>provides a non-null value when queried for the information. We first look for the BeanInfo class by taking the full</nobr></div>
<div style="position:absolute;top:87268;left:135"><nobr>package-qualified name of the target bean class and appending "BeanInfo" to form a new class name. If this fails,</nobr></div>
<div style="position:absolute;top:87286;left:135"><nobr>then we take the final classname component of this name, and look for that class in each of the packages specified in</nobr></div>
<div style="position:absolute;top:87304;left:135"><nobr>the BeanInfo package search path.</nobr></div>
<div style="position:absolute;top:87331;left:135"><nobr>Thus for a class such as "sun.xyz.OurButton" we would first look for a BeanInfo class called "sun.xyz.OurButton-</nobr></div>
<div style="position:absolute;top:87349;left:135"><nobr>BeanInfo" and if that failed we'd look in each package in the BeanInfo search path for an OurButtonBeanInfo class.</nobr></div>
<div style="position:absolute;top:87367;left:135"><nobr>With the default search path, this would mean looking for "sun.beans.infos.OurButtonBeanInfo".</nobr></div>
<div style="position:absolute;top:87394;left:135"><nobr>If a class provides explicit BeanInfo about itself then we add that to the BeanInfo information we obtained from ana-</nobr></div>
<div style="position:absolute;top:87412;left:135"><nobr>lyzing any derived classes, but we regard the explicit information as being definitive for the current class and its base</nobr></div>
<div style="position:absolute;top:87430;left:135"><nobr>classes, and do not proceed any further up the superclass chain.</nobr></div>
<div style="position:absolute;top:87457;left:135"><nobr>If we don't find explicit BeanInfo on a class, we use low-level reflection to study the methods of the class and apply</nobr></div>
<div style="position:absolute;top:87475;left:135"><nobr>standard design patterns to identify property accessors, event sources, or public methods. We then proceed to analyze</nobr></div>
<div style="position:absolute;top:87493;left:135"><nobr>the class's superclass and add in the information from it (and possibly on up the superclass chain).</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:87529;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:87582;left:103"><nobr><b>• decapitalize</b></nobr></div>
<div style="position:absolute;top:87605;left:135"><nobr>public static String decapitalize(String name)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:87637;left:135"><nobr>Utility method to take a string and convert it to normal Java variable name capitalization. This normally means con-</nobr></div>
<div style="position:absolute;top:87655;left:135"><nobr>verting the first character from upper case to lower case, but in the (unusual) special case when there is more than one</nobr></div>
<div style="position:absolute;top:87673;left:135"><nobr>character and both the first and second characters are upper case, we leave it alone.</nobr></div>
<div style="position:absolute;top:87700;left:135"><nobr>Thus "FooBah" becomes "fooBah" and "X" becomes "x", but "URL" stays as "URL".</nobr></div>
<div style="position:absolute;top:87730;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:87748;left:189"><nobr>name</nobr></div>
<div style="position:absolute;top:87766;left:221"><nobr>The string to be decapitalized.</nobr></div>
<div style="position:absolute;top:87796;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:87814;left:189"><nobr>The decapitalized version of the string.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:87848;left:103"><nobr><b>• getBeanInfo</b></nobr></div>
<div style="position:absolute;top:87870;left:135"><nobr>public static BeanInfo getBeanInfo(Class beanClass)</nobr></div>
<div style="position:absolute;top:87888;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:87920;left:135"><nobr>Introspect on a Java bean and learn about all its properties, exposed methods, and events.</nobr></div>
<div style="position:absolute;top:87950;left:135"><nobr><b>Parameters:</b></nobr></div>
</span></font>

<div style="position:absolute;top:88087;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="75"><b>Page 75</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:88141;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:89211;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:89211;left:452"><nobr><i>75</i></nobr></div>
<div style="position:absolute;top:89211;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:88195;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:88213;left:221"><nobr>The bean class to be analyzed.</nobr></div>
<div style="position:absolute;top:88243;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:88261;left:189"><nobr>A BeanInfo object describing the target bean.</nobr></div>
<div style="position:absolute;top:88291;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:88309;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:88343;left:103"><nobr><b>• getBeanInfo</b></nobr></div>
<div style="position:absolute;top:88365;left:135"><nobr>public static BeanInfo</nobr></div>
<div style="position:absolute;top:88383;left:135"><nobr>getBeanInfo(Class beanClass, Class stopClass)</nobr></div>
<div style="position:absolute;top:88401;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:88433;left:135"><nobr>Introspect on a Java bean and learn all about its properties, exposed methods, below a given "stop" point.</nobr></div>
<div style="position:absolute;top:88463;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:88481;left:189"><nobr>bean</nobr></div>
<div style="position:absolute;top:88499;left:221"><nobr>The bean class to be analyzed.</nobr></div>
<div style="position:absolute;top:88517;left:189"><nobr>stopClass</nobr></div>
<div style="position:absolute;top:88535;left:221"><nobr>The baseclass at which to stop the analysis. Any methods/properties/events in the stopClass or in its</nobr></div>
<div style="position:absolute;top:88553;left:221"><nobr>baseclasses will be ignored in the analysis.</nobr></div>
<div style="position:absolute;top:88583;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:88601;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:88635;left:103"><nobr><b>• getBeanInfoSearchPath</b></nobr></div>
<div style="position:absolute;top:88658;left:135"><nobr>public static String[] getBeanInfoSearchPath()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:88687;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:88705;left:189"><nobr>The array of package names that will be searched in order to find BeanInfo classes.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:88766;left:103"><nobr><b>• setBeanInfoSearchPath</b></nobr></div>
<div style="position:absolute;top:88788;left:135"><nobr>public static void</nobr></div>
<div style="position:absolute;top:88806;left:135"><nobr>setBeanInfoSearchPath(String path[])</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:88838;left:135"><nobr>Change the list of package names that will be used for finding BeanInfo classes.</nobr></div>
<div style="position:absolute;top:88868;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:88886;left:189"><nobr>path</nobr></div>
<div style="position:absolute;top:88904;left:221"><nobr>Array of package names.</nobr></div>
</span></font>

<div style="position:absolute;top:89275;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="76"><b>Page 76</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:89329;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:90399;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:90399;left:452"><nobr><i>76</i></nobr></div>
<div style="position:absolute;top:90399;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:89383;left:81"><nobr><b>Class MethodDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:89447;left:135"><nobr>public class java.beans.<b>MethodDescriptor</b></nobr></div>
<div style="position:absolute;top:89465;left:171"><nobr>extends java.beans.<b>FeatureDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:89500;left:135"><nobr>A MethodDescriptor describes a particular method that a Java Bean supports for external access from other compo-</nobr></div>
<div style="position:absolute;top:89518;left:135"><nobr>nents.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:89554;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:89607;left:103"><nobr><b>• MethodDescriptor</b></nobr></div>
<div style="position:absolute;top:89630;left:135"><nobr>public MethodDescriptor(Method method)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:89659;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:89677;left:189"><nobr>method</nobr></div>
<div style="position:absolute;top:89695;left:221"><nobr>The low-level method information.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:89729;left:103"><nobr><b>• MethodDescriptor</b></nobr></div>
<div style="position:absolute;top:89751;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:89769;left:135"><nobr>MethodDescriptor(Method method,</nobr></div>
<div style="position:absolute;top:89787;left:288"><nobr>ParameterDescriptor parameterDescriptors[])</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:89816;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:89834;left:189"><nobr>method</nobr></div>
<div style="position:absolute;top:89852;left:221"><nobr>The low-level method information.</nobr></div>
<div style="position:absolute;top:89870;left:189"><nobr>parameterDescriptors</nobr></div>
<div style="position:absolute;top:89888;left:221"><nobr>Descriptive information for each of the method's parameters.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:89924;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:89978;left:103"><nobr><b>• getMethod</b></nobr></div>
<div style="position:absolute;top:90000;left:135"><nobr>public Method getMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:90029;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:90047;left:189"><nobr>The low-level description of the method</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:90081;left:103"><nobr><b>• getParameterDescriptors</b></nobr></div>
<div style="position:absolute;top:90104;left:135"><nobr>public ParameterDescriptor[]</nobr></div>
<div style="position:absolute;top:90122;left:135"><nobr>getParameterDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:90151;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:90169;left:189"><nobr>The locale-independent names of the parameters. May return a null array if the parameter names aren't</nobr></div>
<div style="position:absolute;top:90187;left:189"><nobr>known.</nobr></div>
</span></font>

<div style="position:absolute;top:90463;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="77"><b>Page 77</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:90517;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:91587;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:91587;left:452"><nobr><i>77</i></nobr></div>
<div style="position:absolute;top:91587;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:90571;left:81"><nobr><b>Class ParameterDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:90635;left:135"><nobr>public class java.beans.<b>ParameterDescriptor</b></nobr></div>
<div style="position:absolute;top:90653;left:171"><nobr>extends java.beans.<b>FeatureDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:90688;left:135"><nobr>The ParameterDescriptor class allows bean implementors to provide additional information on each of their parame-</nobr></div>
<div style="position:absolute;top:90706;left:135"><nobr>ters, beyond the low level type information provided by the java.lang.reflect.Method class.</nobr></div>
<div style="position:absolute;top:90733;left:135"><nobr>Currently all our state comes from the FeatureDescriptor base class.</nobr></div>
</span></font>

<div style="position:absolute;top:91651;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="78"><b>Page 78</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:91705;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:92775;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:92775;left:452"><nobr><i>78</i></nobr></div>
<div style="position:absolute;top:92775;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:91759;left:81"><nobr><b>Class PropertyDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:91823;left:135"><nobr>public class java.beans.<b>PropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:91841;left:171"><nobr>extends java.beans.<b>FeatureDescriptor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:91876;left:135"><nobr>A PropertyDescriptor describes one property that a Java Bean exports via a pair of accessor methods.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:91912;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:91965;left:103"><nobr><b>• PropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:91988;left:135"><nobr>public PropertyDescriptor(String propertyName,</nobr></div>
<div style="position:absolute;top:92006;left:369"><nobr>Class beanClass)</nobr></div>
<div style="position:absolute;top:92024;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:92056;left:135"><nobr>Constructs a PropertyDescriptor for a property that follows the standard Java convention by having getFoo and setFoo</nobr></div>
<div style="position:absolute;top:92074;left:135"><nobr>accessor methods. Thus if the argument name is "fred", it will assume that the reader method is "getFred" and the</nobr></div>
<div style="position:absolute;top:92092;left:135"><nobr>writer method is "setFred". Note that the property name should start with a lower case character, which will be capi-</nobr></div>
<div style="position:absolute;top:92110;left:135"><nobr>talized in the method names.</nobr></div>
<div style="position:absolute;top:92140;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:92158;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:92176;left:221"><nobr>The programmatic name of the property.</nobr></div>
<div style="position:absolute;top:92194;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:92212;left:221"><nobr>The Class object for the target bean. For example sun.beans.OurButton.class.</nobr></div>
<div style="position:absolute;top:92242;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:92260;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:92294;left:103"><nobr><b>• PropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:92316;left:135"><nobr>public PropertyDescriptor(String propertyName,</nobr></div>
<div style="position:absolute;top:92334;left:369"><nobr>Class beanClass,</nobr></div>
<div style="position:absolute;top:92352;left:369"><nobr>String getterName,</nobr></div>
<div style="position:absolute;top:92370;left:369"><nobr>String setterName)</nobr></div>
<div style="position:absolute;top:92388;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:92420;left:135"><nobr>This constructor takes the name of a simple property, and method names for reading and writing the property.</nobr></div>
<div style="position:absolute;top:92450;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:92468;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:92486;left:221"><nobr>The programmatic name of the property.</nobr></div>
<div style="position:absolute;top:92504;left:189"><nobr>beanClass</nobr></div>
<div style="position:absolute;top:92522;left:221"><nobr>The Class object for the target bean. For example sun.beans.OurButton.class.</nobr></div>
<div style="position:absolute;top:92540;left:189"><nobr>getterName</nobr></div>
<div style="position:absolute;top:92558;left:221"><nobr>The name of the method used for reading the property value. May be null if the property is write-only.</nobr></div>
<div style="position:absolute;top:92576;left:189"><nobr>setterName</nobr></div>
<div style="position:absolute;top:92594;left:221"><nobr>The name of the method used for writing the property value. May be null if the property is read-only.</nobr></div>
<div style="position:absolute;top:92624;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:92642;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:92676;left:103"><nobr><b>• PropertyDescriptor</b></nobr></div>
<div style="position:absolute;top:92699;left:135"><nobr>public</nobr></div>
<div style="position:absolute;top:92717;left:135"><nobr>PropertyDescriptor(String propertyName,</nobr></div>
</span></font>

<div style="position:absolute;top:92839;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="79"><b>Page 79</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:92893;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:93963;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:93963;left:452"><nobr><i>79</i></nobr></div>
<div style="position:absolute;top:93963;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:92948;left:306"><nobr>Method getter, Method setter)</nobr></div>
<div style="position:absolute;top:92966;left:180"><nobr>throws IntrospectionException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:92998;left:135"><nobr>This constructor takes the name of a simple property, and Method objects for reading and writing the property.</nobr></div>
<div style="position:absolute;top:93028;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:93046;left:189"><nobr>propertyName</nobr></div>
<div style="position:absolute;top:93064;left:221"><nobr>The programmatic name of the property.</nobr></div>
<div style="position:absolute;top:93082;left:189"><nobr>getter</nobr></div>
<div style="position:absolute;top:93100;left:221"><nobr>The method used for reading the property value. May be null if the property is write-only.</nobr></div>
<div style="position:absolute;top:93118;left:189"><nobr>setter</nobr></div>
<div style="position:absolute;top:93136;left:221"><nobr>The method used for writing the property value. May be null if the property is read-only.</nobr></div>
<div style="position:absolute;top:93166;left:135"><nobr><b>Throws: </b>IntrospectionException</nobr></div>
<div style="position:absolute;top:93184;left:189"><nobr>if an exception occurs during introspection.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:93220;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:93273;left:103"><nobr><b>• getPropertyEditorClass</b></nobr></div>
<div style="position:absolute;top:93296;left:135"><nobr>public Class getPropertyEditorClass()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:93325;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:93343;left:189"><nobr>Any explicit PropertyEditor Class that has been registered for this property. Normally this will return "null",</nobr></div>
<div style="position:absolute;top:93361;left:189"><nobr>indicating that no special editor has been registered, so the PropertyEditorManager should be used to locate</nobr></div>
<div style="position:absolute;top:93379;left:189"><nobr>a suitable PropertyEditor.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:93413;left:103"><nobr><b>• getPropertyType</b></nobr></div>
<div style="position:absolute;top:93435;left:135"><nobr>public Class getPropertyType()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:93464;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:93482;left:189"><nobr>The Java type info for the property. Note that the "Class" object may describe a built-in Java type such as</nobr></div>
<div style="position:absolute;top:93500;left:189"><nobr>"int". The result may be "null" if this is an indexed property that does not support non-indexed access.</nobr></div>
<div style="position:absolute;top:93527;left:189"><nobr>This is the type that will be returned by the ReadMethod.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:93561;left:103"><nobr><b>• getReadMethod</b></nobr></div>
<div style="position:absolute;top:93584;left:135"><nobr>public Method getReadMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:93613;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:93631;left:189"><nobr>The method that should be used to read the property value. May return null if the property can't be read.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:93665;left:103"><nobr><b>• getWriteMethod</b></nobr></div>
<div style="position:absolute;top:93687;left:135"><nobr>public Method getWriteMethod()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:93716;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:93734;left:189"><nobr>The method that should be used to write the property value. May return null if the property can't be written.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:93768;left:103"><nobr><b>• isBound</b></nobr></div>
<div style="position:absolute;top:93791;left:135"><nobr>public boolean isBound()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:93823;left:135"><nobr>Updates to "bound" properties will cause a "PropertyChange" event to get fired when the property is changed.</nobr></div>
<div style="position:absolute;top:93853;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:93871;left:189"><nobr>True if this is a bound property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:93905;left:103"><nobr><b>• isConstrained</b></nobr></div>
</span></font>

<div style="position:absolute;top:94027;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="80"><b>Page 80</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:94081;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:95151;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:95151;left:452"><nobr><i>80</i></nobr></div>
<div style="position:absolute;top:95151;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:94136;left:135"><nobr>public boolean isConstrained()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:94168;left:135"><nobr>Attempted updates to "Constrained" properties will cause a "VetoableChange" event to get fired when the property is</nobr></div>
<div style="position:absolute;top:94186;left:135"><nobr>changed.</nobr></div>
<div style="position:absolute;top:94216;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:94234;left:189"><nobr>True if this is a constrained property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:94268;left:103"><nobr><b>• setBound</b></nobr></div>
<div style="position:absolute;top:94290;left:135"><nobr>public void setBound(boolean bound)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:94322;left:135"><nobr>Updates to "bound" properties will cause a "PropertyChange" event to get fired when the property is changed.</nobr></div>
<div style="position:absolute;top:94352;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:94370;left:189"><nobr>bound</nobr></div>
<div style="position:absolute;top:94388;left:221"><nobr>True if this is a bound property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:94422;left:103"><nobr><b>• setConstrained</b></nobr></div>
<div style="position:absolute;top:94445;left:135"><nobr>public void setConstrained(boolean constrained)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:94477;left:135"><nobr>Attempted updates to "Constrained" properties will cause a "VetoableChange" event to get fired when the property is</nobr></div>
<div style="position:absolute;top:94495;left:135"><nobr>changed.</nobr></div>
<div style="position:absolute;top:94525;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:94543;left:189"><nobr>constrained</nobr></div>
<div style="position:absolute;top:94561;left:221"><nobr>True if this is a constrained property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:94595;left:103"><nobr><b>• setPropertyEditorClass</b></nobr></div>
<div style="position:absolute;top:94617;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:94635;left:135"><nobr>setPropertyEditorClass(Class propertyEditorClass)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:94667;left:135"><nobr>Normally PropertyEditors will be found using the PropertyEditorManager. However if for some reason you want to</nobr></div>
<div style="position:absolute;top:94685;left:135"><nobr>associate a particular PropertyEditor with a given property, then you can do it with this method.</nobr></div>
<div style="position:absolute;top:94715;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:94733;left:189"><nobr>propertyEditorClass</nobr></div>
<div style="position:absolute;top:94751;left:221"><nobr>The Class for the desired PropertyEditor.</nobr></div>
</span></font>

<div style="position:absolute;top:95215;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="81"><b>Page 81</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:95269;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:96339;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:96339;left:452"><nobr><i>81</i></nobr></div>
<div style="position:absolute;top:96339;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:95323;left:81"><nobr><b>Class SimpleBeanInfo</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:95387;left:135"><nobr>public class java.beans.<b>SimpleBeanInfo</b></nobr></div>
<div style="position:absolute;top:95405;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
<div style="position:absolute;top:95423;left:171"><nobr>implements java.beans.<b>BeanInfo</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:95458;left:135"><nobr>This is a support class to make it easier for people to provide BeanInfo classes.</nobr></div>
<div style="position:absolute;top:95485;left:135"><nobr>It defaults to providing "noop" information, and can be selectively overriden to provide more explicit information on</nobr></div>
<div style="position:absolute;top:95503;left:135"><nobr>chosen topics. When the introspector sees the "noop" values, it will apply low level introspection and design patterns</nobr></div>
<div style="position:absolute;top:95521;left:135"><nobr>to automatically analyze the target bean.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:95557;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:95610;left:103"><nobr><b>• getAdditionalBeanInfo</b></nobr></div>
<div style="position:absolute;top:95633;left:135"><nobr>public BeanInfo[] getAdditionalBeanInfo()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:95665;left:135"><nobr>Claim there are no other relevant BeanInfo objects. You may override this if you want to (for example) return a Bean-</nobr></div>
<div style="position:absolute;top:95683;left:135"><nobr>Info for a base class.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:95717;left:103"><nobr><b>• getBeanDescriptor</b></nobr></div>
<div style="position:absolute;top:95739;left:135"><nobr>public BeanDescriptor getBeanDescriptor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:95771;left:135"><nobr>Deny knowledge about the class and customizer of the bean. You can override this if you wish to provide explicit</nobr></div>
<div style="position:absolute;top:95789;left:135"><nobr>info.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:95823;left:103"><nobr><b>• getDefaultEventIndex</b></nobr></div>
<div style="position:absolute;top:95846;left:135"><nobr>public int getDefaultEventIndex()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:95878;left:135"><nobr>Deny knowledge of a default event. You can override this if you wish to define a default event for the bean.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:95912;left:103"><nobr><b>• getDefaultPropertyIndex</b></nobr></div>
<div style="position:absolute;top:95934;left:135"><nobr>public int getDefaultPropertyIndex()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:95966;left:135"><nobr>Deny knowledge of a default property. You can override this if you wish to define a default property for the bean.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:96000;left:103"><nobr><b>• getEventSetDescriptors</b></nobr></div>
<div style="position:absolute;top:96023;left:135"><nobr>public EventSetDescriptor[] getEventSetDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:96055;left:135"><nobr>Deny knowledge of event sets. You can override this if you wish to provide explicit event set info.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:96089;left:103"><nobr><b>• getIcon</b></nobr></div>
<div style="position:absolute;top:96111;left:135"><nobr>public Image getIcon(int iconKind)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:96143;left:135"><nobr>Claim there are no icons available. You can override this if you want to provide icons for your bean.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:96177;left:103"><nobr><b>• getMethodDescriptors</b></nobr></div>
<div style="position:absolute;top:96200;left:135"><nobr>public MethodDescriptor[] getMethodDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:96232;left:135"><nobr>Deny knowledge of methods. You can override this if you wish to provide explicit method info.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:96266;left:103"><nobr><b>• getPropertyDescriptors</b></nobr></div>
</span></font>

<div style="position:absolute;top:96403;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="82"><b>Page 82</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:96457;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:97527;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:97527;left:452"><nobr><i>82</i></nobr></div>
<div style="position:absolute;top:97527;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:96512;left:135"><nobr>public PropertyDescriptor[] getPropertyDescriptors()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:96544;left:135"><nobr>Deny knowledge of properties. You can override this if you wish to provide explicit property info.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:96578;left:103"><nobr><b>• loadImage</b></nobr></div>
<div style="position:absolute;top:96600;left:135"><nobr>public Image loadImage(String resourceName)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:96632;left:135"><nobr>This is a utility method to help in loading icon images. It takes the name of a resource file associated with the current</nobr></div>
<div style="position:absolute;top:96650;left:135"><nobr>object's class file and loads an image object from that file. Typically images will be GIFs.</nobr></div>
<div style="position:absolute;top:96680;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:96698;left:189"><nobr>resourceName</nobr></div>
<div style="position:absolute;top:96716;left:221"><nobr>A pathname relative to the directory holding the class file of the current class. For example,</nobr></div>
<div style="position:absolute;top:96734;left:221"><nobr>"wombat.gif".</nobr></div>
<div style="position:absolute;top:96764;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:96782;left:189"><nobr>an image object. May be null if the load failed.</nobr></div>
</span></font>

<div style="position:absolute;top:97591;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="83"><b>Page 83</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:97645;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:97645;left:750"><nobr><i>Customization</i></nobr></div>
<div style="position:absolute;top:98715;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:98715;left:452"><nobr><i>83</i></nobr></div>
<div style="position:absolute;top:98715;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:97699;left:122"><nobr><b>9 Customization</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:97747;left:162"><nobr>When a user is composing an application in an application builder we want to allow them to</nobr></div>
<div style="position:absolute;top:97768;left:162"><nobr>customize the appearance and behaviour of the various beans they are using.</nobr></div>
<div style="position:absolute;top:97798;left:162"><nobr>We allow this customization to occur in two different ways. When a bean exports a set of prop-</nobr></div>
<div style="position:absolute;top:97819;left:162"><nobr>erties, then an application builder can use these properties to construct a GUI <i>property sheet</i></nobr></div>
<div style="position:absolute;top:97840;left:162"><nobr>that lists the properties and provides a <i>property editor </i>for each property. The user can then use</nobr></div>
<div style="position:absolute;top:97861;left:162"><nobr>this property sheet to update the various properties of the bean.</nobr></div>
<div style="position:absolute;top:97891;left:162"><nobr>This kind of simple property sheet is likely to work well for simple to medium sized beans.</nobr></div>
<div style="position:absolute;top:97912;left:162"><nobr>However for larger and more complex beans, we want to allow more sophisticated kinds of</nobr></div>
<div style="position:absolute;top:97933;left:162"><nobr>component customization. For example, we would like to allow component writers to provide</nobr></div>
<div style="position:absolute;top:97954;left:162"><nobr>customization “wizards” that guide users through the different steps of customizing a bean,</nobr></div>
<div style="position:absolute;top:97975;left:162"><nobr>rather than simply facing them with property sheet choices.</nobr></div>
<div style="position:absolute;top:98005;left:162"><nobr>We therefore allow each Java Bean to be accompanied by a <i>customizer </i>class that controls the</nobr></div>
<div style="position:absolute;top:98026;left:162"><nobr>customization of the bean. This customizer class should be an AWT component that can be run</nobr></div>
<div style="position:absolute;top:98047;left:162"><nobr>to customize a target bean. It can provide whatever GUI behaviour it wishes to control the cus-</nobr></div>
<div style="position:absolute;top:98068;left:162"><nobr>tomization of the target bean.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:98107;left:81"><nobr><b>9.1 Storing customized components</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:98140;left:162"><nobr>When a human has customized the behaviour of a set of components, the application builder</nobr></div>
<div style="position:absolute;top:98161;left:162"><nobr>should use the persistence mechanisms described in Section 5 to store away the state of the</nobr></div>
<div style="position:absolute;top:98182;left:162"><nobr>components. When the application is run, this pickled state should be read back in to initialize</nobr></div>
<div style="position:absolute;top:98203;left:162"><nobr>the components.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:98242;left:81"><nobr><b>9.2 Property editors</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:98275;left:162"><nobr>A <i>property editor </i>is a class that exists to allow GUI editing of a property value such as a String</nobr></div>
<div style="position:absolute;top:98296;left:162"><nobr>or Color. Bean developers may also deliver new property editors for any new data types that</nobr></div>
<div style="position:absolute;top:98317;left:162"><nobr>they deliver as part of their bean. For example, if a database bean developer defines a new type</nobr></div>
<div style="position:absolute;top:98338;left:162"><nobr>foo.baz.SQLString and uses that type for component properties, then they may also wish to</nobr></div>
<div style="position:absolute;top:98359;left:162"><nobr>provide a property editor foo.baz.SQLStringEditor for editing SQLString values.</nobr></div>
<div style="position:absolute;top:98389;left:162"><nobr>The PropertyEditor class provides a number of different ways of reading and writing the prop-</nobr></div>
<div style="position:absolute;top:98410;left:162"><nobr>erty value. Not all property editors need support all the different options. At the low-end a Prop-</nobr></div>
<div style="position:absolute;top:98431;left:162"><nobr>ertyEditor may simply support reading and writing a value as a String. At the high-end, a</nobr></div>
<div style="position:absolute;top:98452;left:162"><nobr>PropertyEditor is allowed to provide a full-blown java.awt.Component that can be popped-up</nobr></div>
<div style="position:absolute;top:98473;left:162"><nobr>to edit its value.</nobr></div>
<div style="position:absolute;top:98503;left:162"><nobr>A property editor may be instantiated either as part of a property sheet, or as a field within a</nobr></div>
<div style="position:absolute;top:98524;left:162"><nobr>more complex component customizer. If a PropertyEditor allows itself to be represented in sev-</nobr></div>
<div style="position:absolute;top:98545;left:162"><nobr>eral different ways (as a String, as a painted rectangle, as a full-blown custom editor compo-</nobr></div>
<div style="position:absolute;top:98566;left:162"><nobr>nent, etc.) it is the responsibility of the higher-level tool to decide how best to represent a given</nobr></div>
<div style="position:absolute;top:98587;left:162"><nobr>PropertyEditor.</nobr></div>
</span></font>

<div style="position:absolute;top:98779;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="84"><b>Page 84</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:98833;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:98833;left:750"><nobr><i>Customization</i></nobr></div>
<div style="position:absolute;top:99903;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:99903;left:452"><nobr><i>84</i></nobr></div>
<div style="position:absolute;top:99903;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:98887;left:99"><nobr><b>9.2.1</b></nobr></div>
<div style="position:absolute;top:98887;left:162"><nobr><b>Locating property editors</b></nobr></div>
<div style="position:absolute;top:98917;left:162"><nobr>Some property editors will be supplied as part of the Java Beans runtimes, other property edi-</nobr></div>
<div style="position:absolute;top:98938;left:162"><nobr>tors may be supplied by component developers, other property editors may be provided by ap-</nobr></div>
<div style="position:absolute;top:98959;left:162"><nobr>plication builder tools.</nobr></div>
<div style="position:absolute;top:98989;left:162"><nobr>To allow the right property editor to be located for a given Java data type, we provide a class</nobr></div>
<div style="position:absolute;top:99010;left:162"><nobr>java.beans.PropertyEditorManager that maps between Java types and corresponding property</nobr></div>
<div style="position:absolute;top:99031;left:162"><nobr>editor classes.</nobr></div>
<div style="position:absolute;top:99061;left:162"><nobr>The PropertyEditorManager class manages a registry of property editors, and allows you to</nobr></div>
<div style="position:absolute;top:99082;left:162"><nobr>register a class to act as the property editor for a given Java type. The registry is pre-loaded</nobr></div>
<div style="position:absolute;top:99103;left:162"><nobr>with editors for the standard Java built-in types such as “int”, “boolean”, etc.</nobr></div>
<div style="position:absolute;top:99133;left:162"><nobr>When you attempt to locate a property editor for a Java type, the property manager searches for</nobr></div>
<div style="position:absolute;top:99154;left:162"><nobr>a suitable property editor by:</nobr></div>
<div style="position:absolute;top:99184;left:172"><nobr>• First looking to see if a property editor has been explicitly registered.</nobr></div>
<div style="position:absolute;top:99214;left:172"><nobr>• If that fails, it will take the given Java type name and add “Editor” to the end and look</nobr></div>
<div style="position:absolute;top:99235;left:189"><nobr>for that class. So for “foo.bah.Wombat” it will look for “foo.bah.WombatEditor” to act</nobr></div>
<div style="position:absolute;top:99256;left:189"><nobr>as the property editor.</nobr></div>
<div style="position:absolute;top:99286;left:172"><nobr>• If that also fails, it will take the final component of the given class name, add “Editor”</nobr></div>
<div style="position:absolute;top:99307;left:189"><nobr>to the end and then look for that class name in a search-list of packages. (By default</nobr></div>
<div style="position:absolute;top:99328;left:189"><nobr>java.beans.editors). Thus for “foo.bah.Wombat” it will check for</nobr></div>
<div style="position:absolute;top:99349;left:189"><nobr>“java.beans.editors.WombatEditor”. Application builder tools may change the package</nobr></div>
<div style="position:absolute;top:99370;left:189"><nobr>search path, by for example, pre-pending a package that they themselves provide.</nobr></div>
<div style="position:absolute;top:99400;left:162"><nobr>Normally component writers who define new types and want to supply property editors should</nobr></div>
<div style="position:absolute;top:99421;left:162"><nobr>simply provide an editor class whose name is the base type name + “Editor”.</nobr></div>
<div style="position:absolute;top:99451;left:162"><nobr>Application builder tools can either use the set of default property editors provided with Java</nobr></div>
<div style="position:absolute;top:99472;left:162"><nobr>Beans or define their own set of property editors for the basic Java types.</nobr></div>
<div style="position:absolute;top:99506;left:99"><nobr><b>9.2.2</b></nobr></div>
<div style="position:absolute;top:99506;left:162"><nobr><b>Reporting changes</b></nobr></div>
<div style="position:absolute;top:99536;left:162"><nobr>Whenever a property editor makes a change it should fire a “PropertyChange” event. This al-</nobr></div>
<div style="position:absolute;top:99557;left:162"><nobr>lows higher level software to detect the change, retrieve the new value, and do an appropriate</nobr></div>
<div style="position:absolute;top:99578;left:162"><nobr>setXXX call to the target component.</nobr></div>
<div style="position:absolute;top:99613;left:99"><nobr><b>9.2.3</b></nobr></div>
<div style="position:absolute;top:99613;left:162"><nobr><b>Don’t change the initial object</b></nobr></div>
<div style="position:absolute;top:99643;left:162"><nobr>Property editors are given an object representing the current value of a property. However a</nobr></div>
<div style="position:absolute;top:99664;left:162"><nobr>property editor should not directly change this initial object. Instead, based on user input, it</nobr></div>
<div style="position:absolute;top:99685;left:162"><nobr>should create a new object to reflect the revised state of the property. When the property editor</nobr></div>
<div style="position:absolute;top:99706;left:162"><nobr>fires a “PropertyChange” event (see above) higher level software will detect the change, re-</nobr></div>
<div style="position:absolute;top:99727;left:162"><nobr>trieve the new object, and do an appropriate property setter method call on the target compo-</nobr></div>
<div style="position:absolute;top:99748;left:162"><nobr>nent to set the new value.</nobr></div>
<div style="position:absolute;top:99778;left:162"><nobr>Since most simple objects in Java (String, Color, Font) are immutable, this model works natu-</nobr></div>
<div style="position:absolute;top:99799;left:162"><nobr>rally for them. However, for mutable data types this also feels like the clearest and most reliable</nobr></div>
<div style="position:absolute;top:99820;left:162"><nobr>model. It seems likely to lead to errors and misunderstandings if we were to try to change an</nobr></div>
<div style="position:absolute;top:99841;left:162"><nobr>existing property object’s value under a component’s feet.</nobr></div>
</span></font>

<div style="position:absolute;top:99967;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="85"><b>Page 85</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:100021;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:100021;left:750"><nobr><i>Customization</i></nobr></div>
<div style="position:absolute;top:101091;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:101091;left:452"><nobr><i>85</i></nobr></div>
<div style="position:absolute;top:101091;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:100075;left:162"><nobr>Some property sheets may immediately apply each modified property value to the target com-</nobr></div>
<div style="position:absolute;top:100096;left:162"><nobr>ponent. However some property sheets (or customizers) may choose to delay the changes until</nobr></div>
<div style="position:absolute;top:100117;left:162"><nobr>the users confirms them.</nobr></div>
<div style="position:absolute;top:100151;left:99"><nobr><b>9.2.4</b></nobr></div>
<div style="position:absolute;top:100151;left:162"><nobr><b>Indirect property changes</b></nobr></div>
<div style="position:absolute;top:100181;left:162"><nobr>In some components, setting one property value may cause other property values to change.</nobr></div>
<div style="position:absolute;top:100211;left:162"><nobr>If this happens while a property sheet is open, then the user would like the property sheet to be</nobr></div>
<div style="position:absolute;top:100232;left:162"><nobr>updated with all the new values. We therefore recommend that after each property update a</nobr></div>
<div style="position:absolute;top:100253;left:162"><nobr>property sheet manager should re-read all the properties associated with the target bean. How-</nobr></div>
<div style="position:absolute;top:100274;left:162"><nobr>ever, in order to avoid excessive screen redraws we recommend that it should do an “==” fol-</nobr></div>
<div style="position:absolute;top:100295;left:162"><nobr>lowed by a “Object.equals” test to compare each new property value with its previous value.</nobr></div>
<div style="position:absolute;top:100316;left:162"><nobr>The individual property editors should only be updated if the value has actually changed.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:100346;left:194"><nobr>We considered defining an “IndirectPropertyUpdate” event that should get fired when a property was</nobr></div>
<div style="position:absolute;top:100364;left:194"><nobr>changed as a side-effect of some other operation. However this seemed to add extra weight to the inter-</nobr></div>
<div style="position:absolute;top:100382;left:194"><nobr>face for only a fairly small performance gain.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:100415;left:162"><nobr>See also “bound properties” in Section 7.4.</nobr></div>
<div style="position:absolute;top:100450;left:99"><nobr><b>9.2.5</b></nobr></div>
<div style="position:absolute;top:100450;left:162"><nobr><b>The getJavaInitializationString method</b></nobr></div>
<div style="position:absolute;top:100480;left:162"><nobr>If you are implementing a PropertyEditor, note that it is important to support the getJavaInitial-</nobr></div>
<div style="position:absolute;top:100501;left:162"><nobr>ziationString method. Builder tools may use this method to help generate source code to restore</nobr></div>
<div style="position:absolute;top:100522;left:162"><nobr>the state of a bean (see Section 5.4). For example getJavaInitializationString might be used to</nobr></div>
<div style="position:absolute;top:100543;left:162"><nobr>generate code that will reinitialize a bean’s properties to the current values shown in a property</nobr></div>
<div style="position:absolute;top:100564;left:162"><nobr>sheet.</nobr></div>
<div style="position:absolute;top:100594;left:162"><nobr>The String returned by getJavaInitializationString should represent a value that can be passed</nobr></div>
<div style="position:absolute;top:100615;left:162"><nobr>as a method or constructor argument.</nobr></div>
<div style="position:absolute;top:100645;left:162"><nobr>So for example:</nobr></div>
<div style="position:absolute;top:100675;left:172"><nobr>• The property editor for the “int” primitive type might return strings such as “0”, “-1”,</nobr></div>
<div style="position:absolute;top:100696;left:189"><nobr>or “555”.</nobr></div>
<div style="position:absolute;top:100726;left:172"><nobr>• The property editor for java.awt.Color might return strings such as</nobr></div>
<div style="position:absolute;top:100747;left:189"><nobr>“java.awt.Color.red” or “new java.awt.Color(128,128,128)”.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:100786;left:81"><nobr><b>9.3 Customizers</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:100819;left:162"><nobr>Property sheets will be an adequate way of customizing most simple components.</nobr></div>
<div style="position:absolute;top:100849;left:162"><nobr>However for large components that offer a number of different ways of being configured, it</nobr></div>
<div style="position:absolute;top:100870;left:162"><nobr>may be more appropriate for the component developer to provide a special class for customiz-</nobr></div>
<div style="position:absolute;top:100891;left:162"><nobr>ing the component. We refer to these classes as <i>customizers</i>.</nobr></div>
<div style="position:absolute;top:100921;left:162"><nobr>Each customizer should inherit either directly or indirectly from java.awt.Component. It should</nobr></div>
<div style="position:absolute;top:100942;left:162"><nobr>also implement the java.beans.Customizer interface.</nobr></div>
</span></font>

<div style="position:absolute;top:101155;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="86"><b>Page 86</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:101209;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:101209;left:750"><nobr><i>Customization</i></nobr></div>
<div style="position:absolute;top:102279;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:102279;left:452"><nobr><i>86</i></nobr></div>
<div style="position:absolute;top:102279;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:101263;left:99"><nobr><b>9.3.1</b></nobr></div>
<div style="position:absolute;top:101263;left:162"><nobr><b>GUI appearance</b></nobr></div>
<div style="position:absolute;top:101293;left:162"><nobr>Normally each Customizer will be run in a separate AWT dialog window. The customizer has</nobr></div>
<div style="position:absolute;top:101314;left:162"><nobr>complete discretion how it chooses to represent itself, and may redraw its appearance as the</nobr></div>
<div style="position:absolute;top:101335;left:162"><nobr>user navigates/moves through different stages of customization.</nobr></div>
<div style="position:absolute;top:101365;left:162"><nobr>A customizer may choose to include property editors in its screen appearance to edit target data</nobr></div>
<div style="position:absolute;top:101386;left:162"><nobr>values.</nobr></div>
<div style="position:absolute;top:101420;left:99"><nobr><b>9.3.2</b></nobr></div>
<div style="position:absolute;top:101420;left:162"><nobr><b>In place update</b></nobr></div>
<div style="position:absolute;top:101450;left:162"><nobr>Each customizer will be given a target object to customize as its constructor argument.</nobr></div>
<div style="position:absolute;top:101480;left:162"><nobr>It is entirely up to the individual customizer whether it chooses to apply changes as it goes</nobr></div>
<div style="position:absolute;top:101501;left:162"><nobr>along, or whether it batches up changes and applies them to the object at appropriate points.</nobr></div>
<div style="position:absolute;top:101522;left:162"><nobr>However, whenever possible, we advise that the target bean’s screen appearance should be</nobr></div>
<div style="position:absolute;top:101543;left:162"><nobr>quickly updated to reflect requested changes.</nobr></div>
<div style="position:absolute;top:101578;left:99"><nobr><b>9.3.3</b></nobr></div>
<div style="position:absolute;top:101578;left:162"><nobr><b>Locating customizers</b></nobr></div>
<div style="position:absolute;top:101608;left:162"><nobr>If a bean wishes to provide its own Customizer then it must provide its own BeanInfo class (see</nobr></div>
<div style="position:absolute;top:101629;left:162"><nobr>8.6). Tools can then use the BeanInfo.getBeanDescriptor().getCustomizerClass() method to lo-</nobr></div>
<div style="position:absolute;top:101650;left:162"><nobr>cate the bean’s Customizer class.</nobr></div>
</span></font>

<div style="position:absolute;top:102343;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="87"><b>Page 87</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:102397;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:103467;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:103467;left:452"><nobr><i>87</i></nobr></div>
<div style="position:absolute;top:103467;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:102451;left:81"><nobr><b>Interface Customizer</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:102515;left:135"><nobr>public interface java.beans.<b>Customizer</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:102550;left:135"><nobr>A customizer class provides a complete custom GUI for customizing a target Java Bean.</nobr></div>
<div style="position:absolute;top:102577;left:135"><nobr>Each customizer should inherit from the java.awt.Component class so it can be instantiated inside an AWT dialog or</nobr></div>
<div style="position:absolute;top:102595;left:135"><nobr>panel.</nobr></div>
<div style="position:absolute;top:102622;left:135"><nobr>Each customizer should have a null constructor.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:102658;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:102711;left:103"><nobr><b>• addPropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:102734;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:102752;left:135"><nobr>addPropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:102784;left:135"><nobr>Register a listener for the PropertyChange event. The customizer should fire a PropertyChange event whenever it</nobr></div>
<div style="position:absolute;top:102802;left:135"><nobr>changes the target bean in a way that might require the displayed properties to be refreshed.</nobr></div>
<div style="position:absolute;top:102832;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:102850;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:102868;left:221"><nobr>An object to be invoked when a PropertyChange event is fired.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:102902;left:103"><nobr><b>• removePropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:102924;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:102942;left:135"><nobr>removePropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:102974;left:135"><nobr>Remove a listener for the PropertyChange event.</nobr></div>
<div style="position:absolute;top:103004;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:103022;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:103040;left:221"><nobr>The PropertyChange listener to be removed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:103074;left:103"><nobr><b>• setObject</b></nobr></div>
<div style="position:absolute;top:103097;left:135"><nobr>public void setObject(Object bean)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:103129;left:135"><nobr>Set the object to be customized. This method should be called only once, before the Customizer has been added to</nobr></div>
<div style="position:absolute;top:103147;left:135"><nobr>any parent AWT container.</nobr></div>
<div style="position:absolute;top:103177;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:103195;left:189"><nobr>bean</nobr></div>
<div style="position:absolute;top:103213;left:221"><nobr>The object to be customized.</nobr></div>
</span></font>

<div style="position:absolute;top:103531;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="88"><b>Page 88</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:103585;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:104655;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:104655;left:452"><nobr><i>88</i></nobr></div>
<div style="position:absolute;top:104655;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:103639;left:81"><nobr><b>Interface PropertyEditor</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:103703;left:135"><nobr>public interface java.beans.<b>PropertyEditor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:103738;left:135"><nobr>A PropertyEditor class provides support for GUIs that want to allow users to edit a property value of a given type.</nobr></div>
<div style="position:absolute;top:103765;left:135"><nobr>PropertyEditor supports a variety of different kinds of ways of displaying and updating property values. Most Proper-</nobr></div>
<div style="position:absolute;top:103783;left:135"><nobr>tyEditors will only need to support a subset of the different options available in this API.</nobr></div>
<div style="position:absolute;top:103810;left:135"><nobr>Simple PropertyEditors may only support the getAsText and setAsText methods and need not support (say) paint-</nobr></div>
<div style="position:absolute;top:103828;left:135"><nobr>Value or getCustomEditor. More complex types may be unable to support getAsText and setAsText but will instead</nobr></div>
<div style="position:absolute;top:103846;left:135"><nobr>support paintValue and getCustomEditor.</nobr></div>
<div style="position:absolute;top:103873;left:135"><nobr>Every propertyEditor must support one or more of the three simple display styles. Thus it can either (1) support</nobr></div>
<div style="position:absolute;top:103891;left:135"><nobr>isPaintable or (2) both return a non-null String[] from getTags() and return a non-null value from getAsText or (3)</nobr></div>
<div style="position:absolute;top:103909;left:135"><nobr>simply return a non-null String from getAsText().</nobr></div>
<div style="position:absolute;top:103936;left:135"><nobr>Every property editor must support a call on setValue when the argument object is of the type for which this is the</nobr></div>
<div style="position:absolute;top:103954;left:135"><nobr>corresponding propertyEditor. In addition, each property editor must either support a custom editor, or support setAs-</nobr></div>
<div style="position:absolute;top:103972;left:135"><nobr>Text.</nobr></div>
<div style="position:absolute;top:103999;left:135"><nobr>Each PropertyEditor should have a null constructor.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:104035;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:104088;left:103"><nobr><b>• addPropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:104111;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:104129;left:135"><nobr>addPropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:104161;left:135"><nobr>Register a listener for the PropertyChange event. When a PropertyEditor changes its value it should fire a Property-</nobr></div>
<div style="position:absolute;top:104179;left:135"><nobr>Change event on all registered PropertyChangeListeners, specifying the null value for the property name and itself as</nobr></div>
<div style="position:absolute;top:104197;left:135"><nobr>the source.</nobr></div>
<div style="position:absolute;top:104227;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:104245;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:104263;left:221"><nobr>An object to be invoked when a PropertyChange event is fired.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:104297;left:103"><nobr><b>• getAsText</b></nobr></div>
<div style="position:absolute;top:104319;left:135"><nobr>public String getAsText()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:104348;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:104366;left:189"><nobr>The property value as a human editable string.</nobr></div>
<div style="position:absolute;top:104393;left:189"><nobr>Returns null if the value can't be expressed as an editable string.</nobr></div>
<div style="position:absolute;top:104420;left:189"><nobr>If a non-null value is returned, then the PropertyEditor should be prepared to parse that string back in setAs-</nobr></div>
<div style="position:absolute;top:104438;left:189"><nobr>Text().</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:104472;left:103"><nobr><b>• getCustomEditor</b></nobr></div>
<div style="position:absolute;top:104495;left:135"><nobr>public Component getCustomEditor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:104527;left:135"><nobr>A PropertyEditor may choose to make available a full custom Component that edits its property value. It is the</nobr></div>
<div style="position:absolute;top:104545;left:135"><nobr>responsibility of the PropertyEditor to hook itself up to its editor Component itself and to report property value</nobr></div>
<div style="position:absolute;top:104563;left:135"><nobr>changes by firing a PropertyChange event.</nobr></div>
<div style="position:absolute;top:104590;left:135"><nobr>The higher-level code that calls getCustomEditor may either embed the Component in some larger property sheet, or</nobr></div>
</span></font>

<div style="position:absolute;top:104719;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="89"><b>Page 89</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:104773;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:105843;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:105843;left:452"><nobr><i>89</i></nobr></div>
<div style="position:absolute;top:105843;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:104827;left:135"><nobr>it may put it in its own individual dialog, or ...</nobr></div>
<div style="position:absolute;top:104857;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:104875;left:189"><nobr>A java.awt.Component that will allow a human to directly edit the current property value. May be null if this</nobr></div>
<div style="position:absolute;top:104893;left:189"><nobr>is not supported.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:104927;left:103"><nobr><b>• getJavaInitializationString</b></nobr></div>
<div style="position:absolute;top:104949;left:135"><nobr>public String getJavaInitializationString()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:104981;left:135"><nobr>This method is intended for use when generating Java code to set the value of the property. It should return a fragment</nobr></div>
<div style="position:absolute;top:104999;left:135"><nobr>of Java code that can be used to initialize a variable with the current property value.</nobr></div>
<div style="position:absolute;top:105026;left:135"><nobr>Example results are "2", "new Color(127,127,34)", "Color.orange", etc.</nobr></div>
<div style="position:absolute;top:105056;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:105074;left:189"><nobr>A fragment of Java code representing an initializer for the current value.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:105108;left:103"><nobr><b>• getTags</b></nobr></div>
<div style="position:absolute;top:105131;left:135"><nobr>public String[] getTags()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:105163;left:135"><nobr>If the property value must be one of a set of known tagged values, then this method should return an array of the tags.</nobr></div>
<div style="position:absolute;top:105181;left:135"><nobr>This can be used to represent (for example) enum values. If a PropertyEditor supports tags, then it should support the</nobr></div>
<div style="position:absolute;top:105199;left:135"><nobr>use of setAsText with a tag value as a way of setting the value and the use of getAsText to identify the current value.</nobr></div>
<div style="position:absolute;top:105229;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:105247;left:189"><nobr>The tag values for this property. May be null if this property cannot be represented as a tagged value.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:105281;left:103"><nobr><b>• getValue</b></nobr></div>
<div style="position:absolute;top:105303;left:135"><nobr>public Object getValue()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:105332;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:105350;left:189"><nobr>The value of the property. Primitive types such as "int" will be wrapped as the corresponding object type</nobr></div>
<div style="position:absolute;top:105368;left:189"><nobr>such as "java.lang.Integer".</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:105402;left:103"><nobr><b>• isPaintable</b></nobr></div>
<div style="position:absolute;top:105425;left:135"><nobr>public boolean isPaintable()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:105454;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:105472;left:189"><nobr>True if the class will honor the paintValue method.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:105506;left:103"><nobr><b>• paintValue</b></nobr></div>
<div style="position:absolute;top:105528;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:105546;left:135"><nobr>paintValue(Graphics gfx, Rectangle box)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:105578;left:135"><nobr>Paint a representation of the value into a given area of screen real estate. Note that the propertyEditor is responsible</nobr></div>
<div style="position:absolute;top:105596;left:135"><nobr>for doing its own clipping so that it fits into the given rectangle.</nobr></div>
<div style="position:absolute;top:105623;left:135"><nobr>If the PropertyEditor doesn't honor paint requests (see isPaintable) this method should be a silent noop.</nobr></div>
<div style="position:absolute;top:105650;left:135"><nobr>The given Graphics object will have the default font, color, etc of the parent container. The PropertyEditor may</nobr></div>
<div style="position:absolute;top:105668;left:135"><nobr>change graphics attributes such as font and color and doesn't need to restore the old values.</nobr></div>
<div style="position:absolute;top:105698;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:105716;left:189"><nobr>gfx</nobr></div>
<div style="position:absolute;top:105734;left:221"><nobr>Graphics object to paint into.</nobr></div>
<div style="position:absolute;top:105752;left:189"><nobr>box</nobr></div>
<div style="position:absolute;top:105770;left:221"><nobr>Rectangle within graphics object into which we should paint.</nobr></div>
</span></font>

<div style="position:absolute;top:105907;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="90"><b>Page 90</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:105961;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:107031;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:107031;left:452"><nobr><i>90</i></nobr></div>
<div style="position:absolute;top:107031;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:106016;left:103"><nobr><b>• removePropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:106038;left:135"><nobr>public void</nobr></div>
<div style="position:absolute;top:106056;left:135"><nobr>removePropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:106088;left:135"><nobr>Remove a listener for the PropertyChange event.</nobr></div>
<div style="position:absolute;top:106118;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:106136;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:106154;left:221"><nobr>The PropertyChange listener to be removed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:106188;left:103"><nobr><b>• setAsText</b></nobr></div>
<div style="position:absolute;top:106211;left:135"><nobr>public void setAsText(String text)</nobr></div>
<div style="position:absolute;top:106229;left:180"><nobr>throws IllegalArgumentException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:106261;left:135"><nobr>Set the property value by parsing a given String. May raise java.lang.IllegalArgumentException if either the String is</nobr></div>
<div style="position:absolute;top:106279;left:135"><nobr>badly formatted or if this kind of property can't be expressed as text.</nobr></div>
<div style="position:absolute;top:106309;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:106327;left:189"><nobr>text</nobr></div>
<div style="position:absolute;top:106345;left:221"><nobr>The string to be parsed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:106379;left:103"><nobr><b>• setValue</b></nobr></div>
<div style="position:absolute;top:106401;left:135"><nobr>public void setValue(Object value)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:106433;left:135"><nobr>Set (or change) the object that is to be edited. Primitive types such as "int" must be wrapped as the corresponding</nobr></div>
<div style="position:absolute;top:106451;left:135"><nobr>object type such as "java.lang.Integer".</nobr></div>
<div style="position:absolute;top:106481;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:106499;left:189"><nobr>value</nobr></div>
<div style="position:absolute;top:106517;left:221"><nobr>The new target object to be edited. Note that this object should not be modified by the PropertyEditor,</nobr></div>
<div style="position:absolute;top:106535;left:221"><nobr>rather the PropertyEditor should create a new object to hold any modified value.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:106569;left:103"><nobr><b>• supportsCustomEditor</b></nobr></div>
<div style="position:absolute;top:106592;left:135"><nobr>public boolean supportsCustomEditor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:106621;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:106639;left:189"><nobr>True if the propertyEditor can provide a custom editor.</nobr></div>
</span></font>

<div style="position:absolute;top:107095;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="91"><b>Page 91</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:107149;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:108219;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:108219;left:452"><nobr><i>91</i></nobr></div>
<div style="position:absolute;top:108219;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:107203;left:81"><nobr><b>Class PropertyEditorManager</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:107267;left:135"><nobr>public class java.beans.<b>PropertyEditorManager</b></nobr></div>
<div style="position:absolute;top:107285;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:107320;left:135"><nobr>The PropertyEditorManager can be used to locate a property editor for any given type name. This property editor</nobr></div>
<div style="position:absolute;top:107338;left:135"><nobr>must support the java.beans.PropertyEditor interface for editing a given object.</nobr></div>
<div style="position:absolute;top:107365;left:135"><nobr>The PropertyEditorManager uses three techniques for locating an editor for a given type. First, it provides a regis-</nobr></div>
<div style="position:absolute;top:107383;left:135"><nobr>terEditor method to allow an editor to be specifically registered for a given type. Second it tries to locate a suitable</nobr></div>
<div style="position:absolute;top:107401;left:135"><nobr>class by adding "Editor" to the full qualified classname of the given type (e.g. "foo.bah.FozEditor"). Finally it takes</nobr></div>
<div style="position:absolute;top:107419;left:135"><nobr>the simple classname (without the package name) adds "Editor" to it and looks in a search-path of packages for a</nobr></div>
<div style="position:absolute;top:107437;left:135"><nobr>matching class.</nobr></div>
<div style="position:absolute;top:107464;left:135"><nobr>So for an input class foo.bah.Fred, the PropertyEditorManager would first look in its tables to see if an editor had</nobr></div>
<div style="position:absolute;top:107482;left:135"><nobr>been registered for foo.bah.Fred and if so use that. Then it will look for a foo.bah.FredEditor class. Then it will look</nobr></div>
<div style="position:absolute;top:107500;left:135"><nobr>for (say) standardEditorsPackage.FredEditor class.</nobr></div>
<div style="position:absolute;top:107527;left:135"><nobr>Default PropertyEditors will be provided for the Java primitive types "boolean", "byte", "short", "int", "long", "float",</nobr></div>
<div style="position:absolute;top:107545;left:135"><nobr>and "double"; and for the classes java.lang.String. java.awt.Color, and java.awt.Font.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:107581;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:107634;left:103"><nobr><b>• findEditor</b></nobr></div>
<div style="position:absolute;top:107657;left:135"><nobr>public static PropertyEditor</nobr></div>
<div style="position:absolute;top:107675;left:135"><nobr>findEditor(Class targetType)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:107707;left:135"><nobr>Locate a value editor for a given target type.</nobr></div>
<div style="position:absolute;top:107737;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:107755;left:189"><nobr>targetType</nobr></div>
<div style="position:absolute;top:107773;left:221"><nobr>The Class object for the type to be edited</nobr></div>
<div style="position:absolute;top:107803;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:107821;left:189"><nobr>An editor object for the given target class. The result is null if no suitable editor can be found.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:107855;left:103"><nobr><b>• getEditorSearchPath</b></nobr></div>
<div style="position:absolute;top:107877;left:135"><nobr>public static String[] getEditorSearchPath()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:107906;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:107924;left:189"><nobr>The array of package names that will be searched in order to find property editors.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:107985;left:103"><nobr><b>• registerEditor</b></nobr></div>
<div style="position:absolute;top:108008;left:135"><nobr>public static void</nobr></div>
<div style="position:absolute;top:108026;left:135"><nobr>registerEditor(Class targetType, Class editorClass)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:108058;left:135"><nobr>Register an editor class to be used to editor values of a given target class.</nobr></div>
<div style="position:absolute;top:108088;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:108106;left:189"><nobr>targetType</nobr></div>
<div style="position:absolute;top:108124;left:221"><nobr>the Class object of the type to be edited</nobr></div>
<div style="position:absolute;top:108142;left:189"><nobr>editorClass</nobr></div>
<div style="position:absolute;top:108160;left:221"><nobr>the Class object of the editor class. If this is null, then any existing definition will be removed.</nobr></div>
</span></font>

<div style="position:absolute;top:108283;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="92"><b>Page 92</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:108337;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:109407;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:109407;left:452"><nobr><i>92</i></nobr></div>
<div style="position:absolute;top:109407;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:108392;left:103"><nobr><b>• setEditorSearchPath</b></nobr></div>
<div style="position:absolute;top:108414;left:135"><nobr>public static void</nobr></div>
<div style="position:absolute;top:108432;left:135"><nobr>setEditorSearchPath(String path[])</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:108464;left:135"><nobr>Change the list of package names that will be used for finding property editors.</nobr></div>
<div style="position:absolute;top:108494;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:108512;left:189"><nobr>path</nobr></div>
<div style="position:absolute;top:108530;left:221"><nobr>Array of package names.</nobr></div>
</span></font>

<div style="position:absolute;top:109471;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="93"><b>Page 93</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:109525;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:110595;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:110595;left:452"><nobr><i>93</i></nobr></div>
<div style="position:absolute;top:110595;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:109579;left:81"><nobr><b>Class PropertyEditorSupport</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:109643;left:135"><nobr>public class java.beans.<b>PropertyEditorSupport</b></nobr></div>
<div style="position:absolute;top:109661;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
<div style="position:absolute;top:109679;left:171"><nobr>implements java.beans.<b>PropertyEditor</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:109714;left:135"><nobr>This is a support class to help build property editors.</nobr></div>
<div style="position:absolute;top:109741;left:135"><nobr>It can be used either as a base class or as a delagatee.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:109777;left:81"><nobr><b>Constructors</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:109830;left:103"><nobr><b>• PropertyEditorSupport</b></nobr></div>
<div style="position:absolute;top:109853;left:135"><nobr>protected PropertyEditorSupport()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:109885;left:135"><nobr>Constructor for use by derived PropertyEditor classes.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:109919;left:103"><nobr><b>• PropertyEditorSupport</b></nobr></div>
<div style="position:absolute;top:109941;left:135"><nobr>protected PropertyEditorSupport(Object source)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:109973;left:135"><nobr>Constructor for use when a PropertyEditor is delegating to us.</nobr></div>
<div style="position:absolute;top:110003;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:110021;left:189"><nobr>source</nobr></div>
<div style="position:absolute;top:110039;left:221"><nobr>The source to use for any events we fire.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:110075;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:110129;left:103"><nobr><b>• addPropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:110151;left:135"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:110169;left:135"><nobr>addPropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:110201;left:135"><nobr>Register a listener for the PropertyChange event. The class will fire a PropertyChange value whenever the value is</nobr></div>
<div style="position:absolute;top:110219;left:135"><nobr>updated.</nobr></div>
<div style="position:absolute;top:110249;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:110267;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:110285;left:221"><nobr>An object to be invoked when a PropertyChange event is fired.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:110319;left:103"><nobr><b>• firePropertyChange</b></nobr></div>
<div style="position:absolute;top:110342;left:135"><nobr>public void firePropertyChange()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:110374;left:135"><nobr>Report that we have been modified to any interested listeners.</nobr></div>
<div style="position:absolute;top:110404;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:110422;left:189"><nobr>source</nobr></div>
<div style="position:absolute;top:110440;left:221"><nobr>The PropertyEditor that caused the event.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:110474;left:103"><nobr><b>• getAsText</b></nobr></div>
<div style="position:absolute;top:110496;left:135"><nobr>public String getAsText()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:110525;left:135"><nobr><b>Returns:</b></nobr></div>
</span></font>

<div style="position:absolute;top:110659;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="94"><b>Page 94</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:110713;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:111783;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:111783;left:452"><nobr><i>94</i></nobr></div>
<div style="position:absolute;top:111783;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:110767;left:189"><nobr>The property value as a string suitable for presentation to a human to edit.</nobr></div>
<div style="position:absolute;top:110794;left:189"><nobr>Returns "null" is the value can't be expressed as a string.</nobr></div>
<div style="position:absolute;top:110821;left:189"><nobr>If a non-null value is returned, then the PropertyEditor should be prepared to parse that string back in setAs-</nobr></div>
<div style="position:absolute;top:110839;left:189"><nobr>Text().</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:110873;left:103"><nobr><b>• getCustomEditor</b></nobr></div>
<div style="position:absolute;top:110895;left:135"><nobr>public Component getCustomEditor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:110927;left:135"><nobr>A PropertyEditor may chose to make available a full custom Component that edits its property value. It is the respon-</nobr></div>
<div style="position:absolute;top:110945;left:135"><nobr>sibility of the PropertyEditor to hook itself up to its editor Component itself and to report property value changes by</nobr></div>
<div style="position:absolute;top:110963;left:135"><nobr>firing a PropertyChange event.</nobr></div>
<div style="position:absolute;top:110990;left:135"><nobr>The higher-level code that calls getCustomEditor may either embed the Component in some larger property sheet, or</nobr></div>
<div style="position:absolute;top:111008;left:135"><nobr>it may put it in its own individual dialog, or ...</nobr></div>
<div style="position:absolute;top:111038;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:111056;left:189"><nobr>A java.awt.Component that will allow a human to directly edit the current property value. May be null if this</nobr></div>
<div style="position:absolute;top:111074;left:189"><nobr>is not supported.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:111108;left:103"><nobr><b>• getJavaInitializationString</b></nobr></div>
<div style="position:absolute;top:111131;left:135"><nobr>public String getJavaInitializationString()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111163;left:135"><nobr>This method is intended for use when generating Java code to set the value of the property. It should return a fragment</nobr></div>
<div style="position:absolute;top:111181;left:135"><nobr>of Java code that can be used to initialize a variable with the current property value.</nobr></div>
<div style="position:absolute;top:111208;left:135"><nobr>Example results are "2", "new Color(127,127,34)", "Color.orange", etc.</nobr></div>
<div style="position:absolute;top:111238;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:111256;left:189"><nobr>A fragment of Java code representing an initializer for the current value.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:111290;left:103"><nobr><b>• getTags</b></nobr></div>
<div style="position:absolute;top:111312;left:135"><nobr>public String[] getTags()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111344;left:135"><nobr>If the property value must be one of a set of known tagged values, then this method should return an array of the tag</nobr></div>
<div style="position:absolute;top:111362;left:135"><nobr>values. This can be used to represent (for example) enum values. If a PropertyEditor supports tags, then it should sup-</nobr></div>
<div style="position:absolute;top:111380;left:135"><nobr>port the use of setAsText with a tag value as a way of setting the value.</nobr></div>
<div style="position:absolute;top:111410;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:111428;left:189"><nobr>The tag values for this property. May be null if this property cannot be represented as a tagged value.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:111462;left:103"><nobr><b>• getValue</b></nobr></div>
<div style="position:absolute;top:111485;left:135"><nobr>public Object getValue()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111514;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:111532;left:189"><nobr>The value of the property.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:111566;left:103"><nobr><b>• isPaintable</b></nobr></div>
<div style="position:absolute;top:111588;left:135"><nobr>public boolean isPaintable()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111617;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:111635;left:189"><nobr>True if the class will honor the paintValue method.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:111669;left:103"><nobr><b>• paintValue</b></nobr></div>
<div style="position:absolute;top:111692;left:135"><nobr>public void paintValue(Graphics gfx, Rectangle box)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111724;left:135"><nobr>Paint a representation of the value into a given area of screen real estate. Note that the propertyEditor is responsible</nobr></div>
</span></font>

<div style="position:absolute;top:111847;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="95"><b>Page 95</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:111901;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:112971;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:112971;left:452"><nobr><i>95</i></nobr></div>
<div style="position:absolute;top:112971;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:111955;left:135"><nobr>for doing its own clipping so that it fits into the given rectangle.</nobr></div>
<div style="position:absolute;top:111982;left:135"><nobr>If the PropertyEditor doesn't honor paint requests (see isPaintable) this method should be a silent noop.</nobr></div>
<div style="position:absolute;top:112012;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:112030;left:189"><nobr>gfx</nobr></div>
<div style="position:absolute;top:112048;left:221"><nobr>Graphics object to paint into.</nobr></div>
<div style="position:absolute;top:112066;left:189"><nobr>box</nobr></div>
<div style="position:absolute;top:112084;left:221"><nobr>Rectangle within graphics object into which we should paint.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:112118;left:103"><nobr><b>• removePropertyChangeListener</b></nobr></div>
<div style="position:absolute;top:112140;left:135"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:112158;left:135"><nobr>removePropertyChangeListener(PropertyChangeListener listener)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:112190;left:135"><nobr>Remove a listener for the PropertyChange event.</nobr></div>
<div style="position:absolute;top:112220;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:112238;left:189"><nobr>listener</nobr></div>
<div style="position:absolute;top:112256;left:221"><nobr>The PropertyChange listener to be removed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:112290;left:103"><nobr><b>• setAsText</b></nobr></div>
<div style="position:absolute;top:112313;left:135"><nobr>public void setAsText(String text)</nobr></div>
<div style="position:absolute;top:112331;left:180"><nobr>throws IllegalArgumentException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:112363;left:135"><nobr>Set the property value by parsing a given String. May raise java.lang.IllegalArgumentException if either the String is</nobr></div>
<div style="position:absolute;top:112381;left:135"><nobr>badly formatted or if this kind of property can't be expressed as text.</nobr></div>
<div style="position:absolute;top:112411;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:112429;left:189"><nobr>text</nobr></div>
<div style="position:absolute;top:112447;left:221"><nobr>The string to be parsed.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:112481;left:103"><nobr><b>• setValue</b></nobr></div>
<div style="position:absolute;top:112503;left:135"><nobr>public void setValue(Object value)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:112535;left:135"><nobr>Set (or change) the object that is to be edited.</nobr></div>
<div style="position:absolute;top:112565;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:112583;left:189"><nobr>value</nobr></div>
<div style="position:absolute;top:112601;left:221"><nobr>The new target object to be edited. Note that this object should not be modified by the PropertyEditor,</nobr></div>
<div style="position:absolute;top:112619;left:221"><nobr>rather the PropertyEditor should create a new object to hold any modified value.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:112653;left:103"><nobr><b>• supportsCustomEditor</b></nobr></div>
<div style="position:absolute;top:112676;left:135"><nobr>public boolean supportsCustomEditor()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:112705;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:112723;left:189"><nobr>True if the propertyEditor can provide a custom editor.</nobr></div>
</span></font>

<div style="position:absolute;top:113035;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="96"><b>Page 96</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:113089;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:113089;left:750"><nobr><i>Miscellaneous</i></nobr></div>
<div style="position:absolute;top:114159;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:114159;left:452"><nobr><i>96</i></nobr></div>
<div style="position:absolute;top:114159;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:113143;left:108"><nobr><b>10 Miscellaneous</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:113191;left:81"><nobr><b>10.1 java.beans.Beans</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:113224;left:162"><nobr>The java.beans.Beans class provides a few miscellaneous beans control methods.</nobr></div>
<div style="position:absolute;top:113254;left:162"><nobr>The isDesignTime and isGuiAvailable methods allow a bean to test its environment so as to</nobr></div>
<div style="position:absolute;top:113275;left:162"><nobr>tailor its behaviour.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:113314;left:81"><nobr><b>10.2 java.beans.Visibility</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:113347;left:162"><nobr>Some beans may be run in both client GUI application and in “invisible” server applications.</nobr></div>
<div style="position:absolute;top:113368;left:162"><nobr>The java.beans.Visibility interface lets a container instruct a bean if it is in a server only envi-</nobr></div>
<div style="position:absolute;top:113389;left:162"><nobr>ronment.</nobr></div>
<div style="position:absolute;top:113419;left:162"><nobr>This interface need only be supported by those beans that want to provide different behaviour</nobr></div>
<div style="position:absolute;top:113440;left:162"><nobr>in a server environment.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:113479;left:81"><nobr><b>10.3 Instantiating a bean</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:113512;left:162"><nobr>A bean can be delivered as either a serialized template (which must be deserialized to create an</nobr></div>
<div style="position:absolute;top:113533;left:162"><nobr>instance of the bean) or as an implementation class (where a bean instance is created simply by</nobr></div>
<div style="position:absolute;top:113554;left:162"><nobr>creating an instance of the class).</nobr></div>
<div style="position:absolute;top:113584;left:162"><nobr>If a programmer is certain that a bean is being delivered simply a class, then they can create an</nobr></div>
<div style="position:absolute;top:113605;left:162"><nobr>instance of the bean by doing a “new”:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:113636;left:211"><nobr>JellyBean fred = new JellyBean();</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:113662;left:162"><nobr>However we also provide a utility method “Beans.instantiate” that can be used to allocate a</nobr></div>
<div style="position:absolute;top:113683;left:162"><nobr>bean that can be either a class or a serialized template. Beans.instantiate will check whether a</nobr></div>
<div style="position:absolute;top:113704;left:162"><nobr>given name represents either a serialized template or a class. If it represents a serialized tem-</nobr></div>
<div style="position:absolute;top:113725;left:162"><nobr>plate, then Beans.instantiate will handle the mechanics of reading in the serialized form in a</nobr></div>
<div style="position:absolute;top:113746;left:162"><nobr>given ClassLoader context.</nobr></div>
<div style="position:absolute;top:113776;left:162"><nobr>For example, in the following sample code, if the target ClassLoader has a serialized template</nobr></div>
<div style="position:absolute;top:113797;left:162"><nobr>file “acme.widgets.PurpleMutantWombat.ser” then Beans.instantiate will read in a bean from</nobr></div>
<div style="position:absolute;top:113818;left:162"><nobr>that template, otherwise it will look for a class “acme.widgets.PurpleMutantWombat”.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:113849;left:211"><nobr>ClassLoader cl = this.getClass().getClassLoader();</nobr></div>
<div style="position:absolute;top:113867;left:211"><nobr>MutantWombat w = (MutantWombat) Beans.instantiate(cl,</nobr></div>
<div style="position:absolute;top:113885;left:475"><nobr>“acme.widgets.PurpleMutantWombat”);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:113911;left:162"><nobr>Beans.instantiate also checks whether the newly created bean is an Applet and if so provides it</nobr></div>
<div style="position:absolute;top:113932;left:162"><nobr>with a default Applet context.</nobr></div>
<div style="position:absolute;top:113962;left:162"><nobr>In general, we recommend (but do not require) that programers use Beans.instantiate when cre-</nobr></div>
<div style="position:absolute;top:113983;left:162"><nobr>ating beans, as it provides some isolation from how the bean is implemented and initialized.</nobr></div>
<div style="position:absolute;top:114013;left:162"><nobr>If implementors chose to bypass Beans.instantiate then they must take care to emulate its func-</nobr></div>
<div style="position:absolute;top:114034;left:162"><nobr>tionality. For example, by providing applet contexts for beans that are applets.</nobr></div>
</span></font>

<div style="position:absolute;top:114223;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="97"><b>Page 97</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:114277;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:114277;left:750"><nobr><i>Miscellaneous</i></nobr></div>
<div style="position:absolute;top:115347;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:115347;left:452"><nobr><i>97</i></nobr></div>
<div style="position:absolute;top:115347;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:114331;left:81"><nobr><b>10.4 Obtaining different type views of a Java Bean</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:114364;left:162"><nobr>In Beans 1.0 each bean is represented by a single Java object. However in future versions of</nobr></div>
<div style="position:absolute;top:114385;left:162"><nobr>Java Beans we may wish to add support for more complex beans, where a set of Java objects</nobr></div>
<div style="position:absolute;top:114406;left:162"><nobr>cooperate to provide a set of differently typed views that are all part of one bean. (See Section</nobr></div>
<div style="position:absolute;top:114427;left:162"><nobr>2.10)</nobr></div>
<div style="position:absolute;top:114457;left:162"><nobr>Therefore when an application program wishes to determine if a Java Bean supports a target</nobr></div>
<div style="position:absolute;top:114478;left:162"><nobr>interface or if it wishes to cast a Java Bean to a target interface, we require that the Beans.in-</nobr></div>
<div style="position:absolute;top:114499;left:162"><nobr>stanceOf and Beans.getInstanceOf methods are used. These methods are initially implemented</nobr></div>
<div style="position:absolute;top:114520;left:162"><nobr>in Beans 1.0 simply in terms of the Java “instanceof” operator, but as we evolve the Java Beans</nobr></div>
<div style="position:absolute;top:114541;left:162"><nobr>APIs this may change. So developers should use these methods now to allow their application</nobr></div>
<div style="position:absolute;top:114562;left:162"><nobr>code to work with future extensions.</nobr></div>
<div style="position:absolute;top:114592;left:162"><nobr>So a typical sequence for attempting to assess if a bean supports a particular API might be:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:114623;left:211"><nobr>DataseBaseAccessor x = getDBAccessor();</nobr></div>
<div style="position:absolute;top:114641;left:211"><nobr>java.awt.Component y = null;</nobr></div>
<div style="position:absolute;top:114659;left:211"><nobr>if (Beans.isInstanceOf(x, java.awt.Component.class)) {</nobr></div>
<div style="position:absolute;top:114677;left:248"><nobr>y = (java.awt.Component) Beans.getInstanceOf(x,</nobr></div>
<div style="position:absolute;top:114695;left:589"><nobr>java.awt.Component.class);</nobr></div>
<div style="position:absolute;top:114713;left:211"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:115411;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="98"><b>Page 98</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:115465;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:116535;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:116535;left:452"><nobr><i>98</i></nobr></div>
<div style="position:absolute;top:116535;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:115519;left:81"><nobr><b>Class Beans</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:115583;left:135"><nobr>public class java.beans.<b>Beans</b></nobr></div>
<div style="position:absolute;top:115601;left:171"><nobr>extends java.lang.<b>Object</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:115636;left:135"><nobr>This class provides some general purpose beans control methods.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:115672;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:115725;left:103"><nobr><b>• getInstanceOf</b></nobr></div>
<div style="position:absolute;top:115748;left:135"><nobr>public static Object</nobr></div>
<div style="position:absolute;top:115766;left:135"><nobr>getInstanceOf(Object bean, Class targetType)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:115798;left:135"><nobr>From a given bean, obtain an object representing a specified type view of that source object.</nobr></div>
<div style="position:absolute;top:115825;left:135"><nobr>The result may be the same object or a different object. If the requested target view isn't available then the given bean</nobr></div>
<div style="position:absolute;top:115843;left:135"><nobr>is returned.</nobr></div>
<div style="position:absolute;top:115870;left:135"><nobr>This method is provided in Beans 1.0 as a hook to allow the addition of more flexible bean behaviour in the future.</nobr></div>
<div style="position:absolute;top:115900;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:115918;left:189"><nobr>obj</nobr></div>
<div style="position:absolute;top:115936;left:221"><nobr>Object from which we want to obtain a view.</nobr></div>
<div style="position:absolute;top:115954;left:189"><nobr>targetType</nobr></div>
<div style="position:absolute;top:115972;left:221"><nobr>The type of view we'd like to get.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:116006;left:103"><nobr><b>• instantiate</b></nobr></div>
<div style="position:absolute;top:116028;left:135"><nobr>public static Object</nobr></div>
<div style="position:absolute;top:116046;left:135"><nobr>instantiate(ClassLoader cls, String beanName)</nobr></div>
<div style="position:absolute;top:116064;left:180"><nobr>throws IOException, ClassNotFoundException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:116096;left:135"><nobr>Instantiate a bean.</nobr></div>
<div style="position:absolute;top:116123;left:135"><nobr>The bean is created based on a name relative to a class-loader. This name should be a dot-separated name such as</nobr></div>
<div style="position:absolute;top:116141;left:135"><nobr>"a.b.c".</nobr></div>
<div style="position:absolute;top:116168;left:135"><nobr>In Beans 1.0 the given name can indicate either a serialized object or a class. Other mechanisms may be added in the</nobr></div>
<div style="position:absolute;top:116186;left:135"><nobr>future. In beans 1.0 we first try to treat the beanName as a serialized object name then as a class name.</nobr></div>
<div style="position:absolute;top:116213;left:135"><nobr>When using the beanName as a serialized object name we convert the given beanName to a resource pathname and</nobr></div>
<div style="position:absolute;top:116231;left:135"><nobr>add a trailing ".ser" suffix. We then try to load a serialized object from that resource.</nobr></div>
<div style="position:absolute;top:116258;left:135"><nobr>For example, given a beanName of "x.y", Beans.instantiate would first try to read a serialized object from the</nobr></div>
<div style="position:absolute;top:116276;left:135"><nobr>resource "x/y.ser" and if that failed it would try to load the class "x.y" and create an instance of that class.</nobr></div>
<div style="position:absolute;top:116303;left:135"><nobr>If the bean is a subtype of java.applet.Applet, then it is given some special initialization. First, it is supplied with a</nobr></div>
<div style="position:absolute;top:116321;left:135"><nobr>default AppletStub and AppletContext. Second, if it was instantiated from a classname the applet's "init" method is</nobr></div>
<div style="position:absolute;top:116339;left:135"><nobr>called. (If the bean was deserialized this step is skipped.)</nobr></div>
<div style="position:absolute;top:116366;left:135"><nobr>Note that for beans which are applets, it is the caller's responsiblity to call "start" on the applet. For correct behaviour,</nobr></div>
<div style="position:absolute;top:116384;left:135"><nobr>this should be done after the applet has been added into a visible AWT container.</nobr></div>
<div style="position:absolute;top:116411;left:135"><nobr>Note that applets created via beans.instantiate run in a slightly different environment than applets running inside</nobr></div>
<div style="position:absolute;top:116429;left:135"><nobr>browsers. In particular, bean applets have no access to "parameters", so they may wish to provide property get/set</nobr></div>
<div style="position:absolute;top:116447;left:135"><nobr>methods to set parameter values. We advise bean-applet developers to test their bean-applets against both the JDK</nobr></div>
<div style="position:absolute;top:116465;left:135"><nobr>appletviewer (for a reference browser environment) and the BDK BeanBox (for a reference bean container).</nobr></div>
</span></font>

<div style="position:absolute;top:116599;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="99"><b>Page 99</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:116653;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:117723;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:117723;left:452"><nobr><i>99</i></nobr></div>
<div style="position:absolute;top:117723;left:791"><nobr><i>7/24/97</i></nobr></div>
<div style="position:absolute;top:116707;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:116725;left:189"><nobr>classLoader</nobr></div>
<div style="position:absolute;top:116743;left:221"><nobr>the class-loader from which we should create the bean. If this is null, then the system class-loader is</nobr></div>
<div style="position:absolute;top:116761;left:221"><nobr>used.</nobr></div>
<div style="position:absolute;top:116779;left:189"><nobr>beanName</nobr></div>
<div style="position:absolute;top:116797;left:221"><nobr>the name of the bean within the class-loader. For example "sun.beanbox.foobah"</nobr></div>
<div style="position:absolute;top:116827;left:135"><nobr><b>Throws: </b>ClassNotFoundException</nobr></div>
<div style="position:absolute;top:116845;left:189"><nobr>if the class of a serialized object could not be found.</nobr></div>
<div style="position:absolute;top:116875;left:135"><nobr><b>Throws: </b>IOException</nobr></div>
<div style="position:absolute;top:116893;left:189"><nobr>if an I/O error occurs.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:116927;left:103"><nobr><b>• isDesignTime</b></nobr></div>
<div style="position:absolute;top:116949;left:135"><nobr>public static boolean isDesignTime()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:116981;left:135"><nobr>Test if we are in design-mode.</nobr></div>
<div style="position:absolute;top:117011;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:117029;left:189"><nobr>True if we are running in an application construction environment.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:117063;left:103"><nobr><b>• isGuiAvailable</b></nobr></div>
<div style="position:absolute;top:117086;left:135"><nobr>public static boolean isGuiAvailable()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:117115;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:117133;left:189"><nobr>True if we are running in an environment where beans can assume that an interactive GUI is available, so</nobr></div>
<div style="position:absolute;top:117151;left:189"><nobr>they can pop up dialog boxes, etc. This will normally return true in a windowing environment, and will nor-</nobr></div>
<div style="position:absolute;top:117169;left:189"><nobr>mally return false in a server environment or if an application is running as part of a batch job.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:117203;left:103"><nobr><b>• isInstanceOf</b></nobr></div>
<div style="position:absolute;top:117225;left:135"><nobr>public static boolean</nobr></div>
<div style="position:absolute;top:117243;left:135"><nobr>isInstanceOf(Object bean, Class targetType)</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:117275;left:135"><nobr>Check if a bean can be viewed as a given target type. The result will be true if the Beans.getInstanceof method can be</nobr></div>
<div style="position:absolute;top:117293;left:135"><nobr>used on the given bean to obtain an object that represents the specified targetType type view.</nobr></div>
<div style="position:absolute;top:117323;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:117341;left:189"><nobr>bean</nobr></div>
<div style="position:absolute;top:117359;left:221"><nobr>Bean from which we want to obtain a view.</nobr></div>
<div style="position:absolute;top:117377;left:189"><nobr>targetType</nobr></div>
<div style="position:absolute;top:117395;left:221"><nobr>The type of view we'd like to get.</nobr></div>
<div style="position:absolute;top:117425;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:117443;left:189"><nobr>"true" if the given bean supports the given targetType.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:117477;left:103"><nobr><b>• setDesignTime</b></nobr></div>
<div style="position:absolute;top:117500;left:135"><nobr>public static void</nobr></div>
<div style="position:absolute;top:117518;left:135"><nobr>setDesignTime(boolean isDesignTime)</nobr></div>
<div style="position:absolute;top:117536;left:180"><nobr>throws SecurityException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:117568;left:135"><nobr>Used to indicate whether of not we are running in an application builder environment. Note that this method is secu-</nobr></div>
<div style="position:absolute;top:117586;left:135"><nobr>rity checked and is not available to (for example) untrusted applets.</nobr></div>
<div style="position:absolute;top:117616;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:117634;left:189"><nobr>isDesignTime</nobr></div>
<div style="position:absolute;top:117652;left:221"><nobr>True if we're in an application builder tool.</nobr></div>
</span></font>

<div style="position:absolute;top:117787;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="100"><b>Page 100</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:117841;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:118911;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:118911;left:448"><nobr><i>100</i></nobr></div>
<div style="position:absolute;top:118911;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:117896;left:103"><nobr><b>• setGuiAvailable</b></nobr></div>
<div style="position:absolute;top:117918;left:135"><nobr>public static void</nobr></div>
<div style="position:absolute;top:117936;left:135"><nobr>setGuiAvailable(boolean isGuiAvailable)</nobr></div>
<div style="position:absolute;top:117954;left:180"><nobr>throws SecurityException</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:117986;left:135"><nobr>Used to indicate whether of not we are running in an environment where GUI interaction is available. Note that this</nobr></div>
<div style="position:absolute;top:118004;left:135"><nobr>method is security checked and is not available to (for example) untrusted applets.</nobr></div>
<div style="position:absolute;top:118034;left:135"><nobr><b>Parameters:</b></nobr></div>
<div style="position:absolute;top:118052;left:189"><nobr>isGuiAvailable</nobr></div>
<div style="position:absolute;top:118070;left:221"><nobr>True if GUI interaction is available.</nobr></div>
</span></font>

<div style="position:absolute;top:118975;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="101"><b>Page 101</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:119029;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:120099;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:120099;left:448"><nobr><i>101</i></nobr></div>
<div style="position:absolute;top:120099;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:119083;left:81"><nobr><b>Interface Visibility</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:119147;left:135"><nobr>public interface java.beans.<b>Visibility</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:119182;left:135"><nobr>Under some circumstances a bean may be run on servers where a GUI is not available. This interface can be used to</nobr></div>
<div style="position:absolute;top:119200;left:135"><nobr>query a bean to determine whether it absolutely needs a gui, and to advise the bean whether a GUI is available.</nobr></div>
<div style="position:absolute;top:119227;left:135"><nobr>This interface is for expert developers, and is not needed for normal simple beans. To avoid confusing end-users we</nobr></div>
<div style="position:absolute;top:119245;left:135"><nobr>avoid using getXXX setXXX design patterns for these methods.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:119281;left:81"><nobr><b>Methods</b></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:119334;left:103"><nobr><b>• avoidingGui</b></nobr></div>
<div style="position:absolute;top:119357;left:135"><nobr>public boolean avoidingGui()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:119386;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:119404;left:189"><nobr>true if the bean is currently avoiding use of the Gui. e.g. due to a call on dontUseGui().</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:119438;left:103"><nobr><b>• dontUseGui</b></nobr></div>
<div style="position:absolute;top:119460;left:135"><nobr>public void dontUseGui()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:119492;left:135"><nobr>This method instructs the bean that it should not use the Gui.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:119526;left:103"><nobr><b>• needsGui</b></nobr></div>
<div style="position:absolute;top:119549;left:135"><nobr>public boolean needsGui()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:119578;left:135"><nobr><b>Returns:</b></nobr></div>
<div style="position:absolute;top:119596;left:189"><nobr>True if the bean absolutely needs a GUI available in order to get its work done.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:119630;left:103"><nobr><b>• okToUseGui</b></nobr></div>
<div style="position:absolute;top:119652;left:135"><nobr>public void okToUseGui()</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:119684;left:135"><nobr>This method instructs the bean that it is OK to use the Gui.</nobr></div>
</span></font>

<div style="position:absolute;top:120163;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="102"><b>Page 102</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:120217;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:120217;left:773"><nobr><i>Packaging</i></nobr></div>
<div style="position:absolute;top:121287;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:121287;left:448"><nobr><i>102</i></nobr></div>
<div style="position:absolute;top:121287;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:120271;left:108"><nobr><b>11 Packaging</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:120319;left:81"><nobr><b>11.1 Goals and Non Goals</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:120352;left:162"><nobr>This chapter specifies the format and conventions needed so that a packaged Java Bean can be</nobr></div>
<div style="position:absolute;top:120373;left:162"><nobr>used by tools and applications.</nobr></div>
<div style="position:absolute;top:120403;left:162"><nobr>The Java Beans specification does <i>not </i>prescribe a format to be used by an application to store</nobr></div>
<div style="position:absolute;top:120424;left:162"><nobr>the Java Beans it uses. In particular, for the special but very important case of an application</nobr></div>
<div style="position:absolute;top:120445;left:162"><nobr>builder, the Java Beans specification does <i>not </i>prescribe a format for projects, <i>nor </i>does it pre-</nobr></div>
<div style="position:absolute;top:120466;left:162"><nobr>scribe a format for the delivery of built applications. So for example, although beans are ini-</nobr></div>
<div style="position:absolute;top:120487;left:162"><nobr>tially delivered as JAR files, they may be arbitrarily repackaged when they are built into an</nobr></div>
<div style="position:absolute;top:120508;left:162"><nobr>application.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:120547;left:81"><nobr><b>11.2 Overview of JAR files</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:120580;left:162"><nobr>Java Beans are packaged and delivered in JAR files, which are a new technology supported in</nobr></div>
<div style="position:absolute;top:120601;left:162"><nobr>JDK1.1. JAR files are used to collect class files, serialized objects, images, help files and sim-</nobr></div>
<div style="position:absolute;top:120622;left:162"><nobr>ilar <i>resource </i>files</nobr></div>
<div style="position:absolute;top:120652;left:162"><nobr>A JAR file is a ZIP format archive file that may optionally have a <i>manifest file </i>(see Section</nobr></div>
<div style="position:absolute;top:120673;left:162"><nobr>11.5 below) with additional information describing the contents of the JAR file. All JAR files</nobr></div>
<div style="position:absolute;top:120694;left:162"><nobr>containing beans must have a manifest describing the beans. A single JAR file may contain</nobr></div>
<div style="position:absolute;top:120715;left:162"><nobr>more than one Java Bean; this simplifies packaging and allows for sharing of classes and re-</nobr></div>
<div style="position:absolute;top:120736;left:162"><nobr>source files at packaging time.</nobr></div>
<div style="position:absolute;top:120766;left:162"><nobr>Classes in a JAR file may be signed; this may grant additional privileges to them (class signing</nobr></div>
<div style="position:absolute;top:120787;left:162"><nobr>uses information that is also stored in the manifest file).</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:120826;left:81"><nobr><b>11.3 Content</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:120859;left:162"><nobr>A JavaBeans JAR file contains a number of entries defining one or more packaged JavaBeans.</nobr></div>
<div style="position:absolute;top:120880;left:162"><nobr>By convention, JAR file entries are given slash-separated names such as “a/b/c”.</nobr></div>
<div style="position:absolute;top:120910;left:162"><nobr>Each JavaBeans JAR may include entries defining:</nobr></div>
<div style="position:absolute;top:120940;left:189"><nobr>1. A set of class files to provide behavior for a Java Bean. These entries must have names</nobr></div>
<div style="position:absolute;top:120961;left:216"><nobr>ending in “.class”. E.g. “foo/bah/Aardvark.class”.</nobr></div>
<div style="position:absolute;top:120991;left:189"><nobr>2. Optionally, a serialized prototype of a bean to be used to initialize the bean. These</nobr></div>
<div style="position:absolute;top:121012;left:216"><nobr>entries must have names ending in “.ser”. E.g. “foo/elk.ser”.</nobr></div>
<div style="position:absolute;top:121042;left:189"><nobr>3. Optional help files in HTML format to provide documentation for the Java Bean. If the</nobr></div>
<div style="position:absolute;top:121063;left:216"><nobr>Java Bean is localized, there might be multiple versions of this documentation, one per</nobr></div>
<div style="position:absolute;top:121084;left:216"><nobr>locale. These entries must have names of the form <i>&lt;locale&gt;<b>/</b>...<b>/</b>&lt;tail&gt;.html</i>.</nobr></div>
<div style="position:absolute;top:121114;left:189"><nobr>4. Optional internationalization information to be used by the bean to localize itself.</nobr></div>
<div style="position:absolute;top:121144;left:189"><nobr>5. Other <i>resource </i>files needed by the Java Bean (like images, sound, video, whatever).</nobr></div>
<div style="position:absolute;top:121165;left:216"><nobr>This is open-ended.</nobr></div>
</span></font>

<div style="position:absolute;top:121351;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="103"><b>Page 103</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:121405;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:121405;left:773"><nobr><i>Packaging</i></nobr></div>
<div style="position:absolute;top:122475;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:122475;left:448"><nobr><i>103</i></nobr></div>
<div style="position:absolute;top:122475;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:121459;left:81"><nobr><b>11.4 Names of Beans</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:121492;left:162"><nobr>The name of a bean is a string comprising a “.” separated sequence of names.</nobr></div>
<div style="position:absolute;top:121522;left:162"><nobr>Beans that are simply instantiated from classes have the same name as the corresponding class.</nobr></div>
<div style="position:absolute;top:121543;left:162"><nobr>These are mapped to JAR entries by replacing each “.”with “/” and adding “.class” at the end.</nobr></div>
<div style="position:absolute;top:121564;left:162"><nobr>So a class “x.y.z” will be read from the JAR entry “x/y/z.class”.</nobr></div>
<div style="position:absolute;top:121594;left:162"><nobr>Beans that are based on serialized prototypes also have “.” separated names similar to class</nobr></div>
<div style="position:absolute;top:121615;left:162"><nobr>names. These are mapped to JAR entries by replacing each “.”with “/” and adding “.ser” at the</nobr></div>
<div style="position:absolute;top:121636;left:162"><nobr>end. So a serialized bean “a.b.c” will be read from the JAR entry “a/b/c.ser”.</nobr></div>
<div style="position:absolute;top:121666;left:162"><nobr>Bean names, like class names, must be unique within a given class loader. To avoid naming</nobr></div>
<div style="position:absolute;top:121687;left:162"><nobr>collisions, bean developers should follow the standard Java de facto naming convention for</nobr></div>
<div style="position:absolute;top:121708;left:162"><nobr>classes, where the top-level package name is a company name.</nobr></div>
<div style="position:absolute;top:121738;left:162"><nobr>A JAR file that contains beans must have a manifest file (see next section) which will indicate</nobr></div>
<div style="position:absolute;top:121759;left:162"><nobr>which of the entries in the JAR archive represent beans. For an entry ending in “.class” this</nobr></div>
<div style="position:absolute;top:121780;left:162"><nobr>means that the corresponding class is a bean, for an entry ending in “.ser” this indicates that the</nobr></div>
<div style="position:absolute;top:121801;left:162"><nobr>entry holds a serialized bean.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:121840;left:81"><nobr><b>11.5 Format of Manifest File</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:121873;left:162"><nobr>As part of the JAR file format, a JAR archive may include a <i>manifest file </i>to describe its con-</nobr></div>
<div style="position:absolute;top:121894;left:162"><nobr>tents. (See the Manifest File specification for a full description.)</nobr></div>
<div style="position:absolute;top:121924;left:162"><nobr>The manifest file must be named “META-INF/MANIFEST.MF”.</nobr></div>
<div style="position:absolute;top:121954;left:162"><nobr>The manifest file in a JAR archive provides information on selected parts of the contents of the</nobr></div>
<div style="position:absolute;top:121975;left:162"><nobr>archive. It is a sequence of <i>sections </i>separated by empty lines. Each section contains one or</nobr></div>
<div style="position:absolute;top:121996;left:162"><nobr>more <i>headers</i>, (so named because they conform to the RFC822 standard) each of the form</nobr></div>
<div style="position:absolute;top:122017;left:162"><nobr>&lt;<i>tag&gt;: &lt;value&gt;. </i>The sections that provide information on files in the archive must have a</nobr></div>
<div style="position:absolute;top:122038;left:162"><nobr>header whose <i>&lt;tag&gt; </i>is <b>Name</b>, and whose <i>&lt;value&gt; </i>is the relative name of the file being de-</nobr></div>
<div style="position:absolute;top:122059;left:162"><nobr>scribed.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:122089;left:194"><nobr>Note that in JDK1.1 manifest entry names must use forward slashes “/” and will not be processed cor-</nobr></div>
<div style="position:absolute;top:122107;left:194"><nobr>rectly if they use backslashes “\”.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:122140;left:162"><nobr>A manifest file can include information describing what beans are in the JAR archive. If a file</nobr></div>
<div style="position:absolute;top:122161;left:162"><nobr>in the JAR archive is a Bean, its corresponding section must contain a header whose <i>&lt;tag&gt; </i>is</nobr></div>
<div style="position:absolute;top:122182;left:162"><nobr><b>Java-Bean</b>, and whose <i>&lt;value</i>&gt; is <b>True </b>(case is not important).</nobr></div>
<div style="position:absolute;top:122212;left:162"><nobr>For example, two relevant sections of a manifest file might be:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:122243;left:201"><nobr>Name: wessex/wonder/bean.class</nobr></div>
<div style="position:absolute;top:122261;left:201"><nobr>Java-Bean: True</nobr></div>
<div style="position:absolute;top:122297;left:201"><nobr>Name: wessex/quaint/bean.ser</nobr></div>
<div style="position:absolute;top:122315;left:201"><nobr>Java-Bean: True</nobr></div>
<div style="position:absolute;top:122333;left:201"><nobr>Depends-On: wessex/wonder/bean.class</nobr></div>
</span></font>

<div style="position:absolute;top:122539;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="104"><b>Page 104</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:122593;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:122593;left:773"><nobr><i>Packaging</i></nobr></div>
<div style="position:absolute;top:123663;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:123663;left:448"><nobr><i>104</i></nobr></div>
<div style="position:absolute;top:123663;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:122647;left:162"><nobr>The JDK 1.1 “jar” command can be used to create a JAR file. For example, the following com-</nobr></div>
<div style="position:absolute;top:122668;left:162"><nobr>mand will create a JAR file fred.jar including the files foo.class and bah.class with a manifest</nobr></div>
<div style="position:absolute;top:122689;left:162"><nobr>that is initialized from manifest.tmp:</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:122720;left:201"><nobr>jar cfm fred.jar manifest.tmp foo.class bah.class</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:122755;left:81"><nobr><b>11.6 Manifest headers used with JavaBeans</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:122788;left:162"><nobr>Three manifest header tags are defined for use with JavaBeans: “Java-Bean”, “Depends-On”,</nobr></div>
<div style="position:absolute;top:122809;left:162"><nobr>and “Design-Time-Only”.</nobr></div>
<div style="position:absolute;top:122843;left:90"><nobr><b>11.6.1</b></nobr></div>
<div style="position:absolute;top:122843;left:162"><nobr><b>Java-Bean</b></nobr></div>
<div style="position:absolute;top:122873;left:162"><nobr>The header tag “Java-Bean” is used to identify JAR entries that represent JavaBeans.</nobr></div>
<div style="position:absolute;top:122903;left:162"><nobr>Each bean in a JAR file must be identified by a Manifest entry with a header line whose tag is</nobr></div>
<div style="position:absolute;top:122924;left:162"><nobr>“Java-Bean” and whose value is “True” (case is not important).</nobr></div>
<div style="position:absolute;top:122954;left:162"><nobr>So for example the following manifest defines two beans, the first of which is in the file “wes-</nobr></div>
<div style="position:absolute;top:122975;left:162"><nobr>sex/bean.class” and is therefore a class for a bean called “wessex.bean” and the second of</nobr></div>
<div style="position:absolute;top:122996;left:162"><nobr>which is in the file “wessex/leaf.ser” and which is therefore a serialized prototype for a bean</nobr></div>
<div style="position:absolute;top:123017;left:162"><nobr>called “wessex.leaf”.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:123048;left:201"><nobr>Name: wessex/bean.class</nobr></div>
<div style="position:absolute;top:123066;left:201"><nobr>Java-Bean: True</nobr></div>
<div style="position:absolute;top:123102;left:201"><nobr>Name: wessex/leaf.ser</nobr></div>
<div style="position:absolute;top:123120;left:201"><nobr>Java-Bean: True</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:123151;left:90"><nobr><b>11.6.2</b></nobr></div>
<div style="position:absolute;top:123151;left:162"><nobr><b>Depends-On</b></nobr></div>
<div style="position:absolute;top:123181;left:162"><nobr>The manifest section for a JAR entry can optionally specify other JAR entries which it depends</nobr></div>
<div style="position:absolute;top:123202;left:162"><nobr>on using the “Depends-On” tag.</nobr></div>
<div style="position:absolute;top:123232;left:162"><nobr>The “Depends-On” tag should be followed by a list of space separated JAR entry names. A giv-</nobr></div>
<div style="position:absolute;top:123253;left:162"><nobr>en “Depends-On” line can specify zero, one, or many dependencies. A given manifest section</nobr></div>
<div style="position:absolute;top:123274;left:162"><nobr>can contain zero, one, or many “Depends-On” lines.</nobr></div>
<div style="position:absolute;top:123304;left:162"><nobr>If a JAR entry’s manifest section contains no “Depends-On” lines, then its dependencies are</nobr></div>
<div style="position:absolute;top:123325;left:162"><nobr>unknown.</nobr></div>
<div style="position:absolute;top:123355;left:162"><nobr>If a bean’s manifest section contains one or more “Depends-On” lines, then these should col-</nobr></div>
<div style="position:absolute;top:123376;left:162"><nobr>lectively define the complete list of JAR entries that this bean depends on. If the list is empty</nobr></div>
<div style="position:absolute;top:123397;left:162"><nobr>then there are no dependencies.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:123427;left:194"><nobr>Note that a JAR entry that supports “Depends-On” must explicitly specify <i>all </i>of its dependencies. It</nobr></div>
<div style="position:absolute;top:123445;left:194"><nobr>does not inherit any indirect dependencies from other JAR entries it depends on.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:123478;left:162"><nobr>For example, the following manifest defines:</nobr></div>
<div style="position:absolute;top:123508;left:172"><nobr>• a bean a.b whose dependencies are unknown</nobr></div>
<div style="position:absolute;top:123538;left:172"><nobr>• a bean x.y which depends on x/a.gif, x/b.gif, and the class mammal.Wombat</nobr></div>
<div style="position:absolute;top:123568;left:172"><nobr>• a bean TinyBean which has no dependencies</nobr></div>
</span></font>

<div style="position:absolute;top:123727;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="105"><b>Page 105</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:123781;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:123781;left:773"><nobr><i>Packaging</i></nobr></div>
<div style="position:absolute;top:124851;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:124851;left:448"><nobr><i>105</i></nobr></div>
<div style="position:absolute;top:124851;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:123835;left:162"><nobr>The manifest also references several JAR entries (x/a.gif, x/b.gif and mammal.Wombat) which</nobr></div>
<div style="position:absolute;top:123856;left:162"><nobr>don’t have manifest entries. Since these don’t have “Depends-On” lines, their dependencies are</nobr></div>
<div style="position:absolute;top:123877;left:162"><nobr>unknown.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:123914;left:201"><nobr>Name: a/b.ser</nobr></div>
<div style="position:absolute;top:123932;left:201"><nobr>Java-Bean: True</nobr></div>
<div style="position:absolute;top:123968;left:201"><nobr>Name: x/y.class</nobr></div>
<div style="position:absolute;top:123986;left:201"><nobr>Java-Bean: True</nobr></div>
<div style="position:absolute;top:124004;left:201"><nobr>Depends-On: x/a.gif x/b.gif</nobr></div>
<div style="position:absolute;top:124022;left:201"><nobr>Depends-On: mammal/Wombat.class</nobr></div>
<div style="position:absolute;top:124058;left:201"><nobr>Name: TinyBean.class</nobr></div>
<div style="position:absolute;top:124076;left:201"><nobr>Java-Bean: true</nobr></div>
<div style="position:absolute;top:124094;left:201"><nobr>Depends-On:</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:124142;left:90"><nobr><b>11.6.3</b></nobr></div>
<div style="position:absolute;top:124142;left:162"><nobr><b>Design-Time-Only</b></nobr></div>
<div style="position:absolute;top:124172;left:162"><nobr>The manifest section for a JAR entry can optionally use the “Design-Time-Only” tag to specify</nobr></div>
<div style="position:absolute;top:124193;left:162"><nobr>whether the given entry is only needed at design time. This means that builder tools may choose</nobr></div>
<div style="position:absolute;top:124214;left:162"><nobr>to exclude the given entry when they are packaging up a bean as part of a constructed applica-</nobr></div>
<div style="position:absolute;top:124235;left:162"><nobr>tion.</nobr></div>
<div style="position:absolute;top:124265;left:162"><nobr>The “Design-Time-Only” tag should be followed by a value of either “True” or “False”.</nobr></div>
<div style="position:absolute;top:124295;left:162"><nobr>So for example, the following manifest defines a bean argle.Bargle and says that the JAR entry</nobr></div>
<div style="position:absolute;top:124316;left:162"><nobr>argle/BargleBeanInfo.class is only needed at design time.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:124347;left:201"><nobr>Name: argle/Bargle.class</nobr></div>
<div style="position:absolute;top:124365;left:201"><nobr>Java-Bean: True</nobr></div>
<div style="position:absolute;top:124401;left:201"><nobr>Name argle/BargleBeanInfo.class</nobr></div>
<div style="position:absolute;top:124419;left:201"><nobr>Design-Time-Only: True</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:124451;left:162"><nobr>Note that under some circumstances tools may wish to pass through some “design time” infor-</nobr></div>
<div style="position:absolute;top:124472;left:162"><nobr>mation. For example, if a tool has merely been used to customize a bean, then it may output a</nobr></div>
<div style="position:absolute;top:124493;left:162"><nobr>new bean that includes all of the design-time information from the original bean. Similarly, if</nobr></div>
<div style="position:absolute;top:124514;left:162"><nobr>a tool is generating beans that it expects to be separately visible and manipulable at run-time</nobr></div>
<div style="position:absolute;top:124535;left:162"><nobr>then it may include the design time information from the original beans.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:124574;left:81"><nobr><b>11.7 Accessing Resource Files</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:124607;left:162"><nobr>Java code occasionally needs to access some information stored in a file. Some examples are</nobr></div>
<div style="position:absolute;top:124628;left:162"><nobr>images, audio files, text messages, as well as serialized objects.</nobr></div>
<div style="position:absolute;top:124658;left:162"><nobr>JDK1.1 provides a basic mechanism to specify a <i>resource </i>used by a class in a way that is in-</nobr></div>
<div style="position:absolute;top:124679;left:162"><nobr>dependent of where the class actually resides (e.g. in a local disk file or through an http based</nobr></div>
<div style="position:absolute;top:124700;left:162"><nobr>ClassLoader). Access to persistent representations of Beans (Section 11.8) uses this basic</nobr></div>
<div style="position:absolute;top:124721;left:162"><nobr>mechanism, as do the I18N facilities in JDK1.1.</nobr></div>
<div style="position:absolute;top:124751;left:162"><nobr>A typical use could be:</nobr></div>
</span></font>

<div style="position:absolute;top:124915;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="106"><b>Page 106</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:124969;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:124969;left:773"><nobr><i>Packaging</i></nobr></div>
<div style="position:absolute;top:126039;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:126039;left:448"><nobr><i>106</i></nobr></div>
<div style="position:absolute;top:126039;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:125024;left:211"><nobr>Class c = Class.forName(“foo.bah.XyzComponent”);</nobr></div>
<div style="position:absolute;top:125042;left:211"><nobr>InputStream x = c.getResourceAsStream(”/foo/bah/MyRedStuff.txt”);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:125068;left:162"><nobr>See the section on <i>resources </i>and <i>Internationalization </i>in JDK1.1 for more details.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:125107;left:81"><nobr><b>11.8 Persistence representation</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:125140;left:162"><nobr>A JAR file may contain serialized prototypes of Java Beans. Not all Java Beans need to have a</nobr></div>
<div style="position:absolute;top:125161;left:162"><nobr>prototype. Those that do will use the Java Object Serialization mechanism (see Chapter 5).</nobr></div>
<div style="position:absolute;top:125191;left:162"><nobr>The prototypes are stored and restored by a simple use of the <i>java.io.ObjectInputStream </i>and</nobr></div>
<div style="position:absolute;top:125212;left:162"><nobr><i>java.io.ObjectOutputStream</i>. Thus, to serialize</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:125243;left:201"><nobr>java.io.OutputStream out = ... // the stream where to serialize</nobr></div>
<div style="position:absolute;top:125261;left:201"><nobr>java.io.ObjectOutputStream s = new java.io.ObjectOutputStream(out);</nobr></div>
<div style="position:absolute;top:125279;left:201"><nobr>s.writeObject(myComponent);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:125305;left:162"><nobr>Deserialization is a little more complex. We will normally want to deserialize a serialized bean</nobr></div>
<div style="position:absolute;top:125326;left:162"><nobr>in the context of a specific class-loader. So we have to first locate a class that we can use to</nobr></div>
<div style="position:absolute;top:125347;left:162"><nobr>identify the source class-loader, and then use Beans.instantiate to instantiate a named bean at</nobr></div>
<div style="position:absolute;top:125368;left:162"><nobr>that class-loader.</nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:125399;left:211"><nobr>ClassLoader cl = Class.forName(“foo.bah.Xyz”).getClassLoader();</nobr></div>
<div style="position:absolute;top:125417;left:211"><nobr>MyStuff x = (MyStuff) Beans.instantiate(cl,”foo.bah.MyRedStuff”);</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:125443;left:162"><nobr>When an object is deserialized from a stream using Beans.instantiate we will use the specified</nobr></div>
<div style="position:absolute;top:125464;left:162"><nobr>class-loader as a source for .class files to satisfy any class dependencies.</nobr></div>
<div style="position:absolute;top:125494;left:162"><nobr>See the documentation on Serialization and on Beans.instantiate for more details.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:125533;left:81"><nobr><b>11.9 Help Documentation</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:125566;left:162"><nobr>Documentation is described as a collection of HTML entries. These entries should be in HTML</nobr></div>
<div style="position:absolute;top:125587;left:162"><nobr>2.0 format. An application using Java Beans may choose to translate the contents of these en-</nobr></div>
<div style="position:absolute;top:125608;left:162"><nobr>tries into whatever format it chooses before presenting it to the user.</nobr></div>
<div style="position:absolute;top:125638;left:162"><nobr>For each bean the optional top-level help documentation can in <i>&lt;locale&gt;<b>/</b>&lt;bean-name&gt;.html</i>.</nobr></div>
<div style="position:absolute;top:125659;left:162"><nobr>(If the documentation is only available for a single locale, the initial <i>&lt;locale&gt;<b>/ </b></i>may be omit-</nobr></div>
<div style="position:absolute;top:125680;left:162"><nobr>ted.)</nobr></div>
<div style="position:absolute;top:125710;left:162"><nobr>Cross references to other information can be presented as hyperlinks, either as relative URLs</nobr></div>
<div style="position:absolute;top:125731;left:162"><nobr>to other html files in the same JAR file, or as absolute URLs that lead back to the vendor’s web</nobr></div>
<div style="position:absolute;top:125752;left:162"><nobr>site.</nobr></div>
</span></font>

<div style="position:absolute;top:126103;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="107"><b>Page 107</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:126157;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:126157;left:619"><nobr><i>Transitional Beans under JDK 1.0.2</i></nobr></div>
<div style="position:absolute;top:127227;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:127227;left:448"><nobr><i>107</i></nobr></div>
<div style="position:absolute;top:127227;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:126211;left:177"><nobr><b>Appendix A: Transitional Beans under JDK 1.0.2</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:126259;left:81"><nobr><b>A.1 Goals.</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:126292;left:162"><nobr>Some of the features of the full 1.0 Java Beans architecture rely on new Java core interfaces</nobr></div>
<div style="position:absolute;top:126313;left:162"><nobr>such as reflection and serialization that are being added in the JDK 1.1.</nobr></div>
<div style="position:absolute;top:126343;left:162"><nobr>However in order to allow the early development and deployment of beans we want to allow</nobr></div>
<div style="position:absolute;top:126364;left:162"><nobr>developers to produce beans that can run under JDK 1.0.2, but which are also fully compatible</nobr></div>
<div style="position:absolute;top:126385;left:162"><nobr>with the final beans architecture.</nobr></div>
<div style="position:absolute;top:126415;left:162"><nobr>To enable this, we are defining a set of rules for “transitional” Beans, which are fully compliant</nobr></div>
<div style="position:absolute;top:126436;left:162"><nobr>with the 1.0 Java Beans architecture, but which can be used to build applets and applications</nobr></div>
<div style="position:absolute;top:126457;left:162"><nobr>that can run on JDK 1.0.2 and on JDK 1.0.2 enabled systems such as Netscape Navigator 3.0</nobr></div>
<div style="position:absolute;top:126478;left:162"><nobr>and Internet Explorer 3.0.</nobr></div>
<div style="position:absolute;top:126508;left:162"><nobr>These transitional beans will necessarily only use a subset of the full bean model. However this</nobr></div>
<div style="position:absolute;top:126529;left:162"><nobr>subset includes the basic property/method/event mechanisms, so that a transitional bean is still</nobr></div>
<div style="position:absolute;top:126550;left:162"><nobr>very useful within a JDK 1.0.2 environment.</nobr></div>
<div style="position:absolute;top:126580;left:162"><nobr>These transitional beans are primarily intended for use with leading edge application builder</nobr></div>
<div style="position:absolute;top:126601;left:162"><nobr>tools.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:126640;left:81"><nobr><b>A.2 Marker classes</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:126673;left:162"><nobr>In several places the Java Beans APIs use particular classes or interfaces as “markers” to de-</nobr></div>
<div style="position:absolute;top:126694;left:162"><nobr>termine that a given class is intended to perform a given role. For example, an event listener</nobr></div>
<div style="position:absolute;top:126715;left:162"><nobr>class must implement the java.util.EventListener interface.</nobr></div>
<div style="position:absolute;top:126745;left:162"><nobr>We would like transitional Beans to use markers for events and serialization, so that these</nobr></div>
<div style="position:absolute;top:126766;left:162"><nobr>markers can be recognized correctly when the transitional beans are used in full JDK 1.1 envi-</nobr></div>
<div style="position:absolute;top:126787;left:162"><nobr>ronments. We require that transitional beans should use three transitional marker classes</nobr></div>
<div style="position:absolute;top:126808;left:162"><nobr>(sunw.util.EventObject, sunw.util.EventListener, sunw.io.Serializable) as needed as markers.</nobr></div>
<div style="position:absolute;top:126838;left:162"><nobr>The fine print explains why.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:126868;left:194"><nobr>We could simply make available the appropriate JDK 1.1 marker classes to developers for use with JDK</nobr></div>
<div style="position:absolute;top:126886;left:194"><nobr>1.0.2. However these marker classes are all in the java.* part of the namespace and many existing</nobr></div>
<div style="position:absolute;top:126904;left:194"><nobr>browsers are reluctant to allow downloading of java.* classes.</nobr></div>
<div style="position:absolute;top:126937;left:194"><nobr>To solve this problem, JavaSoft is making available three interim marker classes (sunw.util.EventOb-</nobr></div>
<div style="position:absolute;top:126955;left:194"><nobr>ject, sunw.util.EventListener and sunw.io.Serializable) that can be downloaded over the net into JDK</nobr></div>
<div style="position:absolute;top:126973;left:194"><nobr>1.0.2 browsers. These classes will be mostly noops under 1.0.2, but as part of JDK 1.1 JavaSoft will</nobr></div>
<div style="position:absolute;top:126991;left:194"><nobr>distribute replacement versions of these classes that correctly inherit from the real marker classes.</nobr></div>
<div style="position:absolute;top:127024;left:194"><nobr>Thus a transitional bean might inherit from sun.io.Serializable to indicate that it is compatible with the</nobr></div>
<div style="position:absolute;top:127042;left:194"><nobr>JDK 1.1 serialization mechanism. When this bean is downloaded into a JDK 1.0.2 system then the JDK</nobr></div>
<div style="position:absolute;top:127060;left:194"><nobr>1.0.2 version of sunw.io.Serializable (which is basically an empty interface) can be downloaded as part</nobr></div>
<div style="position:absolute;top:127078;left:194"><nobr>of the bean. This will allow the bean to run happily on JDK 1.0.2. However when the same bean is run</nobr></div>
<div style="position:absolute;top:127096;left:194"><nobr>on a JDK 1.1 system then the class loader will use the JDK 1.1 version of sunw.io.serializable which</nobr></div>
<div style="position:absolute;top:127114;left:194"><nobr>inherits from java.io.Serializable. When the serialization code comes to examine the bean it will find</nobr></div>
<div style="position:absolute;top:127132;left:194"><nobr>that (by transitive closure) the bean inherits from java.io.Serializable. This will allow the bean to be se-</nobr></div>
<div style="position:absolute;top:127150;left:194"><nobr>rialized on JDK 1.1</nobr></div>
</span></font>

<div style="position:absolute;top:127291;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="108"><b>Page 108</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:127345;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:127345;left:619"><nobr><i>Transitional Beans under JDK 1.0.2</i></nobr></div>
<div style="position:absolute;top:128415;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:128415;left:448"><nobr><i>108</i></nobr></div>
<div style="position:absolute;top:128415;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:127399;left:81"><nobr><b>A.3 Rules for a transitional bean developer</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:127432;left:162"><nobr>In order for a transitional bean to also be usable correctly in a full JDK 1.1 application builder,</nobr></div>
<div style="position:absolute;top:127453;left:162"><nobr>a bean developer must follow these rules:</nobr></div>
<div style="position:absolute;top:127483;left:172"><nobr>• The bean should be delivered in a bean JAR file.</nobr></div>
<div style="position:absolute;top:127513;left:172"><nobr>• The bean should use the getFoo/setFoo patterns (see Section 8.3) for properties.</nobr></div>
<div style="position:absolute;top:127543;left:172"><nobr>• All of the bean’s persistent state must be accessible via getFoo/setFoo properties. This</nobr></div>
<div style="position:absolute;top:127564;left:189"><nobr>allows application builder tools to save and restore the beans state using the property</nobr></div>
<div style="position:absolute;top:127585;left:189"><nobr>accessor methods. The one exception to this rule is that the bean can ignore state in</nobr></div>
<div style="position:absolute;top:127606;left:189"><nobr>java.awt base classes.</nobr></div>
<div style="position:absolute;top:127636;left:172"><nobr>• Any events the bean fires should use the new AWT event model and should use the</nobr></div>
<div style="position:absolute;top:127657;left:189"><nobr>sunw.util.EventObject and sunw.util.EventListener interfaces to mark events and event</nobr></div>
<div style="position:absolute;top:127678;left:189"><nobr>listeners. However in interacting with AWT, the bean must of necessity use the old</nobr></div>
<div style="position:absolute;top:127699;left:189"><nobr>AWT event model to catch AWT events.</nobr></div>
<div style="position:absolute;top:127729;left:172"><nobr>• If the bean is prepared in the future to use automatic serialization then it must inherit</nobr></div>
<div style="position:absolute;top:127750;left:189"><nobr>from the sunw.io.Serializable marker interface.</nobr></div>
<div style="position:absolute;top:127780;left:172"><nobr>• The bean can’t rely on any new 1.1 interfaces.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:127819;left:81"><nobr><b>A.4 Application builder responsibilities</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:127852;left:162"><nobr>To be able to use transitional beans to create JDK 1.0.2 conformant applets and applications,</nobr></div>
<div style="position:absolute;top:127873;left:162"><nobr>an application builder tool must:</nobr></div>
<div style="position:absolute;top:127903;left:172"><nobr>• Read in a bean from a JAR file.</nobr></div>
<div style="position:absolute;top:127933;left:172"><nobr>• It must use its own reflection code to identify properties, events, and public methods,</nobr></div>
<div style="position:absolute;top:127954;left:189"><nobr>following the rules defined in Section 8.</nobr></div>
<div style="position:absolute;top:127984;left:172"><nobr>• Rather than using automatic serialization to store away a bean’s state it must use the</nobr></div>
<div style="position:absolute;top:128005;left:189"><nobr>getXXX methods to read its state and generate some code to call setXXX methods to</nobr></div>
<div style="position:absolute;top:128026;left:189"><nobr>revive the bean. If the bean inherits from a JDK 1.0.2 java.awt.* component class, then</nobr></div>
<div style="position:absolute;top:128047;left:189"><nobr>it must generate code to restore the appropriate AWT state.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:128116;left:81"><nobr><b>A.5 Example of a transitional bean</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:128149;left:162"><nobr>The following three classes define a transitional bean that (a) supports a pair of property acces-</nobr></div>
<div style="position:absolute;top:128170;left:162"><nobr>sor methods for getting and setting a simple boolean property called “debug” and (b) fires a</nobr></div>
<div style="position:absolute;top:128191;left:162"><nobr>beans style event.</nobr></div>
<div style="position:absolute;top:128221;left:162"><nobr>Because it inherits from java.awt.Button, it will also automatically get the “label”, foreground”,</nobr></div>
<div style="position:absolute;top:128242;left:162"><nobr>“background” and “font” properties that can be inferred from the various methods it inherits.</nobr></div>
</span></font>

<div style="position:absolute;top:128479;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="109"><b>Page 109</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:128533;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:128533;left:619"><nobr><i>Transitional Beans under JDK 1.0.2</i></nobr></div>
<div style="position:absolute;top:129603;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:129603;left:448"><nobr><i>109</i></nobr></div>
<div style="position:absolute;top:129603;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:128588;left:211"><nobr>// This class describes the event that gets generated when</nobr></div>
<div style="position:absolute;top:128606;left:211"><nobr>// OurButton gets pushed.</nobr></div>
<div style="position:absolute;top:128636;left:211"><nobr>public class ButtonPushEvent extends sunw.util.EventObject {</nobr></div>
<div style="position:absolute;top:128654;left:248"><nobr>public ButtonPushEvent(java.awt.Component source) {</nobr></div>
<div style="position:absolute;top:128672;left:286"><nobr>super(source);</nobr></div>
<div style="position:absolute;top:128690;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:128708;left:211"><nobr>}</nobr></div>
<div style="position:absolute;top:128744;left:211"><nobr>// This interface describes the method that gets called when</nobr></div>
<div style="position:absolute;top:128762;left:211"><nobr>// an OurButton gets pushed.</nobr></div>
<div style="position:absolute;top:128792;left:211"><nobr>public interface ButtonPushListener extends sunw.util.EventListener {</nobr></div>
<div style="position:absolute;top:128810;left:248"><nobr>public void push(ButtonPushEvent e);</nobr></div>
<div style="position:absolute;top:128828;left:211"><nobr>}</nobr></div>
<div style="position:absolute;top:128864;left:211"><nobr>// The OurButton class is a very minimal bean that simply extends the</nobr></div>
<div style="position:absolute;top:128882;left:211"><nobr>// standard JDK 1.0.2 Button class to throw a bean event.</nobr></div>
<div style="position:absolute;top:128912;left:211"><nobr>public class OurButton extends java.awt.Button implements</nobr></div>
<div style="position:absolute;top:128930;left:589"><nobr>sunw.io.Serializable {</nobr></div>
<div style="position:absolute;top:128948;left:248"><nobr>private boolean dbg;</nobr></div>
<div style="position:absolute;top:128966;left:248"><nobr>private Vector listeners = new Vector();</nobr></div>
<div style="position:absolute;top:128996;left:248"><nobr>public OurButton() {</nobr></div>
<div style="position:absolute;top:129014;left:286"><nobr>this(“press”);</nobr></div>
<div style="position:absolute;top:129032;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:129062;left:248"><nobr>public OurButton(String label) {</nobr></div>
<div style="position:absolute;top:129080;left:286"><nobr>super(label);</nobr></div>
<div style="position:absolute;top:129098;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:129128;left:248"><nobr>// Register an Event Listener.</nobr></div>
<div style="position:absolute;top:129146;left:248"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:129164;left:248"><nobr>addButtonPushListener(ButtonPushListener bl) {</nobr></div>
<div style="position:absolute;top:129182;left:286"><nobr>listeners.addElement(bl);</nobr></div>
<div style="position:absolute;top:129200;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:129230;left:248"><nobr>// Remove an Event Listener.</nobr></div>
<div style="position:absolute;top:129248;left:248"><nobr>public synchronized void</nobr></div>
<div style="position:absolute;top:129266;left:248"><nobr>removeButtonPushListener(ButtonPushListener bl) {</nobr></div>
<div style="position:absolute;top:129284;left:286"><nobr>listeners.removeElement(bl);</nobr></div>
<div style="position:absolute;top:129302;left:248"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:129667;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="110"><b>Page 110</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:129721;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:129721;left:619"><nobr><i>Transitional Beans under JDK 1.0.2</i></nobr></div>
<div style="position:absolute;top:130791;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:130791;left:448"><nobr><i>110</i></nobr></div>
<div style="position:absolute;top:130791;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Courier"><span style="font-size:13px;font-family:Courier">
<div style="position:absolute;top:129776;left:248"><nobr>// Catch an old style AWT event and fire it as a new style event.</nobr></div>
<div style="position:absolute;top:129806;left:248"><nobr>public boolean handleEvent(Event evt) {</nobr></div>
<div style="position:absolute;top:129824;left:286"><nobr>if (evt.id == Event.ACTION_EVENT) {</nobr></div>
<div style="position:absolute;top:129854;left:324"><nobr>// Notify each our our listeners.</nobr></div>
<div style="position:absolute;top:129872;left:319"><nobr>Vector</nobr></div>
<div style="position:absolute;top:129872;left:405"><nobr>l;</nobr></div>
<div style="position:absolute;top:129890;left:319"><nobr>ButtonPushEvent e = new ButtonPushEvent(this);</nobr></div>
<div style="position:absolute;top:129908;left:319"><nobr>synchronized(this) {</nobr></div>
<div style="position:absolute;top:129926;left:362"><nobr>l = (Vector) listeners.clone();</nobr></div>
<div style="position:absolute;top:129944;left:319"><nobr>}</nobr></div>
<div style="position:absolute;top:129974;left:319"><nobr>for (int i = 0; i &lt; l.size(); i++) {</nobr></div>
<div style="position:absolute;top:129992;left:362"><nobr>ButtonPushListener bl =</nobr></div>
<div style="position:absolute;top:130010;left:491"><nobr>(ButtonPushListener)l.elementAt(i);</nobr></div>
<div style="position:absolute;top:130028;left:362"><nobr>bl.push(e);</nobr></div>
<div style="position:absolute;top:130046;left:324"><nobr>}</nobr></div>
<div style="position:absolute;top:130076;left:286"><nobr>}</nobr></div>
<div style="position:absolute;top:130094;left:286"><nobr>return super.handleEvent(evt);</nobr></div>
<div style="position:absolute;top:130112;left:248"><nobr>}</nobr></div>
<div style="position:absolute;top:130148;left:248"><nobr>public boolean isDebug() { return dbg; }</nobr></div>
<div style="position:absolute;top:130166;left:248"><nobr>public void setDebug(boolean x) { dbg = x; }</nobr></div>
<div style="position:absolute;top:130184;left:211"><nobr>}</nobr></div>
</span></font>

<div style="position:absolute;top:130855;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="111"><b>Page 111</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:130909;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:130909;left:732"><nobr><i>Future directions</i></nobr></div>
<div style="position:absolute;top:131979;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:131979;left:448"><nobr><i>111</i></nobr></div>
<div style="position:absolute;top:131979;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:130963;left:286"><nobr><b>Appendix B: Future directions</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:131011;left:162"><nobr>Java Beans 1.0 specifies a complete set of core functionality required for a component archi-</nobr></div>
<div style="position:absolute;top:131032;left:162"><nobr>tecture including support for properties, events, methods, and persistence. However JavaSoft</nobr></div>
<div style="position:absolute;top:131053;left:162"><nobr>is also planning to develop some additional APIs to supplement this core functionality.</nobr></div>
<div style="position:absolute;top:131083;left:162"><nobr>See our web site at http://java.sun.com/beans for the latest information on future directions for</nobr></div>
<div style="position:absolute;top:131104;left:162"><nobr>JavaBeans and for review drafts of the various specifications as they emerge.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:131143;left:81"><nobr><b>B.1 Glasgow</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:131176;left:162"><nobr>The “Glasgow” release will be the first update to the JavaBeans APIs.</nobr></div>
<div style="position:absolute;top:131206;left:162"><nobr>It is currently planned to ship in the second half of 1997 and is expected to include:</nobr></div>
<div style="position:absolute;top:131236;left:172"><nobr>• Support for aggregating several objects to make a bean, based on the</nobr></div>
<div style="position:absolute;top:131257;left:189"><nobr>Beans.isInstanceOf and Beans.getInstanceOf APIs provided in Beans 1.0</nobr></div>
<div style="position:absolute;top:131287;left:172"><nobr>• Support for bean contexts. This provides a containment hierarchy for JavaBeans and</nobr></div>
<div style="position:absolute;top:131308;left:189"><nobr>provides ways for beans to find context-specific information such as design-mode</nobr></div>
<div style="position:absolute;top:131329;left:189"><nobr>versus run-mode.</nobr></div>
<div style="position:absolute;top:131359;left:172"><nobr>• Support for using beans as MIME viewers. This includes the ability for a bean to act as</nobr></div>
<div style="position:absolute;top:131380;left:189"><nobr>a viewer for a given kind of MIME typed data.</nobr></div>
<div style="position:absolute;top:131410;left:172"><nobr>• Drag and drop support.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:131449;left:81"><nobr><b>B.2 Edinburgh</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:131482;left:162"><nobr>The “Edinburgh” release will add further functionality after Glasgow.</nobr></div>
<div style="position:absolute;top:131512;left:162"><nobr>We’re still investigating features for Edinburgh, but it is likely to include:</nobr></div>
<div style="position:absolute;top:131542;left:172"><nobr>• Support for toolbar and menubar merging</nobr></div>
<div style="position:absolute;top:131572;left:172"><nobr>• An online component help system</nobr></div>
<div style="position:absolute;top:131602;left:162"><nobr>We’re also investigating whether or not we ought to provide some support for structured stor-</nobr></div>
<div style="position:absolute;top:131623;left:162"><nobr>age. However we haven’t yet reached a conclusion on this.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:131662;left:81"><nobr><b>B.3 InfoBus</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:131695;left:162"><nobr>JavaSoft is working with Lotus Development Corp to turn Lotus’s InfoBus technology ino a</nobr></div>
<div style="position:absolute;top:131716;left:162"><nobr>Java standard. This will probably be made available sometime between the Glasgow and Ed-</nobr></div>
<div style="position:absolute;top:131737;left:162"><nobr>inburgh Beans releases.</nobr></div>
<div style="position:absolute;top:131767;left:162"><nobr>Infobus provides a dynamic data transfer mechanism between beans that allows beans to ex-</nobr></div>
<div style="position:absolute;top:131788;left:162"><nobr>change and display structured data. For example a spreadsheet bean to publish rows and col-</nobr></div>
<div style="position:absolute;top:131809;left:162"><nobr>umns that can then be graphed by a charting bean. Or a database viewer bean can publish</nobr></div>
<div style="position:absolute;top:131830;left:162"><nobr>database rows for display and analysis by other beans.</nobr></div>
</span></font>

<div style="position:absolute;top:132043;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="112"><b>Page 112</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:132097;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:132097;left:742"><nobr><i>Change History</i></nobr></div>
<div style="position:absolute;top:133167;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:133167;left:448"><nobr><i>112</i></nobr></div>
<div style="position:absolute;top:133167;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="4" face="Times"><span style="font-size:25px;font-family:Times">
<div style="position:absolute;top:132151;left:294"><nobr><b>Appendix C: Change History</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:132199;left:162"><nobr>For changes between Version 1.00-A (December 1996) and 1.01 there are change bars on the</nobr></div>
<div style="position:absolute;top:132220;left:162"><nobr>text, but not on the javadoc API definitions as these are mechanically generated.</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:132259;left:81"><nobr><b>C.1 Changes between 1.00 (October ‘96) and 1.00-A (December ‘96).</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:132292;left:162"><nobr>Since the release of the initial JavaBeans 1.0 text in October we’ve made some minor tweaks</nobr></div>
<div style="position:absolute;top:132313;left:162"><nobr>to add in some small pieces of missing functionality (notably icons), to tighten up some defi-</nobr></div>
<div style="position:absolute;top:132334;left:162"><nobr>nitions (particularly around manifest files and bound properties), and to fix one potential source</nobr></div>
<div style="position:absolute;top:132355;left:162"><nobr>of errors (the use of class name strings). Added BeanInfo.getIcon method and 4 static constants</nobr></div>
<div style="position:absolute;top:132376;left:162"><nobr>for different icons. This allows BeanInfo classes to specify icons to represent their bean in tool-</nobr></div>
<div style="position:absolute;top:132397;left:162"><nobr>bars and toolboxes.</nobr></div>
<div style="position:absolute;top:132427;left:172"><nobr>• Added support in EventSetDescriptor for MethodDescriptor objects (in addition to</nobr></div>
<div style="position:absolute;top:132448;left:189"><nobr>Method objects) for listener methods. There is a new EventSetDescriptor constructor</nobr></div>
<div style="position:absolute;top:132469;left:189"><nobr>taking MethodDescriptor objects as an alternative to Method objects, and you can use</nobr></div>
<div style="position:absolute;top:132490;left:189"><nobr>getListenerMethodsDescriptors to retrieve MethodDescriptors instead of Methods.</nobr></div>
<div style="position:absolute;top:132511;left:189"><nobr>This allows BeanInfo classes to provide more detailed information about event listener</nobr></div>
<div style="position:absolute;top:132532;left:189"><nobr>methods.</nobr></div>
<div style="position:absolute;top:132562;left:172"><nobr>• In the various Descriptor methods replaced the use of class name strings with Class</nobr></div>
<div style="position:absolute;top:132583;left:189"><nobr>objects. This reflects the fact that in Java class name strings are actually context</nobr></div>
<div style="position:absolute;top:132604;left:189"><nobr>sensitive, so that a class name that makes sense in one piece of code (with one class</nobr></div>
<div style="position:absolute;top:132625;left:189"><nobr>loader) may be inaccessible to another piece of code that uses a different class loader.</nobr></div>
<div style="position:absolute;top:132646;left:189"><nobr>Therefore it is better to use Class objects as these have global scope. A new feature in</nobr></div>
<div style="position:absolute;top:132667;left:189"><nobr>JDK 1.1 “class literals” makes it easier to reference Class objects for specific classes.</nobr></div>
<div style="position:absolute;top:132697;left:172"><nobr>• Clarified that property accessor methods may throw checked exceptions (Section 7.3)</nobr></div>
<div style="position:absolute;top:132727;left:172"><nobr>• Specified that the JAR manifest file must be called META-INF/MANIFEST.MF</nobr></div>
<div style="position:absolute;top:132748;left:189"><nobr>(Section 11.5).</nobr></div>
<div style="position:absolute;top:132778;left:172"><nobr>• Several minor changes to tighten up the specification of bound and constrained</nobr></div>
<div style="position:absolute;top:132799;left:189"><nobr>properties:</nobr></div>
<div style="position:absolute;top:132829;left:226"><nobr>- Updated Section 7.4.1 to specify that propertyChange events should be fired</nobr></div>
<div style="position:absolute;top:132850;left:243"><nobr><b>after </b>the property change has been applied</nobr></div>
<div style="position:absolute;top:132880;left:226"><nobr>- Updated Section 7.4.2 to specify that vetoableChange events should be fired</nobr></div>
<div style="position:absolute;top:132901;left:243"><nobr><b>before </b>the property change has been applied.</nobr></div>
<div style="position:absolute;top:132931;left:226"><nobr>- Updated Section 7.4.3 to specify that for properties that are both bound and</nobr></div>
<div style="position:absolute;top:132952;left:243"><nobr>constrained you should fire a VetoableChangeListener.vetoableChange event</nobr></div>
<div style="position:absolute;top:132973;left:243"><nobr>before updating the property and a PropertyChangeListener.propertyChange</nobr></div>
<div style="position:absolute;top:132994;left:243"><nobr>event after updating the property.</nobr></div>
<div style="position:absolute;top:133024;left:226"><nobr>- Added Section 7.4.4 advising that updates to bound and constrained properties</nobr></div>
<div style="position:absolute;top:133045;left:243"><nobr>should not fire events if they are simply setting a value that is the same as the</nobr></div>
<div style="position:absolute;top:133066;left:243"><nobr>current value.</nobr></div>
</span></font>

<div style="position:absolute;top:133231;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="113"><b>Page 113</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:133285;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:133285;left:742"><nobr><i>Change History</i></nobr></div>
<div style="position:absolute;top:134355;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:134355;left:448"><nobr><i>113</i></nobr></div>
<div style="position:absolute;top:134355;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:133339;left:81"><nobr><b>C.2 Changes between 1.00-A and 1.01 to reflect the final JDK 1.1 APIs</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:133372;left:173"><nobr>• Stated that Beans.instantiate takes a dot separated name that can name either a class or</nobr></div>
<div style="position:absolute;top:133393;left:189"><nobr>a serialized form.</nobr></div>
<div style="position:absolute;top:133423;left:173"><nobr>• Added applet support to Beans.instantiate, so that an applet that is a bean will be given</nobr></div>
<div style="position:absolute;top:133444;left:189"><nobr>a default AppletContext and AppletStub</nobr></div>
<div style="position:absolute;top:133474;left:173"><nobr>• In Section 6 added specification of TooManyListenersException (this had been omitted</nobr></div>
<div style="position:absolute;top:133495;left:189"><nobr>by accident).</nobr></div>
<div style="position:absolute;top:133525;left:173"><nobr>• In Section 9 added specification of PropertyEditorSupport (this had been omitted by</nobr></div>
<div style="position:absolute;top:133546;left:189"><nobr>accident).</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:133585;left:81"><nobr><b>C.3 Additional updates between 1.00-A and 1.01</b></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:133618;left:173"><nobr>• Updated Appendix B “Future Directions” to reflect our current plans.</nobr></div>
<div style="position:absolute;top:133648;left:173"><nobr>• Changed example scenarios (Section 3) to use Beans.instantiate</nobr></div>
<div style="position:absolute;top:133678;left:173"><nobr>• Clarified in Section 11.6.1 that a JAR file containing beans must have a Manifest</nobr></div>
<div style="position:absolute;top:133699;left:189"><nobr>identifying the beans.</nobr></div>
<div style="position:absolute;top:133729;left:173"><nobr>• In Section 11.5 emphasized that in JDK1.1 names within manifests must use forward</nobr></div>
<div style="position:absolute;top:133750;left:189"><nobr>slashes “/”.</nobr></div>
<div style="position:absolute;top:133780;left:173"><nobr>• In Section 7.4.3 explained how a “two phase” mechanism can be used to accurately</nobr></div>
<div style="position:absolute;top:133801;left:189"><nobr>monitor the state of a bound and constrained property.</nobr></div>
<div style="position:absolute;top:133831;left:173"><nobr>• In PropertyEditor clarified that the paintValue method can change the graphics context</nobr></div>
<div style="position:absolute;top:133852;left:189"><nobr>and needn’t restore the old state.</nobr></div>
<div style="position:absolute;top:133882;left:173"><nobr>• Defined two new Manifest tags for use with JavaBeans: “Depends-On” (Section 11.6.2)</nobr></div>
<div style="position:absolute;top:133903;left:189"><nobr>and “Design-Time-Only” (Section 11.6.3).</nobr></div>
<div style="position:absolute;top:133933;left:173"><nobr>• Added Section 5.4 “Persistence through generated initialization code” documentng</nobr></div>
<div style="position:absolute;top:133954;left:189"><nobr>how a bean can be resurrected using generated source code.</nobr></div>
<div style="position:absolute;top:133984;left:173"><nobr>• By popular demand, added an explicit statement that beans are not required to inherit</nobr></div>
<div style="position:absolute;top:134005;left:189"><nobr>from any standard base class or interface. (Section 2.1).</nobr></div>
<div style="position:absolute;top:134035;left:173"><nobr>• Added an exhortation to support the PropertyEditor.getJavaInitializationString method</nobr></div>
<div style="position:absolute;top:134056;left:189"><nobr>in PropertyEditors (Section 9.2.5)</nobr></div>
<div style="position:absolute;top:134086;left:173"><nobr>• By popular demand, defined a new convention so that a bean can allow registration of</nobr></div>
<div style="position:absolute;top:134107;left:189"><nobr>PropertyChangeListeners or VetoableChangeListeners for named properties (Section</nobr></div>
<div style="position:absolute;top:134128;left:189"><nobr>7.4.5).</nobr></div>
</span></font>

<div style="position:absolute;top:134419;left:0"><hr><table border="0" width="100%"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="114"><b>Page 114</b></a></font></td></tr></tbody></table></div><font size="3" face="Times"><span style="font-size:13px;font-family:Times">
<div style="position:absolute;top:134473;left:81"><nobr><i>JavaBeans</i></nobr></div>
<div style="position:absolute;top:134473;left:649"><nobr><i>Index of Classes and Interfaces</i></nobr></div>
<div style="position:absolute;top:135543;left:81"><nobr><i>Sun Microsystems</i></nobr></div>
<div style="position:absolute;top:135543;left:448"><nobr><i>114</i></nobr></div>
<div style="position:absolute;top:135543;left:791"><nobr><i>7/24/97</i></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:16px;font-family:Times">
<div style="position:absolute;top:134581;left:135"><nobr>BeanDescriptor . . . . . . . . . . . . . . . . . 59</nobr></div>
<div style="position:absolute;top:134606;left:135"><nobr>BeanInfo . . . . . . . . . . . . . . . . . . . . . . 60</nobr></div>
<div style="position:absolute;top:134632;left:135"><nobr>Beans. . . . . . . . . . . . . . . . . . . . . . . . . 98</nobr></div>
<div style="position:absolute;top:134657;left:135"><nobr>Customizer . . . . . . . . . . . . . . . . . . . . 87</nobr></div>
<div style="position:absolute;top:134683;left:135"><nobr>EventListener . . . . . . . . . . . . . . . . . . 37</nobr></div>
<div style="position:absolute;top:134708;left:135"><nobr>EventObject. . . . . . . . . . . . . . . . . . . . 38</nobr></div>
<div style="position:absolute;top:134734;left:135"><nobr>EventSetDescriptor . . . . . . . . . . . . . . 63</nobr></div>
<div style="position:absolute;top:134759;left:135"><nobr>FeatureDescriptor . . . . . . . . . . . . . . . 67</nobr></div>
<div style="position:absolute;top:134785;left:135"><nobr>IndexedPropertyDescriptor. . . . . . . . 70</nobr></div>
<div style="position:absolute;top:134810;left:135"><nobr>IntrospectionException . . . . . . . . . . . 73</nobr></div>
<div style="position:absolute;top:134836;left:135"><nobr>Introspector . . . . . . . . . . . . . . . . . . . . 74</nobr></div>
<div style="position:absolute;top:134861;left:135"><nobr>MethodDescriptor . . . . . . . . . . . . . . . 76</nobr></div>
<div style="position:absolute;top:134887;left:135"><nobr>ParameterDescriptor . . . . . . . . . . . . . 77</nobr></div>
<div style="position:absolute;top:134912;left:135"><nobr>PropertyChangeEvent . . . . . . . . . . . . 46</nobr></div>
<div style="position:absolute;top:134938;left:135"><nobr>PropertyChangeListener . . . . . . . . . . 48</nobr></div>
<div style="position:absolute;top:134963;left:135"><nobr>PropertyChangeSupport . . . . . . . . . . 49</nobr></div>
<div style="position:absolute;top:134989;left:135"><nobr>PropertyDescriptor . . . . . . . . . . . . . . 78</nobr></div>
<div style="position:absolute;top:135014;left:135"><nobr>PropertyEditor. . . . . . . . . . . . . . . . . . 88</nobr></div>
<div style="position:absolute;top:135040;left:135"><nobr>PropertyEditorManager. . . . . . . . . . . 91</nobr></div>
<div style="position:absolute;top:134581;left:513"><nobr>PropertyEditorSupport . . . . . . . . . . . 93</nobr></div>
<div style="position:absolute;top:134606;left:513"><nobr>PropertyVetoException. . . . . . . . . . . 50</nobr></div>
<div style="position:absolute;top:134632;left:513"><nobr>SimpleBeanInfo . . . . . . . . . . . . . . . . 81</nobr></div>
<div style="position:absolute;top:134657;left:513"><nobr>TooManyListenersException . . . . . . 39</nobr></div>
<div style="position:absolute;top:134683;left:513"><nobr>VetoableChangeListener. . . . . . . . . . 51</nobr></div>
<div style="position:absolute;top:134708;left:513"><nobr>VetoableChangeSupport . . . . . . . . . . 52</nobr></div>
<div style="position:absolute;top:134734;left:513"><nobr>Visibility . . . . . . . . . . . . . . . . . . . . . . 101</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:19px;font-family:Times">
<div style="position:absolute;top:134500;left:347"><nobr><b>Index of Classes and Interfaces</b></nobr></div>
</span></font>


</div></body></html>